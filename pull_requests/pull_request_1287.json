{
    "reason": "",
    "state": "MERGED",
    "updated_on": "2014-10-29T04:29:26.541591+00:00",
    "comment_count": 17,
    "description": "This adds `uintersetct1d` and `uunion1d`, wrappers for `numpy.intersect1d` and `numpy.union1d` that know about `YTArray` units.\r\n\r\nIt also make a modification to the `YTArray.__array_finalize__` function.  Before, numpy C intrinsics like `intersect1d` and `concatenate` that don't enter `__array_wrap__` would return a YTArray object with a unit attribute set to `None`.  This breaks duck typing elsewhere in yt, causing confusing tracebacks.\r\n\r\nRather than attaching `None`, this change makes it so a dimensionless `Unit` object is attached if no units can be inferred from the context ndarray subclassing machinery gives us.  I've added a test for the behavior, just in case a change in a future version of numpy breaks this.\r\n\r\nLastly, I've added `uconcatenate`, `uintersect1d`, and `uunion1d` to the top-level `yt` namespace to make it easier to get at them for people working with `YTArray`.\r\n\r\nIt might be worthwhile to bring this issue up on numpy's github?",
    "created_on": "2014-10-27T02:18:38.922125+00:00",
    "task_count": 0,
    "merge_commit": null,
    "title": "Adding numpy wrapper functions, improving (but not 100% fixing) pure wrapping semantics.  Closes #930",
    "links": {
        "diff": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287/diff"
        },
        "decline": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287/decline"
        },
        "self": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287"
        },
        "activity": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287/activity"
        },
        "merge": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287/merge"
        },
        "commits": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287/commits"
        },
        "statuses": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287/statuses"
        },
        "approve": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287/approve"
        },
        "html": {
            "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1287"
        },
        "comments": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287/comments"
        }
    },
    "closed_by": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/jzuhone"
            },
            "html": {
                "href": "https://bitbucket.org/jzuhone/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/jzuhone/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "John ZuHone",
        "uuid": "{0c51edfa-e317-432f-bbef-7401c6e2aa8a}",
        "username": "jzuhone"
    },
    "id": 1287,
    "type": "pullrequest",
    "author": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
            },
            "html": {
                "href": "https://bitbucket.org/ngoldbaum/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "Nathan Goldbaum",
        "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
        "username": "ngoldbaum"
    },
    "source": {
        "branch": {
            "name": "yt"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/ngoldbaum/yt/commit/320c9d829499"
                }
            },
            "hash": "320c9d829499"
        },
        "repository": {
            "full_name": "ngoldbaum/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/ngoldbaum/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/ngoldbaum/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/ngoldbaum/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{cb18d7d9-ab77-4e80-81ed-8d32a945e0ef}"
        }
    },
    "close_source_branch": false,
    "destination": {
        "branch": {
            "name": "yt"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/9dd19b71e068"
                }
            },
            "hash": "9dd19b71e068"
        },
        "repository": {
            "full_name": "yt_analysis/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/yt_analysis/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{b73cb37c-40f2-493a-aaa9-41bc8d8974cc}"
        }
    },
    "comments": [
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/drudd"
                    },
                    "html": {
                        "href": "https://bitbucket.org/drudd/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/drudd/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Douglas Rudd",
                "uuid": "{e77bd1fb-b3d9-4763-a121-43d2028b2bbd}",
                "username": "drudd"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287/comments/3606544"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/ngoldbaum/yt:320c9d829499..9dd19b71e068?path=yt%2Funits%2Fyt_array.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1287/_/diff#comment-3606544"
                }
            },
            "pullrequest": {
                "title": "Adding numpy wrapper functions, improving (but not 100% fixing) pure wrapping semantics.  Closes #930",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1287"
                    }
                },
                "id": 1287
            },
            "content": {
                "raw": "I think it would be better to change this to \n\n```\n#!python\n\nself.units = getattr(obj, 'units', NULL_UNIT)\n```",
                "html": "<p>I think it would be better to change this to </p>\n<div class=\"codehilite\"><pre><span></span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">units</span> <span class=\"o\">=</span> <span class=\"nb\">getattr</span><span class=\"p\">(</span><span class=\"n\">obj</span><span class=\"p\">,</span> <span class=\"s1\">&#39;units&#39;</span><span class=\"p\">,</span> <span class=\"n\">NULL_UNIT</span><span class=\"p\">)</span>\n</pre></div>",
                "markup": "markdown"
            },
            "created_on": "2014-10-27T02:24:05.021136+00:00",
            "updated_on": "2014-10-27T02:24:05.030881+00:00",
            "inline": {
                "from": 342,
                "path": "yt/units/yt_array.py",
                "to": null
            },
            "id": 3606544
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/drudd"
                    },
                    "html": {
                        "href": "https://bitbucket.org/drudd/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/drudd/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Douglas Rudd",
                "uuid": "{e77bd1fb-b3d9-4763-a121-43d2028b2bbd}",
                "username": "drudd"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287/comments/3606549"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1287/_/diff#comment-3606549"
                }
            },
            "pullrequest": {
                "title": "Adding numpy wrapper functions, improving (but not 100% fixing) pure wrapping semantics.  Closes #930",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1287"
                    }
                },
                "id": 1287
            },
            "content": {
                "raw": "I think this is fine.  I also wrote uintersect1d and uunion1d functions that I'll be attaching to my compose PR and we can decide which to keep.",
                "html": "<p>I think this is fine.  I also wrote uintersect1d and uunion1d functions that I'll be attaching to my compose PR and we can decide which to keep.</p>",
                "markup": "markdown"
            },
            "created_on": "2014-10-27T02:25:13.106658+00:00",
            "updated_on": "2014-10-27T02:25:13.115133+00:00",
            "id": 3606549
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287/comments/3606553"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1287/_/diff#comment-3606553"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287/comments/3606549"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1287/_/diff#comment-3606549"
                    }
                },
                "id": 3606549
            },
            "pullrequest": {
                "title": "Adding numpy wrapper functions, improving (but not 100% fixing) pure wrapping semantics.  Closes #930",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1287"
                    }
                },
                "id": 1287
            },
            "content": {
                "raw": "Want to just paste the diffs here?",
                "html": "<p>Want to just paste the diffs here?</p>",
                "markup": "markdown"
            },
            "created_on": "2014-10-27T02:26:46.274229+00:00",
            "updated_on": "2014-10-27T02:26:46.281058+00:00",
            "id": 3606553
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287/comments/3606554"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/ngoldbaum/yt:None..None?path=yt%2Funits%2Fyt_array.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1287/_/diff#comment-3606554"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287/comments/3606544"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1287/_/diff#comment-3606544"
                    }
                },
                "id": 3606544
            },
            "pullrequest": {
                "title": "Adding numpy wrapper functions, improving (but not 100% fixing) pure wrapping semantics.  Closes #930",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1287"
                    }
                },
                "id": 1287
            },
            "content": {
                "raw": "I worry about attaching identical unit objects to different array instances.  Looking at it we use that pattern elsewhere, I don't think it actually matters.  I'm going to change it.",
                "html": "<p>I worry about attaching identical unit objects to different array instances.  Looking at it we use that pattern elsewhere, I don't think it actually matters.  I'm going to change it.</p>",
                "markup": "markdown"
            },
            "created_on": "2014-10-27T02:26:48.381929+00:00",
            "updated_on": "2014-10-27T02:26:48.390255+00:00",
            "inline": {
                "from": null,
                "path": "yt/units/yt_array.py",
                "to": null
            },
            "id": 3606554
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/drudd"
                    },
                    "html": {
                        "href": "https://bitbucket.org/drudd/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/drudd/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Douglas Rudd",
                "uuid": "{e77bd1fb-b3d9-4763-a121-43d2028b2bbd}",
                "username": "drudd"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287/comments/3606672"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1287/_/diff#comment-3606672"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287/comments/3606553"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1287/_/diff#comment-3606553"
                    }
                },
                "id": 3606553
            },
            "pullrequest": {
                "title": "Adding numpy wrapper functions, improving (but not 100% fixing) pure wrapping semantics.  Closes #930",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1287"
                    }
                },
                "id": 1287
            },
            "content": {
                "raw": "\n```\n#!python\n\ndef uintersect1d(ar1, ar2, assume_unique=False):\n    \"\"\"\n    Find the intersection of two YTArrays. Must have identical units\n    but otherwise identical to numpy.intersect1d\n\n    Examples\n    --------\n    >>> A = yt.YTArray([1,2,3,4], 'cm')\n    >>> B = yt.YTArray([3,1,2,1], 'cm')\n    >>> yt.units.yt_array.uintersect1d(A, B)\n    YTArray([ 1.,  2.,  3.]) cm\n\n    \"\"\"\n    if not isinstance(ar1, YTArray) or not isinstance(ar2, YTArray):\n        raise RuntimeError(\"Parameters should be YTArrays\")\n    if not assume_unique:\n        ar1 = np.unique(ar1)\n        ar2 = np.unique(ar2)\n    aux = uconcatenate((ar1, ar2))\n    aux.sort()\n    return aux[:-1][aux[1:] == aux[:-1]]\n```",
                "html": "<div class=\"codehilite\"><pre><span></span><span class=\"k\">def</span> <span class=\"nf\">uintersect1d</span><span class=\"p\">(</span><span class=\"n\">ar1</span><span class=\"p\">,</span> <span class=\"n\">ar2</span><span class=\"p\">,</span> <span class=\"n\">assume_unique</span><span class=\"o\">=</span><span class=\"bp\">False</span><span class=\"p\">):</span>\n    <span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Find the intersection of two YTArrays. Must have identical units</span>\n<span class=\"sd\">    but otherwise identical to numpy.intersect1d</span>\n\n<span class=\"sd\">    Examples</span>\n<span class=\"sd\">    --------</span>\n<span class=\"sd\">    &gt;&gt;&gt; A = yt.YTArray([1,2,3,4], &#39;cm&#39;)</span>\n<span class=\"sd\">    &gt;&gt;&gt; B = yt.YTArray([3,1,2,1], &#39;cm&#39;)</span>\n<span class=\"sd\">    &gt;&gt;&gt; yt.units.yt_array.uintersect1d(A, B)</span>\n<span class=\"sd\">    YTArray([ 1.,  2.,  3.]) cm</span>\n\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"nb\">isinstance</span><span class=\"p\">(</span><span class=\"n\">ar1</span><span class=\"p\">,</span> <span class=\"n\">YTArray</span><span class=\"p\">)</span> <span class=\"ow\">or</span> <span class=\"ow\">not</span> <span class=\"nb\">isinstance</span><span class=\"p\">(</span><span class=\"n\">ar2</span><span class=\"p\">,</span> <span class=\"n\">YTArray</span><span class=\"p\">):</span>\n        <span class=\"k\">raise</span> <span class=\"ne\">RuntimeError</span><span class=\"p\">(</span><span class=\"s2\">&quot;Parameters should be YTArrays&quot;</span><span class=\"p\">)</span>\n    <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">assume_unique</span><span class=\"p\">:</span>\n        <span class=\"n\">ar1</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">unique</span><span class=\"p\">(</span><span class=\"n\">ar1</span><span class=\"p\">)</span>\n        <span class=\"n\">ar2</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">unique</span><span class=\"p\">(</span><span class=\"n\">ar2</span><span class=\"p\">)</span>\n    <span class=\"n\">aux</span> <span class=\"o\">=</span> <span class=\"n\">uconcatenate</span><span class=\"p\">((</span><span class=\"n\">ar1</span><span class=\"p\">,</span> <span class=\"n\">ar2</span><span class=\"p\">))</span>\n    <span class=\"n\">aux</span><span class=\"o\">.</span><span class=\"n\">sort</span><span class=\"p\">()</span>\n    <span class=\"k\">return</span> <span class=\"n\">aux</span><span class=\"p\">[:</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">][</span><span class=\"n\">aux</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">:]</span> <span class=\"o\">==</span> <span class=\"n\">aux</span><span class=\"p\">[:</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]]</span>\n</pre></div>",
                "markup": "markdown"
            },
            "created_on": "2014-10-27T02:55:53.601008+00:00",
            "updated_on": "2014-10-27T02:55:53.610659+00:00",
            "id": 3606672
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/drudd"
                    },
                    "html": {
                        "href": "https://bitbucket.org/drudd/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/drudd/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Douglas Rudd",
                "uuid": "{e77bd1fb-b3d9-4763-a121-43d2028b2bbd}",
                "username": "drudd"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287/comments/3606673"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1287/_/diff#comment-3606673"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287/comments/3606553"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1287/_/diff#comment-3606553"
                    }
                },
                "id": 3606553
            },
            "pullrequest": {
                "title": "Adding numpy wrapper functions, improving (but not 100% fixing) pure wrapping semantics.  Closes #930",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1287"
                    }
                },
                "id": 1287
            },
            "content": {
                "raw": "\n```\n#!python\n\ndef uunion1d(ar1, ar2):\n    \"\"\"\n    Find the union of two YTArrays. Must have identical units but otherwise\n    identical to numpy.union1d\n\n    Examples\n    --------\n    >>> A = yt.YTArray([1,2], 'cm')\n    >>> B = yt.YTArray([3,4], 'cm')\n    >>> yt.units.yt_array..uunion1d(A, B)\n    YTArray([ 1., 2., 3., 4.]) cm\n\n    \"\"\"\n    if not isinstance(ar1, YTArray) or not isinstance(ar2, YTArray):\n        raise RuntimeError(\"Parameters should be YTArrays\")\n    return np.unique(uconcatenate((ar1, ar2)))\n```",
                "html": "<div class=\"codehilite\"><pre><span></span><span class=\"k\">def</span> <span class=\"nf\">uunion1d</span><span class=\"p\">(</span><span class=\"n\">ar1</span><span class=\"p\">,</span> <span class=\"n\">ar2</span><span class=\"p\">):</span>\n    <span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Find the union of two YTArrays. Must have identical units but otherwise</span>\n<span class=\"sd\">    identical to numpy.union1d</span>\n\n<span class=\"sd\">    Examples</span>\n<span class=\"sd\">    --------</span>\n<span class=\"sd\">    &gt;&gt;&gt; A = yt.YTArray([1,2], &#39;cm&#39;)</span>\n<span class=\"sd\">    &gt;&gt;&gt; B = yt.YTArray([3,4], &#39;cm&#39;)</span>\n<span class=\"sd\">    &gt;&gt;&gt; yt.units.yt_array..uunion1d(A, B)</span>\n<span class=\"sd\">    YTArray([ 1., 2., 3., 4.]) cm</span>\n\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"nb\">isinstance</span><span class=\"p\">(</span><span class=\"n\">ar1</span><span class=\"p\">,</span> <span class=\"n\">YTArray</span><span class=\"p\">)</span> <span class=\"ow\">or</span> <span class=\"ow\">not</span> <span class=\"nb\">isinstance</span><span class=\"p\">(</span><span class=\"n\">ar2</span><span class=\"p\">,</span> <span class=\"n\">YTArray</span><span class=\"p\">):</span>\n        <span class=\"k\">raise</span> <span class=\"ne\">RuntimeError</span><span class=\"p\">(</span><span class=\"s2\">&quot;Parameters should be YTArrays&quot;</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">unique</span><span class=\"p\">(</span><span class=\"n\">uconcatenate</span><span class=\"p\">((</span><span class=\"n\">ar1</span><span class=\"p\">,</span> <span class=\"n\">ar2</span><span class=\"p\">)))</span>\n</pre></div>",
                "markup": "markdown"
            },
            "created_on": "2014-10-27T02:56:19.411706+00:00",
            "updated_on": "2014-10-27T02:56:19.422815+00:00",
            "id": 3606673
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/drudd"
                    },
                    "html": {
                        "href": "https://bitbucket.org/drudd/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/drudd/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Douglas Rudd",
                "uuid": "{e77bd1fb-b3d9-4763-a121-43d2028b2bbd}",
                "username": "drudd"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287/comments/3606677"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1287/_/diff#comment-3606677"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287/comments/3606553"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1287/_/diff#comment-3606553"
                    }
                },
                "id": 3606553
            },
            "pullrequest": {
                "title": "Adding numpy wrapper functions, improving (but not 100% fixing) pure wrapping semantics.  Closes #930",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1287"
                    }
                },
                "id": 1287
            },
            "content": {
                "raw": "Both of these assume np.unique works fine for YTArrays, which seemed to in my tests.",
                "html": "<p>Both of these assume np.unique works fine for YTArrays, which seemed to in my tests.</p>",
                "markup": "markdown"
            },
            "created_on": "2014-10-27T02:56:47.781295+00:00",
            "updated_on": "2014-10-27T02:56:47.789243+00:00",
            "id": 3606677
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/drudd"
                    },
                    "html": {
                        "href": "https://bitbucket.org/drudd/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/drudd/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Douglas Rudd",
                "uuid": "{e77bd1fb-b3d9-4763-a121-43d2028b2bbd}",
                "username": "drudd"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287/comments/3606684"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1287/_/diff#comment-3606684"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287/comments/3606553"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1287/_/diff#comment-3606553"
                    }
                },
                "id": 3606553
            },
            "pullrequest": {
                "title": "Adding numpy wrapper functions, improving (but not 100% fixing) pure wrapping semantics.  Closes #930",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1287"
                    }
                },
                "id": 1287
            },
            "content": {
                "raw": "And looking at yours I think it's cleaner to keep them as thin wrappers around the numpy equivalents rather than reimplementing.",
                "html": "<p>And looking at yours I think it's cleaner to keep them as thin wrappers around the numpy equivalents rather than reimplementing.</p>",
                "markup": "markdown"
            },
            "created_on": "2014-10-27T02:58:33.443086+00:00",
            "updated_on": "2014-10-27T02:58:33.451567+00:00",
            "id": 3606684
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287/comments/3606685"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1287/_/diff#comment-3606685"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287/comments/3606684"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1287/_/diff#comment-3606684"
                    }
                },
                "id": 3606684
            },
            "pullrequest": {
                "title": "Adding numpy wrapper functions, improving (but not 100% fixing) pure wrapping semantics.  Closes #930",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1287"
                    }
                },
                "id": 1287
            },
            "content": {
                "raw": "Sounds good, thanks for looking this over!",
                "html": "<p>Sounds good, thanks for looking this over!</p>",
                "markup": "markdown"
            },
            "created_on": "2014-10-27T02:58:51.637860+00:00",
            "updated_on": "2014-10-27T02:58:51.649434+00:00",
            "id": 3606685
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287/comments/3606880"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1287/_/diff#comment-3606880"
                }
            },
            "pullrequest": {
                "title": "Adding numpy wrapper functions, improving (but not 100% fixing) pure wrapping semantics.  Closes #930",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1287"
                    }
                },
                "id": 1287
            },
            "content": {
                "raw": "All tests pass. Good job!",
                "html": "<p>All tests pass. Good job!</p>",
                "markup": "markdown"
            },
            "created_on": "2014-10-27T03:45:53.931237+00:00",
            "updated_on": "2014-10-27T03:45:54.285591+00:00",
            "id": 3606880
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287/comments/3607233"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1287/_/diff#comment-3607233"
                }
            },
            "pullrequest": {
                "title": "Adding numpy wrapper functions, improving (but not 100% fixing) pure wrapping semantics.  Closes #930",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1287"
                    }
                },
                "id": 1287
            },
            "content": {
                "raw": "All tests pass. Good job!",
                "html": "<p>All tests pass. Good job!</p>",
                "markup": "markdown"
            },
            "created_on": "2014-10-27T04:59:51.298984+00:00",
            "updated_on": "2014-10-27T04:59:51.780192+00:00",
            "id": 3607233
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287/comments/3607574"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1287/_/diff#comment-3607574"
                }
            },
            "pullrequest": {
                "title": "Adding numpy wrapper functions, improving (but not 100% fixing) pure wrapping semantics.  Closes #930",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1287"
                    }
                },
                "id": 1287
            },
            "content": {
                "raw": "All tests pass. Good job!",
                "html": "<p>All tests pass. Good job!</p>",
                "markup": "markdown"
            },
            "created_on": "2014-10-27T06:13:22.741303+00:00",
            "updated_on": "2014-10-27T06:13:23.112799+00:00",
            "id": 3607574
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287/comments/3608066"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1287/_/diff#comment-3608066"
                }
            },
            "pullrequest": {
                "title": "Adding numpy wrapper functions, improving (but not 100% fixing) pure wrapping semantics.  Closes #930",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1287"
                    }
                },
                "id": 1287
            },
            "content": {
                "raw": "All tests pass. Good job!",
                "html": "<p>All tests pass. Good job!</p>",
                "markup": "markdown"
            },
            "created_on": "2014-10-27T07:26:46.239714+00:00",
            "updated_on": "2014-10-27T07:26:46.677873+00:00",
            "id": 3608066
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/drudd"
                    },
                    "html": {
                        "href": "https://bitbucket.org/drudd/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/drudd/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Douglas Rudd",
                "uuid": "{e77bd1fb-b3d9-4763-a121-43d2028b2bbd}",
                "username": "drudd"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287/comments/3619723"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1287/_/diff#comment-3619723"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287/comments/3606685"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1287/_/diff#comment-3606685"
                    }
                },
                "id": 3606685
            },
            "pullrequest": {
                "title": "Adding numpy wrapper functions, improving (but not 100% fixing) pure wrapping semantics.  Closes #930",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1287"
                    }
                },
                "id": 1287
            },
            "content": {
                "raw": "Do you have any problem with merging this PR as is?  It'll make it easier to rely on these functions when I update my PR.",
                "html": "<p>Do you have any problem with merging this PR as is?  It'll make it easier to rely on these functions when I update my PR.</p>",
                "markup": "markdown"
            },
            "created_on": "2014-10-27T19:00:56.542516+00:00",
            "updated_on": "2014-10-27T19:00:56.552042+00:00",
            "id": 3619723
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287/comments/3619748"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1287/_/diff#comment-3619748"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287/comments/3619723"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1287/_/diff#comment-3619723"
                    }
                },
                "id": 3619723
            },
            "pullrequest": {
                "title": "Adding numpy wrapper functions, improving (but not 100% fixing) pure wrapping semantics.  Closes #930",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1287"
                    }
                },
                "id": 1287
            },
            "content": {
                "raw": "I don't have any issues with it, others might though.",
                "html": "<p>I don't have any issues with it, others might though.</p>",
                "markup": "markdown"
            },
            "created_on": "2014-10-27T19:03:15.163317+00:00",
            "updated_on": "2014-10-27T19:03:15.171392+00:00",
            "id": 3619748
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/jzuhone"
                    },
                    "html": {
                        "href": "https://bitbucket.org/jzuhone/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/jzuhone/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "John ZuHone",
                "uuid": "{0c51edfa-e317-432f-bbef-7401c6e2aa8a}",
                "username": "jzuhone"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287/comments/3645326"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1287/_/diff#comment-3645326"
                }
            },
            "pullrequest": {
                "title": "Adding numpy wrapper functions, improving (but not 100% fixing) pure wrapping semantics.  Closes #930",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1287"
                    }
                },
                "id": 1287
            },
            "content": {
                "raw": "Is this ready to go?",
                "html": "<p>Is this ready to go?</p>",
                "markup": "markdown"
            },
            "created_on": "2014-10-29T04:07:07.192193+00:00",
            "updated_on": "2014-10-29T04:07:07.199699+00:00",
            "id": 3645326
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287/comments/3645438"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1287/_/diff#comment-3645438"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287/comments/3645326"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1287/_/diff#comment-3645326"
                    }
                },
                "id": 3645326
            },
            "pullrequest": {
                "title": "Adding numpy wrapper functions, improving (but not 100% fixing) pure wrapping semantics.  Closes #930",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1287"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1287"
                    }
                },
                "id": 1287
            },
            "content": {
                "raw": "yup",
                "html": "<p>yup</p>",
                "markup": "markdown"
            },
            "created_on": "2014-10-29T04:24:58.493488+00:00",
            "updated_on": "2014-10-29T04:24:58.500515+00:00",
            "id": 3645438
        }
    ]
}