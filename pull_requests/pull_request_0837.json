{
    "reason": "",
    "state": "MERGED",
    "updated_on": "2014-04-19T09:50:45.753049+00:00",
    "comment_count": 10,
    "description": "Currently, scripts that create TimeSeries from directories other than the directory where all of the datadumps exist cause failures with a slightly confusing error message.  This PR simply gives more information to the user, to inform them of why the failure is occurring.\r\n\r\nIf the syntax or format are bad, I'm happy to change, but it seemed like a solution to a problem that could be avoided for others.",
    "created_on": "2014-04-18T04:28:41.324527+00:00",
    "task_count": 0,
    "merge_commit": null,
    "title": "Making a better error message when TimeSeries fails for not being in the right directory as the data outputs.",
    "links": {
        "diff": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/837/diff"
        },
        "decline": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/837/decline"
        },
        "self": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/837"
        },
        "activity": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/837/activity"
        },
        "merge": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/837/merge"
        },
        "commits": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/837/commits"
        },
        "statuses": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/837/statuses"
        },
        "approve": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/837/approve"
        },
        "html": {
            "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/837"
        },
        "comments": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/837/comments"
        }
    },
    "closed_by": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
            },
            "html": {
                "href": "https://bitbucket.org/MatthewTurk/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "Matt Turk",
        "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
        "username": "MatthewTurk"
    },
    "id": 837,
    "type": "pullrequest",
    "author": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/chummels"
            },
            "html": {
                "href": "https://bitbucket.org/chummels/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/chummels/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "chummels",
        "uuid": "{de871bb8-32e9-450a-b8c9-2b49a1334f16}",
        "username": "chummels"
    },
    "source": {
        "branch": {
            "name": "yt"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/chummels/yt/commit/1a67d558b51c"
                }
            },
            "hash": "1a67d558b51c"
        },
        "repository": {
            "full_name": "chummels/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/chummels/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/chummels/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/chummels/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{cc72b7fe-3d37-4cd2-a367-f2de113a2e82}"
        }
    },
    "close_source_branch": false,
    "destination": {
        "branch": {
            "name": "yt"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/6c43763f6c83"
                }
            },
            "hash": "6c43763f6c83"
        },
        "repository": {
            "full_name": "yt_analysis/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/yt_analysis/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{b73cb37c-40f2-493a-aaa9-41bc8d8974cc}"
        }
    },
    "comments": [
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/837/comments/1689987"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/837/_/diff#comment-1689987"
                }
            },
            "pullrequest": {
                "title": "Making a better error message when TimeSeries fails for not being in the right directory as the data outputs.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/837"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/837"
                    }
                },
                "id": 837
            },
            "content": {
                "raw": "When I do the following snippet in an empty directory:\n\n\n```\n#!python\n\nimport yt\nyt.DatasetSeries(\"DD????/DD????\")\n```\n\nI get the following traceback:\n\n\n```\n#!python traceback\n\n---------------------------------------------------------------------------\nYTOutputNotIdentified                     Traceback (most recent call last)\n<ipython-input-2-311c2cbfd96b> in <module>()\n----> 1 yt.DatasetSeries(\"DD????/DD????\")\n\n/home/goldbaum/yt-hg/yt/data_objects/time_series.pyc in __new__(cls, outputs, *args, **kwargs)\n    129     def __new__(cls, outputs, *args, **kwargs):\n    130         if isinstance(outputs, basestring):\n--> 131             outputs = get_filenames_from_glob_pattern(outputs)\n    132         ret = super(DatasetSeries, cls).__new__(cls, outputs, *args, **kwargs)\n    133         try:\n\n/home/goldbaum/yt-hg/yt/data_objects/time_series.pyc in get_filenames_from_glob_pattern(filenames)\n     63             file_list = td_filenames\n     64         else:\n---> 65             raise YTOutputNotIdentified(filenames, {})\n     66     return sorted(file_list)\n     67\n\nYTOutputNotIdentified: Supplied ('D', 'D', '?', '?', '?', '?', '/', 'D', 'D', '?', '?', '?', '?') {}, but could not load!\n```\n\nI agree that the error could be better.  That said, I think the best way to handle this is to replace `filenames` on line 65 with `ensure_list(filenames)`.\n",
                "html": "<p>When I do the following snippet in an empty directory:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kn\">import</span> <span class=\"nn\">yt</span>\n<span class=\"n\">yt</span><span class=\"o\">.</span><span class=\"n\">DatasetSeries</span><span class=\"p\">(</span><span class=\"s2\">&quot;DD????/DD????&quot;</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>I get the following traceback:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"o\">---------------------------------------------------------------------------</span>\n<span class=\"n\">YTOutputNotIdentified</span>                     <span class=\"n\">Traceback</span> <span class=\"p\">(</span><span class=\"n\">most</span> <span class=\"n\">recent</span> <span class=\"n\">call</span> <span class=\"n\">last</span><span class=\"p\">)</span>\n<span class=\"o\">&lt;</span><span class=\"n\">ipython</span><span class=\"o\">-</span><span class=\"nb\">input</span><span class=\"o\">-</span><span class=\"mi\">2</span><span class=\"o\">-</span><span class=\"mi\">311</span><span class=\"n\">c2cbfd96b</span><span class=\"o\">&gt;</span> <span class=\"ow\">in</span> <span class=\"o\">&lt;</span><span class=\"n\">module</span><span class=\"o\">&gt;</span><span class=\"p\">()</span>\n<span class=\"o\">----&gt;</span> <span class=\"mi\">1</span> <span class=\"n\">yt</span><span class=\"o\">.</span><span class=\"n\">DatasetSeries</span><span class=\"p\">(</span><span class=\"s2\">&quot;DD????/DD????&quot;</span><span class=\"p\">)</span>\n\n<span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">goldbaum</span><span class=\"o\">/</span><span class=\"n\">yt</span><span class=\"o\">-</span><span class=\"n\">hg</span><span class=\"o\">/</span><span class=\"n\">yt</span><span class=\"o\">/</span><span class=\"n\">data_objects</span><span class=\"o\">/</span><span class=\"n\">time_series</span><span class=\"o\">.</span><span class=\"n\">pyc</span> <span class=\"ow\">in</span> <span class=\"n\">__new__</span><span class=\"p\">(</span><span class=\"n\">cls</span><span class=\"p\">,</span> <span class=\"n\">outputs</span><span class=\"p\">,</span> <span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">)</span>\n    <span class=\"mi\">129</span>     <span class=\"k\">def</span> <span class=\"nf\">__new__</span><span class=\"p\">(</span><span class=\"n\">cls</span><span class=\"p\">,</span> <span class=\"n\">outputs</span><span class=\"p\">,</span> <span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">):</span>\n    <span class=\"mi\">130</span>         <span class=\"k\">if</span> <span class=\"nb\">isinstance</span><span class=\"p\">(</span><span class=\"n\">outputs</span><span class=\"p\">,</span> <span class=\"nb\">basestring</span><span class=\"p\">):</span>\n<span class=\"o\">--&gt;</span> <span class=\"mi\">131</span>             <span class=\"n\">outputs</span> <span class=\"o\">=</span> <span class=\"n\">get_filenames_from_glob_pattern</span><span class=\"p\">(</span><span class=\"n\">outputs</span><span class=\"p\">)</span>\n    <span class=\"mi\">132</span>         <span class=\"n\">ret</span> <span class=\"o\">=</span> <span class=\"nb\">super</span><span class=\"p\">(</span><span class=\"n\">DatasetSeries</span><span class=\"p\">,</span> <span class=\"n\">cls</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">__new__</span><span class=\"p\">(</span><span class=\"n\">cls</span><span class=\"p\">,</span> <span class=\"n\">outputs</span><span class=\"p\">,</span> <span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">)</span>\n    <span class=\"mi\">133</span>         <span class=\"k\">try</span><span class=\"p\">:</span>\n\n<span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">goldbaum</span><span class=\"o\">/</span><span class=\"n\">yt</span><span class=\"o\">-</span><span class=\"n\">hg</span><span class=\"o\">/</span><span class=\"n\">yt</span><span class=\"o\">/</span><span class=\"n\">data_objects</span><span class=\"o\">/</span><span class=\"n\">time_series</span><span class=\"o\">.</span><span class=\"n\">pyc</span> <span class=\"ow\">in</span> <span class=\"n\">get_filenames_from_glob_pattern</span><span class=\"p\">(</span><span class=\"n\">filenames</span><span class=\"p\">)</span>\n     <span class=\"mi\">63</span>             <span class=\"n\">file_list</span> <span class=\"o\">=</span> <span class=\"n\">td_filenames</span>\n     <span class=\"mi\">64</span>         <span class=\"k\">else</span><span class=\"p\">:</span>\n<span class=\"o\">---&gt;</span> <span class=\"mi\">65</span>             <span class=\"k\">raise</span> <span class=\"n\">YTOutputNotIdentified</span><span class=\"p\">(</span><span class=\"n\">filenames</span><span class=\"p\">,</span> <span class=\"p\">{})</span>\n     <span class=\"mi\">66</span>     <span class=\"k\">return</span> <span class=\"nb\">sorted</span><span class=\"p\">(</span><span class=\"n\">file_list</span><span class=\"p\">)</span>\n     <span class=\"mi\">67</span>\n\n<span class=\"n\">YTOutputNotIdentified</span><span class=\"p\">:</span> <span class=\"n\">Supplied</span> <span class=\"p\">(</span><span class=\"s1\">&#39;D&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;D&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;?&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;?&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;?&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;?&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;/&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;D&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;D&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;?&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;?&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;?&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;?&#39;</span><span class=\"p\">)</span> <span class=\"p\">{},</span> <span class=\"n\">but</span> <span class=\"n\">could</span> <span class=\"ow\">not</span> <span class=\"n\">load</span><span class=\"err\">!</span>\n</pre></div>\n\n\n<p>I agree that the error could be better.  That said, I think the best way to handle this is to replace <code>filenames</code> on line 65 with <code>ensure_list(filenames)</code>.</p>",
                "markup": "markdown"
            },
            "created_on": "2014-04-18T04:36:54.283250+00:00",
            "updated_on": "2014-04-18T04:53:30.175744+00:00",
            "id": 1689987
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/837/comments/1690039"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/837/_/diff#comment-1690039"
                }
            },
            "pullrequest": {
                "title": "Making a better error message when TimeSeries fails for not being in the right directory as the data outputs.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/837"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/837"
                    }
                },
                "id": 837
            },
            "content": {
                "raw": "All tests pass. Good job!",
                "html": "<p>All tests pass. Good job!</p>",
                "markup": "markdown"
            },
            "created_on": "2014-04-18T04:56:27.987598+00:00",
            "updated_on": "2014-04-18T04:56:28.105780+00:00",
            "id": 1690039
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/837/comments/1690043"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/837/_/diff#comment-1690043"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/837/comments/1689987"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/837/_/diff#comment-1689987"
                    }
                },
                "id": 1689987
            },
            "pullrequest": {
                "title": "Making a better error message when TimeSeries fails for not being in the right directory as the data outputs.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/837"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/837"
                    }
                },
                "id": 837
            },
            "content": {
                "raw": "Oh oops - I missed that this was getting PR'd to yt, not yt-3.0.",
                "html": "<p>Oh oops - I missed that this was getting PR'd to yt, not yt-3.0.</p>",
                "markup": "markdown"
            },
            "created_on": "2014-04-18T04:57:29.509768+00:00",
            "updated_on": "2014-04-18T04:57:29.520770+00:00",
            "id": 1690043
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/837/comments/1690062"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/837/_/diff#comment-1690062"
                }
            },
            "pullrequest": {
                "title": "Making a better error message when TimeSeries fails for not being in the right directory as the data outputs.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/837"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/837"
                    }
                },
                "id": 837
            },
            "content": {
                "raw": "I'm trying to trigger the confusing traceback you're trying to fix in yt-2.x.  Can you give a little bit more detail (maybe a script?) that shows what goes wrong?\n\nI've tried loading a timeseries from a different directory from the one the datasets are stored in and then iterating over them and that works fine.  Is there some other issue I'm not seeing?",
                "html": "<p>I'm trying to trigger the confusing traceback you're trying to fix in yt-2.x.  Can you give a little bit more detail (maybe a script?) that shows what goes wrong?</p>\n<p>I've tried loading a timeseries from a different directory from the one the datasets are stored in and then iterating over them and that works fine.  Is there some other issue I'm not seeing?</p>",
                "markup": "markdown"
            },
            "created_on": "2014-04-18T05:02:43.351784+00:00",
            "updated_on": "2014-04-18T05:02:43.361034+00:00",
            "id": 1690062
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/837/comments/1692347"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/chummels/yt:84fcadda5b5e..6c43763f6c83?path=yt%2Fdata_objects%2Ftime_series.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/837/_/diff#comment-1692347"
                }
            },
            "pullrequest": {
                "title": "Making a better error message when TimeSeries fails for not being in the right directory as the data outputs.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/837"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/837"
                    }
                },
                "id": 837
            },
            "content": {
                "raw": "Could you split this up over two lines, so it is <80 characters?  You can do this like:\n\n```\nraise InvalidSimulationTimeSeries(\"Your Timeseries is empty.  \" +\n \"whatever\")\n```",
                "html": "<p>Could you split this up over two lines, so it is &lt;80 characters?  You can do this like:</p>\n<div class=\"codehilite\"><pre><span></span>raise InvalidSimulationTimeSeries(&quot;Your Timeseries is empty.  &quot; +\n &quot;whatever&quot;)\n</pre></div>",
                "markup": "markdown"
            },
            "created_on": "2014-04-18T13:55:04.474127+00:00",
            "updated_on": "2014-04-18T13:55:04.482156+00:00",
            "inline": {
                "from": null,
                "path": "yt/data_objects/time_series.py",
                "to": 120
            },
            "id": 1692347
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/837/comments/1692353"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/837/_/diff#comment-1692353"
                }
            },
            "pullrequest": {
                "title": "Making a better error message when TimeSeries fails for not being in the right directory as the data outputs.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/837"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/837"
                    }
                },
                "id": 837
            },
            "content": {
                "raw": "Hi @chummels I'm not sure I follow either -- is the glob pattern you use valid?  i.e., if you feed it to `glob.glob` do you get the right set of outputs for it?",
                "html": "<p>Hi <a href=\"/chummels/\" rel=\"nofollow\" title=\"@chummels\" class=\"mention\">Cameron Hummels</a> I'm not sure I follow either -- is the glob pattern you use valid?  i.e., if you feed it to <code>glob.glob</code> do you get the right set of outputs for it?</p>",
                "markup": "markdown"
            },
            "created_on": "2014-04-18T13:56:07.883705+00:00",
            "updated_on": "2014-04-18T13:56:07.902110+00:00",
            "id": 1692353
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/chummels"
                    },
                    "html": {
                        "href": "https://bitbucket.org/chummels/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/chummels/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Cameron Hummels",
                "uuid": "{de871bb8-32e9-450a-b8c9-2b49a1334f16}",
                "username": "chummels"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/837/comments/1692609"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/837/_/diff#comment-1692609"
                }
            },
            "pullrequest": {
                "title": "Making a better error message when TimeSeries fails for not being in the right directory as the data outputs.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/837"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/837"
                    }
                },
                "id": 837
            },
            "content": {
                "raw": "Sorry for the confusion everyone.  I've included a script which generates the error.  Perhaps the error isn't as general as I thought it was.\n\nThis all stems from trying to run the LightRay generator on a dataset not in the current directory.  I give it a full path in the specified filename, which I figured *should* work.  If you follow through the failing traceback, you see that LightRay tries to create a cosmology_splice, and that tries to create a TimeSeries.  However, the TimeSeries fails because we're not *in* the directory where the dataset's parameter file exists as it expects us to be.  It fails on the line that I marked up with the try...except pair, because the length of self._pre_outputs is 0.  \n\nIf you run this exact same script *in* the Enzo_64 directory, it runs without problems.  I have encountered this problem before when trying to generate a TimeSeries and not being in the directory where the pf is, so I figured this was general, but I guess I was wrong.\n\nThe script that generates this error is here: http://paste.yt-project.org/show/4536/",
                "html": "<p>Sorry for the confusion everyone.  I've included a script which generates the error.  Perhaps the error isn't as general as I thought it was.</p>\n<p>This all stems from trying to run the LightRay generator on a dataset not in the current directory.  I give it a full path in the specified filename, which I figured <em>should</em> work.  If you follow through the failing traceback, you see that LightRay tries to create a cosmology_splice, and that tries to create a TimeSeries.  However, the TimeSeries fails because we're not <em>in</em> the directory where the dataset's parameter file exists as it expects us to be.  It fails on the line that I marked up with the try...except pair, because the length of self._pre_outputs is 0.  </p>\n<p>If you run this exact same script <em>in</em> the Enzo_64 directory, it runs without problems.  I have encountered this problem before when trying to generate a TimeSeries and not being in the directory where the pf is, so I figured this was general, but I guess I was wrong.</p>\n<p>The script that generates this error is here: <a href=\"http://paste.yt-project.org/show/4536/\" rel=\"nofollow\">http://paste.yt-project.org/show/4536/</a></p>",
                "markup": "markdown"
            },
            "created_on": "2014-04-18T14:31:57.381924+00:00",
            "updated_on": "2014-04-18T14:31:57.391675+00:00",
            "id": 1692609
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/837/comments/1692806"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/837/_/diff#comment-1692806"
                }
            },
            "pullrequest": {
                "title": "Making a better error message when TimeSeries fails for not being in the right directory as the data outputs.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/837"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/837"
                    }
                },
                "id": 837
            },
            "content": {
                "raw": "So, having the error is still good -- did you look at the `ensure_list` idea from @ngoldbaum to see if that helped?  And, I think fixing it could be done by taking the `fullpath` or `dirname` or something off the main parameter file inside the light ray splicer.  @brittonsmith any ideas?",
                "html": "<p>So, having the error is still good -- did you look at the <code>ensure_list</code> idea from <a href=\"/ngoldbaum/\" rel=\"nofollow\" title=\"@ngoldbaum\" class=\"mention\">Nathan Goldbaum</a> to see if that helped?  And, I think fixing it could be done by taking the <code>fullpath</code> or <code>dirname</code> or something off the main parameter file inside the light ray splicer.  <a href=\"/brittonsmith/\" rel=\"nofollow\" title=\"@brittonsmith\" class=\"mention\">Britton Smith</a> any ideas?</p>",
                "markup": "markdown"
            },
            "created_on": "2014-04-18T15:02:12.386790+00:00",
            "updated_on": "2014-04-18T15:02:12.403697+00:00",
            "id": 1692806
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/837/comments/1694081"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/837/_/diff#comment-1694081"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/837/comments/1692609"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/837/_/diff#comment-1692609"
                    }
                },
                "id": 1692609
            },
            "pullrequest": {
                "title": "Making a better error message when TimeSeries fails for not being in the right directory as the data outputs.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/837"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/837"
                    }
                },
                "id": 837
            },
            "content": {
                "raw": "@chummels once you update the error message, let's push this in.",
                "html": "<p><a href=\"/chummels/\" rel=\"nofollow\" title=\"@chummels\" class=\"mention\">Cameron Hummels</a> once you update the error message, let's push this in.</p>",
                "markup": "markdown"
            },
            "created_on": "2014-04-18T19:04:35.591920+00:00",
            "updated_on": "2014-04-18T19:04:35.610059+00:00",
            "id": 1694081
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/brittonsmith"
                    },
                    "html": {
                        "href": "https://bitbucket.org/brittonsmith/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/brittonsmith/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Britton Smith",
                "uuid": "{94333901-a436-4c2c-8322-8d09e387eece}",
                "username": "brittonsmith"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/837/comments/1695596"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/837/_/diff#comment-1695596"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/837/comments/1692609"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/837/_/diff#comment-1692609"
                    }
                },
                "id": 1692609
            },
            "pullrequest": {
                "title": "Making a better error message when TimeSeries fails for not being in the right directory as the data outputs.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/837"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/837"
                    }
                },
                "id": 837
            },
            "content": {
                "raw": "Hi @chummels, I think I see the problem with your script.  Normally, a LightRay object is instantiated with the simulation parameter file and not the parameter file of a single dataset.  For me, the following works for what you're trying to do:\n\n```\n#!python\n\nlr = LightRay(\"/Users/chummels/src/yt-data/Enzo_64/64.param\", \"Enzo\", 0.2, 0.2)\n```\n\nI believe the reason is that creating a LightRay object based on a single dataset confuses the time series object about where the data is.  If you create it the way I do above, the time series will look for datasets in \"/Users/chummels/src/yt-data/Enzo_64/\", but if you create it with \"/Users/chummels/src/yt-data/Enzo_64/DD0020/data0020\", it will look for datasets in \"\"/Users/chummels/src/yt-data/Enzo_64/DD0020\", which is not where they are.  Because an Enzo dataset and an Enzo simulation parameter file contain the same information, you could in principle create a time series from either, but doing it from a dataset might have unexpected results like what you were seeing.",
                "html": "<p>Hi <a href=\"/chummels/\" rel=\"nofollow\" title=\"@chummels\" class=\"mention\">Cameron Hummels</a>, I think I see the problem with your script.  Normally, a LightRay object is instantiated with the simulation parameter file and not the parameter file of a single dataset.  For me, the following works for what you're trying to do:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">lr</span> <span class=\"o\">=</span> <span class=\"n\">LightRay</span><span class=\"p\">(</span><span class=\"s2\">&quot;/Users/chummels/src/yt-data/Enzo_64/64.param&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;Enzo&quot;</span><span class=\"p\">,</span> <span class=\"mf\">0.2</span><span class=\"p\">,</span> <span class=\"mf\">0.2</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>I believe the reason is that creating a LightRay object based on a single dataset confuses the time series object about where the data is.  If you create it the way I do above, the time series will look for datasets in \"/Users/chummels/src/yt-data/Enzo_64/\", but if you create it with \"/Users/chummels/src/yt-data/Enzo_64/DD0020/data0020\", it will look for datasets in \"\"/Users/chummels/src/yt-data/Enzo_64/DD0020\", which is not where they are.  Because an Enzo dataset and an Enzo simulation parameter file contain the same information, you could in principle create a time series from either, but doing it from a dataset might have unexpected results like what you were seeing.</p>",
                "markup": "markdown"
            },
            "created_on": "2014-04-19T09:50:45.737838+00:00",
            "updated_on": "2014-04-19T09:50:45.749196+00:00",
            "id": 1695596
        }
    ]
}