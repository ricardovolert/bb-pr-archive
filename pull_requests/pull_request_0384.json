{
    "reason": "",
    "state": "MERGED",
    "updated_on": "2012-12-20T18:45:48.943938+00:00",
    "comment_count": 8,
    "description": "This uses ImageArray to handle metadata for MPL plot window plots. WindowPlotEXTjs4 still uses the old metadata dict which we can eventually ditch.  \r\n\r\nI've moved PlotMPL into its own file and added ImagePlotMPL, a simple nontrivial subclass that handles image data (i.e. dispalys with imshow, has a colorbar). PlotMPL has a concept of a Figure and Axes and that's it.  @MatthewTurk, I think this is suitable for you to subclass for the new profile plotting interface.  One could add a LinePlotMPL or PcolormeshPlotMPL to the same file and it should be relatively painless to get everything working together.\r\n\r\nUpdate: Including Kacper's changes and additionally cleaned up the plot window imports to match Kacper's well-honed sense of what is Right and Good in the world.  Additionally fixing some errors that I noticed in docstrings in yt.funcs.\r\n\r\nLastly, I took a stab at moving the generation of the colorbar label to the place where the info dict is created in fixed_resolution.py.  This appears to work ok but as our test coverage is poor I wouldn't be all that surprised if I broke something.",
    "created_on": "2012-12-20T05:30:50.980577+00:00",
    "task_count": 0,
    "merge_commit": null,
    "title": "Streamlining the plot window class hierarchy and metadata handling.",
    "links": {
        "diff": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/384/diff"
        },
        "decline": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/384/decline"
        },
        "self": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/384"
        },
        "activity": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/384/activity"
        },
        "merge": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/384/merge"
        },
        "commits": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/384/commits"
        },
        "statuses": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/384/statuses"
        },
        "approve": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/384/approve"
        },
        "html": {
            "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/384"
        },
        "comments": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/384/comments"
        }
    },
    "closed_by": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
            },
            "html": {
                "href": "https://bitbucket.org/MatthewTurk/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "Matt Turk",
        "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
        "username": "MatthewTurk"
    },
    "id": 384,
    "type": "pullrequest",
    "author": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
            },
            "html": {
                "href": "https://bitbucket.org/ngoldbaum/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "Nathan Goldbaum",
        "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
        "username": "ngoldbaum"
    },
    "source": {
        "branch": {
            "name": "yt"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/ngoldbaum/yt/commit/361a91d0ea7c"
                }
            },
            "hash": "361a91d0ea7c"
        },
        "repository": {
            "full_name": "ngoldbaum/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/ngoldbaum/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/ngoldbaum/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/ngoldbaum/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{cb18d7d9-ab77-4e80-81ed-8d32a945e0ef}"
        }
    },
    "close_source_branch": false,
    "destination": {
        "branch": {
            "name": "yt"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/fa22322ff149"
                }
            },
            "hash": "fa22322ff149"
        },
        "repository": {
            "full_name": "yt_analysis/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/yt_analysis/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{b73cb37c-40f2-493a-aaa9-41bc8d8974cc}"
        }
    },
    "comments": [
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/384/comments/69064"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/384/_/diff#comment-69064"
                }
            },
            "pullrequest": {
                "title": "Streamlining the plot window class hierarchy and metadata handling.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/384"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/384"
                    }
                },
                "id": 384
            },
            "content": {
                "raw": "This looks promising.  I'm going to provide comments, but I would also ask that @SamSkillman takes a look at it.  Thank you, Nathan!",
                "html": "<p>This looks promising.  I'm going to provide comments, but I would also ask that <a href=\"/SamSkillman/\" rel=\"nofollow\" title=\"@SamSkillman\" class=\"mention\">Sam Skillman</a> takes a look at it.  Thank you, Nathan!</p>",
                "markup": "markdown"
            },
            "created_on": "2012-12-20T11:43:23.393469+00:00",
            "updated_on": "2012-12-20T11:43:23.416040+00:00",
            "id": 69064
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/384/comments/69067"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/ngoldbaum/yt:1073868dbd49..fa22322ff149?path=yt%2Fvisualization%2Fplot_window.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/384/_/diff#comment-69067"
                }
            },
            "pullrequest": {
                "title": "Streamlining the plot window class hierarchy and metadata handling.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/384"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/384"
                    }
                },
                "id": 384
            },
            "content": {
                "raw": "What do you think about having the logic of getting a full label moved into ImageArray?  @samskillman do you think that would be possible?",
                "html": "<p>What do you think about having the logic of getting a full label moved into ImageArray?  <a href=\"/samskillman/\" rel=\"nofollow\" title=\"@samskillman\" class=\"mention\">Sam Skillman</a> do you think that would be possible?</p>",
                "markup": "markdown"
            },
            "created_on": "2012-12-20T11:48:00.361118+00:00",
            "updated_on": "2012-12-20T11:48:00.376119+00:00",
            "inline": {
                "from": null,
                "path": "yt/visualization/plot_window.py",
                "to": 863
            },
            "id": 69067
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/384/comments/69069"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/ngoldbaum/yt:361a91d0ea7c..fa22322ff149?path=yt%2Fvisualization%2Fplot_window.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/384/_/diff#comment-69069"
                }
            },
            "pullrequest": {
                "title": "Streamlining the plot window class hierarchy and metadata handling.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/384"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/384"
                    }
                },
                "id": 384
            },
            "content": {
                "raw": "I think we might still want _repr_png_ functionality, no?  Or does that not actually do anything in IPython?",
                "html": "<p>I think we might still want <em>repr_png</em> functionality, no?  Or does that not actually do anything in IPython?</p>",
                "markup": "markdown"
            },
            "created_on": "2012-12-20T11:49:47.190213+00:00",
            "updated_on": "2012-12-20T11:49:47.196911+00:00",
            "inline": {
                "from": 1555,
                "path": "yt/visualization/plot_window.py",
                "to": null
            },
            "id": 69069
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/384/comments/69070"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/384/_/diff#comment-69070"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/384/comments/69064"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/384/_/diff#comment-69064"
                    }
                },
                "id": 69064
            },
            "pullrequest": {
                "title": "Streamlining the plot window class hierarchy and metadata handling.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/384"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/384"
                    }
                },
                "id": 384
            },
            "content": {
                "raw": "Okay, my comments are done.  My feeling is that this is great, and I'd like to eventually move to really utilizing `ImageArray` or even a broader `YTArray` with subclasses.  If the tests pass, I'm fine with this, and if they pass and something breaks later, we'll know where to add more tests.",
                "html": "<p>Okay, my comments are done.  My feeling is that this is great, and I'd like to eventually move to really utilizing <code>ImageArray</code> or even a broader <code>YTArray</code> with subclasses.  If the tests pass, I'm fine with this, and if they pass and something breaks later, we'll know where to add more tests.</p>",
                "markup": "markdown"
            },
            "created_on": "2012-12-20T11:50:56.900325+00:00",
            "updated_on": "2012-12-20T11:50:56.908944+00:00",
            "id": 69070
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/384/comments/69625"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/384/_/diff#comment-69625"
                }
            },
            "pullrequest": {
                "title": "Streamlining the plot window class hierarchy and metadata handling.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/384"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/384"
                    }
                },
                "id": 384
            },
            "content": {
                "raw": "Adding enough tests to check for cbar manipulation is outside the scope of this PR, but we should figure out how to increase test coverage of our plotting interface.  I'll provide comments if I have any, and merge if not.",
                "html": "<p>Adding enough tests to check for cbar manipulation is outside the scope of this PR, but we should figure out how to increase test coverage of our plotting interface.  I'll provide comments if I have any, and merge if not.</p>",
                "markup": "markdown"
            },
            "created_on": "2012-12-20T18:41:23.099486+00:00",
            "updated_on": "2012-12-20T18:41:23.106168+00:00",
            "id": 69625
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/384/comments/69626"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/ngoldbaum/yt:361a91d0ea7c..fa22322ff149?path=yt%2Ffuncs.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/384/_/diff#comment-69626"
                }
            },
            "pullrequest": {
                "title": "Streamlining the plot window class hierarchy and metadata handling.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/384"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/384"
                    }
                },
                "id": 384
            },
            "content": {
                "raw": "Okay, not only is this a good catch, but I forgot we had this decorator.",
                "html": "<p>Okay, not only is this a good catch, but I forgot we had this decorator.</p>",
                "markup": "markdown"
            },
            "created_on": "2012-12-20T18:42:12.652820+00:00",
            "updated_on": "2012-12-20T18:42:12.661699+00:00",
            "inline": {
                "from": 188,
                "path": "yt/funcs.py",
                "to": null
            },
            "id": 69626
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/384/comments/69629"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/ngoldbaum/yt:None..None?path=yt%2Fvisualization%2Fplot_window.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/384/_/diff#comment-69629"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/384/comments/69069"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/384/_/diff#comment-69069"
                    }
                },
                "id": 69069
            },
            "pullrequest": {
                "title": "Streamlining the plot window class hierarchy and metadata handling.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/384"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/384"
                    }
                },
                "id": 384
            },
            "content": {
                "raw": "As far as I can tell it's not used anywhere in yt (show() ships over the png to the ipython notebook and doesn't use this string representation stuff).  There's very similar code that's inlined in the extjs4 plot window, perhaps jeff set this up with good intentions but never ended up using it.  I don't think we need this now and can come back later and add it if it proves necessary.",
                "html": "<p>As far as I can tell it's not used anywhere in yt (show() ships over the png to the ipython notebook and doesn't use this string representation stuff).  There's very similar code that's inlined in the extjs4 plot window, perhaps jeff set this up with good intentions but never ended up using it.  I don't think we need this now and can come back later and add it if it proves necessary.</p>",
                "markup": "markdown"
            },
            "created_on": "2012-12-20T18:42:27.625644+00:00",
            "updated_on": "2012-12-20T18:42:27.632834+00:00",
            "inline": {
                "from": null,
                "path": "yt/visualization/plot_window.py",
                "to": null
            },
            "id": 69629
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/384/comments/69630"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/ngoldbaum/yt:None..None?path=yt%2Fvisualization%2Fplot_window.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/384/_/diff#comment-69630"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/384/comments/69629"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/384/_/diff#comment-69629"
                    }
                },
                "id": 69629
            },
            "pullrequest": {
                "title": "Streamlining the plot window class hierarchy and metadata handling.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/384"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/384"
                    }
                },
                "id": 384
            },
            "content": {
                "raw": "I think it's used in the notebook, but I am inclined to follow your intuition and remove it.\n\nhttp://ipython.org/ipython-doc/dev/api/generated/IPython.core.formatters.html#IPython.core.formatters.PNGFormatter",
                "html": "<p>I think it's used in the notebook, but I am inclined to follow your intuition and remove it.</p>\n<p><a href=\"http://ipython.org/ipython-doc/dev/api/generated/IPython.core.formatters.html#IPython.core.formatters.PNGFormatter\" rel=\"nofollow\">http://ipython.org/ipython-doc/dev/api/generated/IPython.core.formatters.html#IPython.core.formatters.PNGFormatter</a></p>",
                "markup": "markdown"
            },
            "created_on": "2012-12-20T18:43:22.571361+00:00",
            "updated_on": "2012-12-20T18:43:22.581983+00:00",
            "inline": {
                "from": null,
                "path": "yt/visualization/plot_window.py",
                "to": null
            },
            "id": 69630
        }
    ]
}