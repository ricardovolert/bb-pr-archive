{
    "reason": "",
    "state": "MERGED",
    "updated_on": "2014-04-09T16:49:13.065050+00:00",
    "comment_count": 5,
    "description": "The cosmological unit support in the Tipsy code made some incorrect assumptions about how things are stored.  In cosmological simulations (where bComove = 1), the double at the front of the tipsy file does not store the current time, but actually the scale factor a.  Lengths are then stored in units of dKpcUnit * a.  The parameter file is now read to find the Hubble constant, and the density parameter for matter and lambda.  The current redshift/time are also correctly calculated.\r\n\r\nI also added in the default values for the length and mass unit, those will be what are used if the parameter file lacks dKpcUnit or dMsolUnit.",
    "created_on": "2014-04-07T20:43:54.572809+00:00",
    "task_count": 0,
    "merge_commit": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/794b2beb2c48"
            }
        },
        "hash": "794b2beb2c48"
    },
    "title": "Fixed the cosmological unit code for gasoline/tipsy files.",
    "links": {
        "diff": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/804/diff"
        },
        "decline": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/804/decline"
        },
        "self": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/804"
        },
        "activity": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/804/activity"
        },
        "merge": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/804/merge"
        },
        "commits": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/804/commits"
        },
        "statuses": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/804/statuses"
        },
        "approve": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/804/approve"
        },
        "html": {
            "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/804"
        },
        "comments": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/804/comments"
        }
    },
    "closed_by": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
            },
            "html": {
                "href": "https://bitbucket.org/MatthewTurk/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "Matt Turk",
        "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
        "username": "MatthewTurk"
    },
    "id": 804,
    "type": "pullrequest",
    "author": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/bwkeller"
            },
            "html": {
                "href": "https://bitbucket.org/bwkeller/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/bwkeller/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "Ben Keller",
        "uuid": "{1719424c-ccde-435f-aa44-5102314e6b2d}",
        "username": "bwkeller"
    },
    "source": {
        "branch": {
            "name": "yt-3.0"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/bwkeller/yt-old/commit/2648f7b44987"
                }
            },
            "hash": "2648f7b44987"
        },
        "repository": {
            "full_name": "bwkeller/yt-old",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/bwkeller/yt-old"
                },
                "html": {
                    "href": "https://bitbucket.org/bwkeller/yt-old"
                },
                "avatar": {
                    "href": "https://bitbucket.org/bwkeller/yt-old/avatar/32/"
                }
            },
            "name": "yt-old",
            "uuid": "{2e451504-eaf2-4ed0-bf7b-e7a11b39e134}"
        }
    },
    "close_source_branch": false,
    "destination": {
        "branch": {
            "name": "yt-3.0"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/b7bc0683be9a"
                }
            },
            "hash": "b7bc0683be9a"
        },
        "repository": {
            "full_name": "yt_analysis/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/yt_analysis/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{b73cb37c-40f2-493a-aaa9-41bc8d8974cc}"
        }
    },
    "comments": [
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/804/comments/1601686"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/804/_/diff#comment-1601686"
                }
            },
            "pullrequest": {
                "title": "Fixed the cosmological unit code for gasoline/tipsy files.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/804"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/804"
                    }
                },
                "id": 804
            },
            "content": {
                "raw": "What if the parameter file is not available?  Will we still be able to set cosmological parameters?",
                "html": "<p>What if the parameter file is not available?  Will we still be able to set cosmological parameters?</p>",
                "markup": "markdown"
            },
            "created_on": "2014-04-07T20:46:36.713763+00:00",
            "updated_on": "2014-04-07T20:46:36.722989+00:00",
            "id": 1601686
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/bwkeller"
                    },
                    "html": {
                        "href": "https://bitbucket.org/bwkeller/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/bwkeller/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Ben Keller",
                "uuid": "{1719424c-ccde-435f-aa44-5102314e6b2d}",
                "username": "bwkeller"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/804/comments/1601738"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/804/_/diff#comment-1601738"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/804/comments/1601686"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/804/_/diff#comment-1601686"
                    }
                },
                "id": 1601686
            },
            "pullrequest": {
                "title": "Fixed the cosmological unit code for gasoline/tipsy files.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/804"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/804"
                    }
                },
                "id": 804
            },
            "content": {
                "raw": "Hmm, good point.  I'll make sure that you can pass in parameters by hand too, and update this PR.",
                "html": "<p>Hmm, good point.  I'll make sure that you can pass in parameters by hand too, and update this PR.</p>",
                "markup": "markdown"
            },
            "created_on": "2014-04-07T20:51:30.776347+00:00",
            "updated_on": "2014-04-07T20:51:30.945081+00:00",
            "id": 1601738
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/bwkeller"
                    },
                    "html": {
                        "href": "https://bitbucket.org/bwkeller/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/bwkeller/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Ben Keller",
                "uuid": "{1719424c-ccde-435f-aa44-5102314e6b2d}",
                "username": "bwkeller"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/804/comments/1601810"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/804/_/diff#comment-1601810"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/804/comments/1601686"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/804/_/diff#comment-1601686"
                    }
                },
                "id": 1601686
            },
            "pullrequest": {
                "title": "Fixed the cosmological unit code for gasoline/tipsy files.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/804"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/804"
                    }
                },
                "id": 804
            },
            "content": {
                "raw": "The behaviour now is: look first for cosmology variables in the param file, then in manually specified parameters, then use the gasoline default values.",
                "html": "<p>The behaviour now is: look first for cosmology variables in the param file, then in manually specified parameters, then use the gasoline default values.</p>",
                "markup": "markdown"
            },
            "created_on": "2014-04-07T21:01:20.950860+00:00",
            "updated_on": "2014-04-07T21:01:21.057833+00:00",
            "id": 1601810
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/804/comments/1601822"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/804/_/diff#comment-1601822"
                }
            },
            "pullrequest": {
                "title": "Fixed the cosmological unit code for gasoline/tipsy files.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/804"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/804"
                    }
                },
                "id": 804
            },
            "content": {
                "raw": "All tests pass. Good job!",
                "html": "<p>All tests pass. Good job!</p>",
                "markup": "markdown"
            },
            "created_on": "2014-04-07T21:02:35.606448+00:00",
            "updated_on": "2014-04-07T21:02:35.730469+00:00",
            "id": 1601822
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/804/comments/1602027"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/804/_/diff#comment-1602027"
                }
            },
            "pullrequest": {
                "title": "Fixed the cosmological unit code for gasoline/tipsy files.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/804"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/804"
                    }
                },
                "id": 804
            },
            "content": {
                "raw": "All tests pass. Good job!",
                "html": "<p>All tests pass. Good job!</p>",
                "markup": "markdown"
            },
            "created_on": "2014-04-07T21:32:15.778963+00:00",
            "updated_on": "2014-04-07T21:32:15.942948+00:00",
            "id": 1602027
        }
    ]
}