{
    "links": {
        "decline": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1923/decline"
        },
        "approve": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1923/approve"
        },
        "html": {
            "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1923"
        },
        "activity": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1923/activity"
        },
        "self": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1923"
        },
        "commits": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1923/commits"
        },
        "merge": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1923/merge"
        },
        "statuses": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1923/statuses"
        },
        "comments": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1923/comments"
        },
        "diff": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1923/diff"
        }
    },
    "task_count": 0,
    "source": {
        "repository": {
            "full_name": "keflavich/yt",
            "uuid": "{b9fb318e-13c5-4a6f-9421-a7f07ea9e682}",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/keflavich/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/keflavich/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/keflavich/yt/avatar/32/"
                }
            },
            "name": "yt"
        },
        "commit": {
            "hash": "5b7ab932525d",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/keflavich/yt/commit/5b7ab932525d"
                }
            }
        },
        "branch": {
            "name": "yt"
        }
    },
    "closed_by": {
        "username": "jzuhone",
        "type": "user",
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/jzuhone"
            },
            "html": {
                "href": "https://bitbucket.org/jzuhone/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/jzuhone/avatar/32/"
            }
        },
        "display_name": "John ZuHone",
        "uuid": "{0c51edfa-e317-432f-bbef-7401c6e2aa8a}"
    },
    "title": "Fix _export_ply issue with python3",
    "id": 1923,
    "comment_count": 6,
    "created_on": "2016-01-04T13:14:08.610934+00:00",
    "merge_commit": {
        "hash": "f5627de0c870",
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/f5627de0c870"
            }
        }
    },
    "comments": [
        {
            "content": {
                "markup": "markdown",
                "raw": "All tests pass. Good job!",
                "html": "<p>All tests pass. Good job!</p>"
            },
            "user": {
                "username": "yt-fido",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1923/comments/13146299"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1923/_/diff#comment-13146299"
                }
            },
            "created_on": "2016-01-04T14:23:57.551521+00:00",
            "updated_on": "2016-01-04T14:23:57.680593+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1923"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1923"
                    }
                },
                "title": "Fix _export_ply issue with python3",
                "id": 1923
            },
            "type": "pullrequest_comment",
            "id": 13146299
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "All tests pass. Good job!",
                "html": "<p>All tests pass. Good job!</p>"
            },
            "user": {
                "username": "yt-fido",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1923/comments/13148859"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1923/_/diff#comment-13148859"
                }
            },
            "created_on": "2016-01-04T15:24:41.872302+00:00",
            "updated_on": "2016-01-04T15:24:41.925574+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1923"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1923"
                    }
                },
                "title": "Fix _export_ply issue with python3",
                "id": 1923
            },
            "type": "pullrequest_comment",
            "id": 13148859
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "I've tried fixing up the `_upload_to_sketchfab` function, but I can't get anything to work with that.  Their API may not support .ply files despite claims to the contrary?\n```\n        import requests\n\n        # split into files & metadata\n        files = {'modelFile':data['fileModel']}\n        data = {'token': data['token'], 'description': data['description'],\n                'title': data['title']}\n\n        response = requests.post(\"https://api.sketchfab.com/v2/models\",\n                                 data=data, files=files)\n```",
                "html": "<p>I've tried fixing up the <code>_upload_to_sketchfab</code> function, but I can't get anything to work with that.  Their API may not support .ply files despite claims to the contrary?</p>\n<div class=\"codehilite\"><pre><span></span>        <span class=\"kn\">import</span> <span class=\"nn\">requests</span>\n\n        <span class=\"c1\"># split into files &amp; metadata</span>\n        <span class=\"n\">files</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"s1\">&#39;modelFile&#39;</span><span class=\"p\">:</span><span class=\"n\">data</span><span class=\"p\">[</span><span class=\"s1\">&#39;fileModel&#39;</span><span class=\"p\">]}</span>\n        <span class=\"n\">data</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"s1\">&#39;token&#39;</span><span class=\"p\">:</span> <span class=\"n\">data</span><span class=\"p\">[</span><span class=\"s1\">&#39;token&#39;</span><span class=\"p\">],</span> <span class=\"s1\">&#39;description&#39;</span><span class=\"p\">:</span> <span class=\"n\">data</span><span class=\"p\">[</span><span class=\"s1\">&#39;description&#39;</span><span class=\"p\">],</span>\n                <span class=\"s1\">&#39;title&#39;</span><span class=\"p\">:</span> <span class=\"n\">data</span><span class=\"p\">[</span><span class=\"s1\">&#39;title&#39;</span><span class=\"p\">]}</span>\n\n        <span class=\"n\">response</span> <span class=\"o\">=</span> <span class=\"n\">requests</span><span class=\"o\">.</span><span class=\"n\">post</span><span class=\"p\">(</span><span class=\"s2\">&quot;https://api.sketchfab.com/v2/models&quot;</span><span class=\"p\">,</span>\n                                 <span class=\"n\">data</span><span class=\"o\">=</span><span class=\"n\">data</span><span class=\"p\">,</span> <span class=\"n\">files</span><span class=\"o\">=</span><span class=\"n\">files</span><span class=\"p\">)</span>\n</pre></div>"
            },
            "user": {
                "username": "keflavich",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/keflavich"
                    },
                    "html": {
                        "href": "https://bitbucket.org/keflavich/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/keflavich/avatar/32/"
                    }
                },
                "display_name": "adam ginsburg",
                "uuid": "{f5c2fa81-d2e1-4412-8b7e-6182c7adf729}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1923/comments/13149512"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1923/_/diff#comment-13149512"
                }
            },
            "created_on": "2016-01-04T15:41:48.714055+00:00",
            "updated_on": "2016-01-04T15:41:48.776499+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1923"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1923"
                    }
                },
                "title": "Fix _export_ply issue with python3",
                "id": 1923
            },
            "type": "pullrequest_comment",
            "id": 13149512
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "All tests pass. Good job!",
                "html": "<p>All tests pass. Good job!</p>"
            },
            "user": {
                "username": "yt-fido",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1923/comments/13200545"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1923/_/diff#comment-13200545"
                }
            },
            "created_on": "2016-01-05T23:49:44.404295+00:00",
            "updated_on": "2016-01-05T23:49:44.452786+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1923"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1923"
                    }
                },
                "title": "Fix _export_ply issue with python3",
                "id": 1923
            },
            "type": "pullrequest_comment",
            "id": 13200545
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "My only comment is that it would be nice if we could have a test for generating .ply files. We have examples in yt of tests that use real datasets if that would help.\n\nNo worries if you don't have time to work on that though.",
                "html": "<p>My only comment is that it would be nice if we could have a test for generating .ply files. We have examples in yt of tests that use real datasets if that would help.</p>\n<p>No worries if you don't have time to work on that though.</p>"
            },
            "user": {
                "username": "ngoldbaum",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1923/comments/13200591"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1923/_/diff#comment-13200591"
                }
            },
            "created_on": "2016-01-05T23:52:22.784553+00:00",
            "updated_on": "2016-01-05T23:52:22.786747+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1923"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1923"
                    }
                },
                "title": "Fix _export_ply issue with python3",
                "id": 1923
            },
            "type": "pullrequest_comment",
            "id": 13200591
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "I agree, a test would be great, but that's a bit beyond me right now.  If I knew how to do it and it was straightforward, I'd consider it, but given that I'd have to learn quite a lot, I don't have the time.",
                "html": "<p>I agree, a test would be great, but that's a bit beyond me right now.  If I knew how to do it and it was straightforward, I'd consider it, but given that I'd have to learn quite a lot, I don't have the time.</p>"
            },
            "user": {
                "username": "keflavich",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/keflavich"
                    },
                    "html": {
                        "href": "https://bitbucket.org/keflavich/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/keflavich/avatar/32/"
                    }
                },
                "display_name": "adam ginsburg",
                "uuid": "{f5c2fa81-d2e1-4412-8b7e-6182c7adf729}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1923/comments/13206092"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1923/_/diff#comment-13206092"
                }
            },
            "created_on": "2016-01-06T07:13:43.048823+00:00",
            "updated_on": "2016-01-06T07:13:43.092558+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1923"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1923"
                    }
                },
                "title": "Fix _export_ply issue with python3",
                "id": 1923
            },
            "type": "pullrequest_comment",
            "id": 13206092
        }
    ],
    "reason": "",
    "type": "pullrequest",
    "close_source_branch": false,
    "state": "MERGED",
    "description": "In python3, `_export_ply` will fail with this traceback:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Users/adam/work/orion/alma/code/sketchfab.py\", line 8, in <module>\r\n    \"at 30 mJy/beam\", export_to='sketchfab')\r\n  File \"/Users/adam/repos/spectral-cube/build/lib.macosx-10.5-x86_64-3.5/spectral_cube/ytcube.py\", line 231, in quick_isocontour\r\n    color_log=color_log, **kwargs)\r\n  File \"/Users/adam/anaconda/envs/astropy35/lib/python3.5/site-packages/yt-3.3.dev0-py3.5-macosx-10.5-x86_64.egg/yt/data_objects/construction_data_containers.py\", line 1755, in export_sketchfab\r\n    sample_type = \"vertex\", no_ghost = no_ghost)\r\n  File \"/Users/adam/anaconda/envs/astropy35/lib/python3.5/site-packages/yt-3.3.dev0-py3.5-macosx-10.5-x86_64.egg/yt/data_objects/construction_data_containers.py\", line 1616, in export_ply\r\n    sample_type)\r\n  File \"/Users/adam/anaconda/envs/astropy35/lib/python3.5/site-packages/yt-3.3.dev0-py3.5-macosx-10.5-x86_64.egg/yt/utilities/parallel_tools/parallel_analysis_interface.py\", line 319, in root_only\r\n    return func(*args, **kwargs)\r\n  File \"/Users/adam/anaconda/envs/astropy35/lib/python3.5/site-packages/yt-3.3.dev0-py3.5-macosx-10.5-x86_64.egg/yt/data_objects/construction_data_containers.py\", line 1646, in _export_ply\r\n    f.write(b\"element vertex %s\\n\" % (nv))\r\nTypeError: %b requires bytes, or an object that implements __bytes__, not 'int'\r\n```\r\n\r\nIt would probably be a good idea to include a regression test for this, but that will require finding a contourable data set, I think.  ",
    "author": {
        "username": "keflavich",
        "type": "user",
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/keflavich"
            },
            "html": {
                "href": "https://bitbucket.org/keflavich/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/keflavich/avatar/32/"
            }
        },
        "display_name": "adam ginsburg",
        "uuid": "{f5c2fa81-d2e1-4412-8b7e-6182c7adf729}"
    },
    "updated_on": "2016-01-11T19:13:06.612731+00:00",
    "destination": {
        "repository": {
            "full_name": "yt_analysis/yt",
            "uuid": "{b73cb37c-40f2-493a-aaa9-41bc8d8974cc}",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/yt_analysis/yt/avatar/32/"
                }
            },
            "name": "yt"
        },
        "commit": {
            "hash": "4ef374d050fc",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/4ef374d050fc"
                }
            }
        },
        "branch": {
            "name": "yt"
        }
    }
}