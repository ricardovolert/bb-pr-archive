{
    "reason": "",
    "state": "MERGED",
    "updated_on": "2013-12-04T21:06:44.409973+00:00",
    "comment_count": 9,
    "description": "This PR does a few things:\r\n\r\n1) Replaces the `write_fits` function with a `FITSImageBuffer` class which has the same functionality but is more flexible and powerful. \r\n\r\n2) Sets up a FITS frontend for reading in FITS images into yt. \r\n\r\n3) Allows exporting of `FITSImageBuffer` to the viz tool Glue (http://glueviz.org), as well as adding an export method for `YTDataContainer`.\r\n\r\nEDIT: Incorporated @MatthewTurk and @cnbeaumont's suggestions.",
    "created_on": "2013-12-04T17:33:39.642202+00:00",
    "task_count": 0,
    "merge_commit": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/69c14f7397ba"
            }
        },
        "hash": "69c14f7397ba"
    },
    "title": "Improved support for reading/writing FITS files and some support for Glue. ",
    "links": {
        "diff": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/668/diff"
        },
        "decline": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/668/decline"
        },
        "self": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/668"
        },
        "activity": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/668/activity"
        },
        "merge": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/668/merge"
        },
        "commits": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/668/commits"
        },
        "statuses": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/668/statuses"
        },
        "approve": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/668/approve"
        },
        "html": {
            "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/668"
        },
        "comments": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/668/comments"
        }
    },
    "closed_by": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
            },
            "html": {
                "href": "https://bitbucket.org/MatthewTurk/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "Matt Turk",
        "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
        "username": "MatthewTurk"
    },
    "id": 668,
    "type": "pullrequest",
    "author": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/jzuhone"
            },
            "html": {
                "href": "https://bitbucket.org/jzuhone/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/jzuhone/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "John ZuHone",
        "uuid": "{0c51edfa-e317-432f-bbef-7401c6e2aa8a}",
        "username": "jzuhone"
    },
    "source": {
        "branch": {
            "name": "yt-3.0"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/jzuhone/yt-3.x/commit/c851d95ab986"
                }
            },
            "hash": "c851d95ab986"
        },
        "repository": {
            "full_name": "jzuhone/yt-3.x",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/jzuhone/yt-3.x"
                },
                "html": {
                    "href": "https://bitbucket.org/jzuhone/yt-3.x"
                },
                "avatar": {
                    "href": "https://bitbucket.org/jzuhone/yt-3.x/avatar/32/"
                }
            },
            "name": "yt-3.x",
            "uuid": "{a412b917-f04d-4344-8e3a-f215a6a7976c}"
        }
    },
    "close_source_branch": false,
    "destination": {
        "branch": {
            "name": "yt-3.0"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/9537359f38e2"
                }
            },
            "hash": "9537359f38e2"
        },
        "repository": {
            "full_name": "yt_analysis/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/yt_analysis/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{b73cb37c-40f2-493a-aaa9-41bc8d8974cc}"
        }
    },
    "comments": [
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/668/comments/904592"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/668/_/diff#comment-904592"
                }
            },
            "pullrequest": {
                "title": "Improved support for reading/writing FITS files and some support for Glue. ",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/668"
                    }
                },
                "id": 668
            },
            "content": {
                "raw": "All tests pass. Good job!",
                "html": "<p>All tests pass. Good job!</p>",
                "markup": "markdown"
            },
            "created_on": "2013-12-04T18:27:27.496181+00:00",
            "updated_on": "2013-12-04T18:27:27.604986+00:00",
            "id": 904592
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/668/comments/904754"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/jzuhone/yt-3.x:82b562735470..9537359f38e2?path=yt%2Fdata_objects%2Fdata_containers.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/668/_/diff#comment-904754"
                }
            },
            "pullrequest": {
                "title": "Improved support for reading/writing FITS files and some support for Glue. ",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/668"
                    }
                },
                "id": 668
            },
            "content": {
                "raw": "print statement :)",
                "html": "<p>print statement :)</p>",
                "markup": "markdown"
            },
            "created_on": "2013-12-04T19:09:16.662492+00:00",
            "updated_on": "2013-12-04T19:09:16.671346+00:00",
            "inline": {
                "from": null,
                "path": "yt/data_objects/data_containers.py",
                "to": 363
            },
            "id": 904754
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/668/comments/904757"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/jzuhone/yt-3.x:82b562735470..9537359f38e2?path=yt%2Fdata_objects%2Fdata_containers.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/668/_/diff#comment-904757"
                }
            },
            "pullrequest": {
                "title": "Improved support for reading/writing FITS files and some support for Glue. ",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/668"
                    }
                },
                "id": 668
            },
            "content": {
                "raw": "I know this is still very preliminary, but could we got a docstring?",
                "html": "<p>I know this is still very preliminary, but could we got a docstring?</p>",
                "markup": "markdown"
            },
            "created_on": "2013-12-04T19:09:34.665442+00:00",
            "updated_on": "2013-12-04T19:09:34.674290+00:00",
            "inline": {
                "from": null,
                "path": "yt/data_objects/data_containers.py",
                "to": 356
            },
            "id": 904757
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/668/comments/904766"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/jzuhone/yt-3.x:82b562735470..9537359f38e2?path=yt%2Fdata_objects%2Fdata_containers.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/668/_/diff#comment-904766"
                }
            },
            "pullrequest": {
                "title": "Improved support for reading/writing FITS files and some support for Glue. ",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/668"
                    }
                },
                "id": 668
            },
            "content": {
                "raw": "One possibility, if there's a second layer beneath \"label\" for more information, would be to use the `_con_args` attribute or to supply a `__repr__` of `self` as info.",
                "html": "<p>One possibility, if there's a second layer beneath \"label\" for more information, would be to use the <code>_con_args</code> attribute or to supply a <code>__repr__</code> of <code>self</code> as info.</p>",
                "markup": "markdown"
            },
            "created_on": "2013-12-04T19:11:37.159718+00:00",
            "updated_on": "2013-12-04T19:11:37.166613+00:00",
            "inline": {
                "from": null,
                "path": "yt/data_objects/data_containers.py",
                "to": 365
            },
            "id": 904766
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/668/comments/904767"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/jzuhone/yt-3.x:82b562735470..9537359f38e2?path=yt%2Ffrontends%2Ffits%2F__init__.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/668/_/diff#comment-904767"
                }
            },
            "pullrequest": {
                "title": "Improved support for reading/writing FITS files and some support for Glue. ",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/668"
                    }
                },
                "id": 668
            },
            "content": {
                "raw": "Minor change here",
                "html": "<p>Minor change here</p>",
                "markup": "markdown"
            },
            "created_on": "2013-12-04T19:11:47.719122+00:00",
            "updated_on": "2013-12-04T19:11:47.730196+00:00",
            "inline": {
                "from": null,
                "path": "yt/frontends/fits/__init__.py",
                "to": 2
            },
            "id": 904767
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/668/comments/904807"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/jzuhone/yt-3.x:82b562735470..9537359f38e2?path=yt%2Fmods.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/668/_/diff#comment-904807"
                }
            },
            "pullrequest": {
                "title": "Improved support for reading/writing FITS files and some support for Glue. ",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/668"
                    }
                },
                "id": 668
            },
            "content": {
                "raw": "For now, can we comment out the import here?  Just until we have time to move the pyfits imports into a demand-driven setup.  (I will submit that as a subsequent PR.)",
                "html": "<p>For now, can we comment out the import here?  Just until we have time to move the pyfits imports into a demand-driven setup.  (I will submit that as a subsequent PR.)</p>",
                "markup": "markdown"
            },
            "created_on": "2013-12-04T19:18:39.964495+00:00",
            "updated_on": "2013-12-04T19:18:39.976790+00:00",
            "inline": {
                "from": null,
                "path": "yt/mods.py",
                "to": 119
            },
            "id": 904807
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/668/comments/904825"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/668/_/diff#comment-904825"
                }
            },
            "pullrequest": {
                "title": "Improved support for reading/writing FITS files and some support for Glue. ",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/668"
                    }
                },
                "id": 668
            },
            "content": {
                "raw": "Hi @jzuhone this is awesome.  Other than the minor comments below, I'm excited to see this go in.",
                "html": "<p>Hi <a href=\"/jzuhone/\" rel=\"nofollow\" title=\"@jzuhone\" class=\"mention\">John ZuHone</a> this is awesome.  Other than the minor comments below, I'm excited to see this go in.</p>",
                "markup": "markdown"
            },
            "created_on": "2013-12-04T19:20:52.834842+00:00",
            "updated_on": "2013-12-04T19:20:52.851444+00:00",
            "id": 904825
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/cnbeaumont"
                    },
                    "html": {
                        "href": "https://bitbucket.org/cnbeaumont/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/cnbeaumont/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Chris Beaumont",
                "uuid": "{14097c6a-d047-47b1-8caf-e11d02de43b2}",
                "username": "cnbeaumont"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/668/comments/904967"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/jzuhone/yt-3.x:82b562735470..9537359f38e2?path=yt%2Fdata_objects%2Fdata_containers.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/668/_/diff#comment-904967"
                }
            },
            "pullrequest": {
                "title": "Improved support for reading/writing FITS files and some support for Glue. ",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/668"
                    }
                },
                "id": 668
            },
            "content": {
                "raw": "the add_component method accepts array-like objects directly, so you need not manually import and instantiate Components",
                "html": "<p>the add_component method accepts array-like objects directly, so you need not manually import and instantiate Components</p>",
                "markup": "markdown"
            },
            "created_on": "2013-12-04T19:50:24.994960+00:00",
            "updated_on": "2013-12-04T19:50:25.142131+00:00",
            "inline": {
                "from": null,
                "path": "yt/data_objects/data_containers.py",
                "to": 367
            },
            "id": 904967
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/cnbeaumont"
                    },
                    "html": {
                        "href": "https://bitbucket.org/cnbeaumont/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/cnbeaumont/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Chris Beaumont",
                "uuid": "{14097c6a-d047-47b1-8caf-e11d02de43b2}",
                "username": "cnbeaumont"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/668/comments/905324"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/jzuhone/yt-3.x:c851d95ab986..9537359f38e2?path=yt%2Fdata_objects%2Fdata_containers.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/668/_/diff#comment-905324"
                }
            },
            "pullrequest": {
                "title": "Improved support for reading/writing FITS files and some support for Glue. ",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/668"
                    }
                },
                "id": 668
            },
            "content": {
                "raw": "This looks good to me (and I'm thrilled to see a glue import in yt!) One slightly more compact option is to use the qglue utility:\n```\nfrom glue import qglue\nqglue(label={component_name : self[component_name] for component_name in fields})\n```\nHowever, this doesn't preserve the order of fields",
                "html": "<p>This looks good to me (and I'm thrilled to see a glue import in yt!) One slightly more compact option is to use the qglue utility:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kn\">from</span> <span class=\"nn\">glue</span> <span class=\"kn\">import</span> <span class=\"n\">qglue</span>\n<span class=\"n\">qglue</span><span class=\"p\">(</span><span class=\"n\">label</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"n\">component_name</span> <span class=\"p\">:</span> <span class=\"bp\">self</span><span class=\"p\">[</span><span class=\"n\">component_name</span><span class=\"p\">]</span> <span class=\"k\">for</span> <span class=\"n\">component_name</span> <span class=\"ow\">in</span> <span class=\"n\">fields</span><span class=\"p\">})</span>\n</pre></div>\n\n\n<p>However, this doesn't preserve the order of fields</p>",
                "markup": "markdown"
            },
            "created_on": "2013-12-04T21:06:22.922162+00:00",
            "updated_on": "2013-12-04T21:06:44.399069+00:00",
            "inline": {
                "from": null,
                "path": "yt/data_objects/data_containers.py",
                "to": 356
            },
            "id": 905324
        }
    ]
}