{
    "reason": "",
    "state": "MERGED",
    "updated_on": "2014-12-13T07:45:52.535004+00:00",
    "comment_count": 17,
    "description": "This PR updates the PerspectiveCamera for VR, which creates a view on the plane of east vector and north vector, with the view angles of ``` 2 * atan(0.5 * width[0] / width[2])``` and ```2 * atan(0.5 * width[1] / width[2])```.\r\n\r\nSample images created with the dataset ```IsolatedGalaxy/galaxy0030/galaxy0030```:\r\n![galaxy0030_rendering_0.0.png](https://bitbucket.org/repo/qnRMen/images/3921472695-galaxy0030_rendering_0.0.png)\r\n![galaxy0030_rendering_0.2.png](https://bitbucket.org/repo/qnRMen/images/3360019880-galaxy0030_rendering_0.2.png)\r\n![galaxy0030_rendering_0.4.png](https://bitbucket.org/repo/qnRMen/images/1396134720-galaxy0030_rendering_0.4.png)",
    "created_on": "2014-12-07T06:20:48.235960+00:00",
    "task_count": 0,
    "merge_commit": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/bca4a0577dde"
            }
        },
        "hash": "bca4a0577dde"
    },
    "title": "PerspectiveCamera Updated for VR",
    "links": {
        "diff": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346/diff"
        },
        "decline": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346/decline"
        },
        "self": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346"
        },
        "activity": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346/activity"
        },
        "merge": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346/merge"
        },
        "commits": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346/commits"
        },
        "statuses": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346/statuses"
        },
        "approve": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346/approve"
        },
        "html": {
            "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1346"
        },
        "comments": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346/comments"
        }
    },
    "closed_by": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
            },
            "html": {
                "href": "https://bitbucket.org/ngoldbaum/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "Nathan Goldbaum",
        "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
        "username": "ngoldbaum"
    },
    "id": 1346,
    "type": "pullrequest",
    "author": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/jisuoqing"
            },
            "html": {
                "href": "https://bitbucket.org/jisuoqing/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/jisuoqing/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "Suoqing Ji",
        "uuid": "{7ef4ff60-41f7-4600-87bc-df06261680b4}",
        "username": "jisuoqing"
    },
    "source": {
        "branch": {
            "name": "yt"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/jisuoqing/yt/commit/1a8631efd0f1"
                }
            },
            "hash": "1a8631efd0f1"
        },
        "repository": {
            "full_name": "jisuoqing/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/jisuoqing/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/jisuoqing/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/jisuoqing/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{dc15744d-e256-4d81-94ff-2281a2f38f64}"
        }
    },
    "close_source_branch": false,
    "destination": {
        "branch": {
            "name": "yt"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/c7cec653fdf8"
                }
            },
            "hash": "c7cec653fdf8"
        },
        "repository": {
            "full_name": "yt_analysis/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/yt_analysis/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{b73cb37c-40f2-493a-aaa9-41bc8d8974cc}"
        }
    },
    "comments": [
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346/comments/4188070"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1346/_/diff#comment-4188070"
                }
            },
            "pullrequest": {
                "title": "PerspectiveCamera Updated for VR",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1346"
                    }
                },
                "id": 1346
            },
            "content": {
                "raw": "All tests pass. Good job!",
                "html": "<p>All tests pass. Good job!</p>",
                "markup": "markdown"
            },
            "created_on": "2014-12-07T07:41:46.761906+00:00",
            "updated_on": "2014-12-07T07:41:46.989348+00:00",
            "id": 4188070
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/mzingale"
                    },
                    "html": {
                        "href": "https://bitbucket.org/mzingale/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/mzingale/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Michael  Zingale",
                "uuid": "{d1d09b0d-3bd7-4129-ac64-6aa3abfa3223}",
                "username": "mzingale"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346/comments/4188925"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1346/_/diff#comment-4188925"
                }
            },
            "pullrequest": {
                "title": "PerspectiveCamera Updated for VR",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1346"
                    }
                },
                "id": 1346
            },
            "content": {
                "raw": "does this allow you to set the North vector?  It looks like it just assumes it to be one of the coordinate directions, but some simulations really have an \"up\" direction.",
                "html": "<p>does this allow you to set the North vector?  It looks like it just assumes it to be one of the coordinate directions, but some simulations really have an \"up\" direction.</p>",
                "markup": "markdown"
            },
            "created_on": "2014-12-07T14:27:37.058628+00:00",
            "updated_on": "2014-12-07T14:27:37.067560+00:00",
            "id": 4188925
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/jisuoqing"
                    },
                    "html": {
                        "href": "https://bitbucket.org/jisuoqing/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/jisuoqing/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Suoqing Ji",
                "uuid": "{7ef4ff60-41f7-4600-87bc-df06261680b4}",
                "username": "jisuoqing"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346/comments/4189709"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1346/_/diff#comment-4189709"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346/comments/4188925"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1346/_/diff#comment-4188925"
                    }
                },
                "id": 4188925
            },
            "pullrequest": {
                "title": "PerspectiveCamera Updated for VR",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1346"
                    }
                },
                "id": 1346
            },
            "content": {
                "raw": "Hi Mike, it does support the north vector, since the sample plane is expanded along the ```east_vec``` and ```north_vec```, which could be specified by the user and automatically computed.",
                "html": "<p>Hi Mike, it does support the north vector, since the sample plane is expanded along the <code>east_vec</code> and <code>north_vec</code>, which could be specified by the user and automatically computed.</p>",
                "markup": "markdown"
            },
            "created_on": "2014-12-07T21:30:11.304662+00:00",
            "updated_on": "2014-12-08T00:02:32.819196+00:00",
            "id": 4189709
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/mzingale"
                    },
                    "html": {
                        "href": "https://bitbucket.org/mzingale/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/mzingale/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Michael  Zingale",
                "uuid": "{d1d09b0d-3bd7-4129-ac64-6aa3abfa3223}",
                "username": "mzingale"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346/comments/4200715"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1346/_/diff#comment-4200715"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346/comments/4189709"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1346/_/diff#comment-4189709"
                    }
                },
                "id": 4189709
            },
            "pullrequest": {
                "title": "PerspectiveCamera Updated for VR",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1346"
                    }
                },
                "id": 1346
            },
            "content": {
                "raw": "Hi Suoqing, I pull this change from your repo to test it, but I get a divide by zero error and a blank image.   I'm using a simple artifical dataset that I used to test the VR previously.  My script is here if you are curious:\n\nhttp://bender.astro.sunysb.edu/random/orientation-rot-perspective.py\n",
                "html": "<p>Hi Suoqing, I pull this change from your repo to test it, but I get a divide by zero error and a blank image.   I'm using a simple artifical dataset that I used to test the VR previously.  My script is here if you are curious:</p>\n<p><a href=\"http://bender.astro.sunysb.edu/random/orientation-rot-perspective.py\" rel=\"nofollow\">http://bender.astro.sunysb.edu/random/orientation-rot-perspective.py</a></p>",
                "markup": "markdown"
            },
            "created_on": "2014-12-08T15:55:31.839253+00:00",
            "updated_on": "2014-12-08T15:55:31.847655+00:00",
            "id": 4200715
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/mzingale"
                    },
                    "html": {
                        "href": "https://bitbucket.org/mzingale/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/mzingale/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Michael  Zingale",
                "uuid": "{d1d09b0d-3bd7-4129-ac64-6aa3abfa3223}",
                "username": "mzingale"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346/comments/4200801"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1346/_/diff#comment-4200801"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346/comments/4200715"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1346/_/diff#comment-4200715"
                    }
                },
                "id": 4200715
            },
            "pullrequest": {
                "title": "PerspectiveCamera Updated for VR",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1346"
                    }
                },
                "id": 1346
            },
            "content": {
                "raw": "Ah, wait, I forgot to do an `hg update` after my pull (this happens to me often when switching from `git` to `hg`).  It runs now, but I need to tweak things, as it is really zoomed in I think.  Stay tuned...",
                "html": "<p>Ah, wait, I forgot to do an <code>hg update</code> after my pull (this happens to me often when switching from <code>git</code> to <code>hg</code>).  It runs now, but I need to tweak things, as it is really zoomed in I think.  Stay tuned...</p>",
                "markup": "markdown"
            },
            "created_on": "2014-12-08T15:58:35.391778+00:00",
            "updated_on": "2014-12-08T15:58:35.398656+00:00",
            "id": 4200801
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/mzingale"
                    },
                    "html": {
                        "href": "https://bitbucket.org/mzingale/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/mzingale/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Michael  Zingale",
                "uuid": "{d1d09b0d-3bd7-4129-ac64-6aa3abfa3223}",
                "username": "mzingale"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346/comments/4209413"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1346/_/diff#comment-4209413"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346/comments/4200801"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1346/_/diff#comment-4200801"
                    }
                },
                "id": 4200801
            },
            "pullrequest": {
                "title": "PerspectiveCamera Updated for VR",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1346"
                    }
                },
                "id": 1346
            },
            "content": {
                "raw": "Hi Suoqing, I might be doing something wrong, but I don't get a meaningful image with this perspective camera with the script I posted above.  If you switch over the `PerspectiveCamera` to `Camera` then I get something expected. ",
                "html": "<p>Hi Suoqing, I might be doing something wrong, but I don't get a meaningful image with this perspective camera with the script I posted above.  If you switch over the <code>PerspectiveCamera</code> to <code>Camera</code> then I get something expected. </p>",
                "markup": "markdown"
            },
            "created_on": "2014-12-09T00:08:13.184008+00:00",
            "updated_on": "2014-12-09T00:08:13.191823+00:00",
            "id": 4209413
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/jisuoqing"
                    },
                    "html": {
                        "href": "https://bitbucket.org/jisuoqing/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/jisuoqing/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Suoqing Ji",
                "uuid": "{7ef4ff60-41f7-4600-87bc-df06261680b4}",
                "username": "jisuoqing"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346/comments/4209451"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1346/_/diff#comment-4209451"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346/comments/4209413"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1346/_/diff#comment-4209413"
                    }
                },
                "id": 4209413
            },
            "pullrequest": {
                "title": "PerspectiveCamera Updated for VR",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1346"
                    }
                },
                "id": 1346
            },
            "content": {
                "raw": "Hi Mike, thanks for double-checking this! Could you send me the dataset you're using, so I could take a look into it?\nBtw, I'll have finals these days so my progress might be a little slow...",
                "html": "<p>Hi Mike, thanks for double-checking this! Could you send me the dataset you're using, so I could take a look into it?\nBtw, I'll have finals these days so my progress might be a little slow...</p>",
                "markup": "markdown"
            },
            "created_on": "2014-12-09T00:10:13.480300+00:00",
            "updated_on": "2014-12-09T00:10:13.723559+00:00",
            "id": 4209451
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/mzingale"
                    },
                    "html": {
                        "href": "https://bitbucket.org/mzingale/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/mzingale/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Michael  Zingale",
                "uuid": "{d1d09b0d-3bd7-4129-ac64-6aa3abfa3223}",
                "username": "mzingale"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346/comments/4209476"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1346/_/diff#comment-4209476"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346/comments/4209451"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1346/_/diff#comment-4209451"
                    }
                },
                "id": 4209451
            },
            "pullrequest": {
                "title": "PerspectiveCamera Updated for VR",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1346"
                    }
                },
                "id": 1346
            },
            "content": {
                "raw": "That script creates it's own dataset as an `ndarray`.  No worries, I have finals too :)",
                "html": "<p>That script creates it's own dataset as an <code>ndarray</code>.  No worries, I have finals too :)</p>",
                "markup": "markdown"
            },
            "created_on": "2014-12-09T00:11:17.240106+00:00",
            "updated_on": "2014-12-09T00:11:17.247841+00:00",
            "id": 4209476
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/jisuoqing"
                    },
                    "html": {
                        "href": "https://bitbucket.org/jisuoqing/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/jisuoqing/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Suoqing Ji",
                "uuid": "{7ef4ff60-41f7-4600-87bc-df06261680b4}",
                "username": "jisuoqing"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346/comments/4217074"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1346/_/diff#comment-4217074"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346/comments/4209476"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1346/_/diff#comment-4209476"
                    }
                },
                "id": 4209476
            },
            "pullrequest": {
                "title": "PerspectiveCamera Updated for VR",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1346"
                    }
                },
                "id": 1346
            },
            "content": {
                "raw": "Hi Mike, I've just got the chance to look into this -- please correct me if I'm wrong.\n\nFor ```Camera```, it creates the rendering orthogonally. Thus the depth coordinate (along ```normal_vector```) of the camera really does not matter. When the direction of the ```normal_vector``` flips, you could still see the entire volume (if ```width``` is large enough), and the only difference is the back and front are switched.\n\nFor ```PerspectiveCamera```, it's a difference case: the visible volume is limited by the view angles, which means when the direction of ```normal_vector``` flips, your view changes from the front to the back and you can never see the front anymore (or the opposite case). Specifically, if your camera is located inside a cluster, you'll be surrounded by the cluster which will blur everything.\n\nIt seems that in your script the center of the camera is located at the center of the domain, where a density cluster is just located. Also, when you do the rotation, due to the difference of ```Camera``` and ```PerspectiveCamera```, the camera actually rotates at a fixed location and only the region inside the view angles is visible, which is different from the case in ```Camera``` that the camera looks like rotating around some point and the entire region is visible. You could tweak the parameters to, say, ```c = np.array([2, 0, 0]); L = np.array([1.0, .0, .0]);```, and the camera will rotate at the fixed point ```c``` at the x-y plane. Sometimes it might give \"divided by zero\" error because there's nothing within the view angles. Do the outcomes make sense to you?\n\nIf you would like to rotate the camera around some point, you need to calculate the both the ```normal_vector``` (the angle of view) and ```c``` (the location of view moving along a circle). I attached an example (in a simple case) of doing this, and here's the movie generated: [https://www.dropbox.com/s/b0lnuufn2mpdhi8/galaxy0030.mp4](https://www.dropbox.com/s/b0lnuufn2mpdhi8/galaxy0030.mp4).\n\n```\n#!python\n\nimport yt\nimport numpy as np\nimport yt.visualization.volume_rendering.api as vr\n\nds = yt.load(\"IsolatedGalaxy/galaxy0030/galaxy0030\")\n\nfield = 'density'\n\nuse_log = True\n\ndd = ds.all_data()\nmi, ma = dd.quantities.extrema(field)\n\nif use_log:\n    mi,ma = np.log10(mi), np.log10(ma)\n\ntf = yt.ColorTransferFunction((mi, ma))\n\ncenter = np.array([.5,.5,.5])\nnorth_vector = np.array([0,0,1])\nW = np.array([1.,1.,1.])\nN = 512\nR = 0.1\n\ntf.add_layers(10, 0.01, colormap = 'prism_r')\n\nframe = 0\n\n# Move the camera backward; the same with Camera.move_to\nX = np.linspace(1., center[0] - R, 50, endpoint=True)\nL = np.array([-1., 0., 0.])\nc = center.copy()\nfor x in X:\n\tc[0] = x\n\tcam = vr.PerspectiveCamera(c, L, W, N, transfer_function=tf, ds=ds, fields=[field], north_vector=north_vector, log_fields = [use_log], no_ghost=True)\n\tim = cam.snapshot('series/galaxy0030_%03d.png' % frame, clip_ratio=8.0)\n\tframe += 1\n\n# This is the same with Camera.yaw or Camera.rotation -- keep the location of the camera fixed and rotate the view\n# Now rotate by 180 degrees\nTheta1 = np.linspace(-np.pi, 0., 50, endpoint=True)\nfor theta1 in Theta1:\n\tL = np.array([np.cos(theta1), np.sin(theta1), 0.])\n\tcam = vr.PerspectiveCamera(c, L, W, N, transfer_function=tf, ds=ds, fields=[field], north_vector=north_vector, log_fields = [use_log], no_ghost=True)\n\tim = cam.snapshot('series/galaxy0030_%03d.png' % frame, clip_ratio=8.0)\n\tframe += 1\n\n# This is different from Camera.yaw or Camera.rotation -- rotate the camera with respect to a specified center\n# Now rotate by 360 degrees around the center of the domain\nTheta2 = np.linspace(0, 2.*np.pi, 50, endpoint=True)\nfor theta2 in Theta2:\n\tL = np.array([np.cos(theta2), np.sin(theta2), 0.])\n\tc = np.array(center) + R * np.array([np.cos(theta2+np.pi), np.sin(theta2+np.pi), 0.])\n\tcam = vr.PerspectiveCamera(c, L, W, N, transfer_function=tf, ds=ds, fields=[field], north_vector=north_vector, log_fields = [use_log], no_ghost=True)\n\tim = cam.snapshot('series/galaxy0030_%03d.png' % frame, clip_ratio=8.0)\n\tframe += 1\n```",
                "html": "<p>Hi Mike, I've just got the chance to look into this -- please correct me if I'm wrong.</p>\n<p>For <code>Camera</code>, it creates the rendering orthogonally. Thus the depth coordinate (along <code>normal_vector</code>) of the camera really does not matter. When the direction of the <code>normal_vector</code> flips, you could still see the entire volume (if <code>width</code> is large enough), and the only difference is the back and front are switched.</p>\n<p>For <code>PerspectiveCamera</code>, it's a difference case: the visible volume is limited by the view angles, which means when the direction of <code>normal_vector</code> flips, your view changes from the front to the back and you can never see the front anymore (or the opposite case). Specifically, if your camera is located inside a cluster, you'll be surrounded by the cluster which will blur everything.</p>\n<p>It seems that in your script the center of the camera is located at the center of the domain, where a density cluster is just located. Also, when you do the rotation, due to the difference of <code>Camera</code> and <code>PerspectiveCamera</code>, the camera actually rotates at a fixed location and only the region inside the view angles is visible, which is different from the case in <code>Camera</code> that the camera looks like rotating around some point and the entire region is visible. You could tweak the parameters to, say, <code>c = np.array([2, 0, 0]); L = np.array([1.0, .0, .0]);</code>, and the camera will rotate at the fixed point <code>c</code> at the x-y plane. Sometimes it might give \"divided by zero\" error because there's nothing within the view angles. Do the outcomes make sense to you?</p>\n<p>If you would like to rotate the camera around some point, you need to calculate the both the <code>normal_vector</code> (the angle of view) and <code>c</code> (the location of view moving along a circle). I attached an example (in a simple case) of doing this, and here's the movie generated: <a href=\"https://www.dropbox.com/s/b0lnuufn2mpdhi8/galaxy0030.mp4\">https://www.dropbox.com/s/b0lnuufn2mpdhi8/galaxy0030.mp4</a>.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kn\">import</span> <span class=\"nn\">yt</span>\n<span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"kn\">as</span> <span class=\"nn\">np</span>\n<span class=\"kn\">import</span> <span class=\"nn\">yt.visualization.volume_rendering.api</span> <span class=\"kn\">as</span> <span class=\"nn\">vr</span>\n\n<span class=\"n\">ds</span> <span class=\"o\">=</span> <span class=\"n\">yt</span><span class=\"o\">.</span><span class=\"n\">load</span><span class=\"p\">(</span><span class=\"s2\">&quot;IsolatedGalaxy/galaxy0030/galaxy0030&quot;</span><span class=\"p\">)</span>\n\n<span class=\"n\">field</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;density&#39;</span>\n\n<span class=\"n\">use_log</span> <span class=\"o\">=</span> <span class=\"bp\">True</span>\n\n<span class=\"n\">dd</span> <span class=\"o\">=</span> <span class=\"n\">ds</span><span class=\"o\">.</span><span class=\"n\">all_data</span><span class=\"p\">()</span>\n<span class=\"n\">mi</span><span class=\"p\">,</span> <span class=\"n\">ma</span> <span class=\"o\">=</span> <span class=\"n\">dd</span><span class=\"o\">.</span><span class=\"n\">quantities</span><span class=\"o\">.</span><span class=\"n\">extrema</span><span class=\"p\">(</span><span class=\"n\">field</span><span class=\"p\">)</span>\n\n<span class=\"k\">if</span> <span class=\"n\">use_log</span><span class=\"p\">:</span>\n    <span class=\"n\">mi</span><span class=\"p\">,</span><span class=\"n\">ma</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">log10</span><span class=\"p\">(</span><span class=\"n\">mi</span><span class=\"p\">),</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">log10</span><span class=\"p\">(</span><span class=\"n\">ma</span><span class=\"p\">)</span>\n\n<span class=\"n\">tf</span> <span class=\"o\">=</span> <span class=\"n\">yt</span><span class=\"o\">.</span><span class=\"n\">ColorTransferFunction</span><span class=\"p\">((</span><span class=\"n\">mi</span><span class=\"p\">,</span> <span class=\"n\">ma</span><span class=\"p\">))</span>\n\n<span class=\"n\">center</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([</span><span class=\"o\">.</span><span class=\"mi\">5</span><span class=\"p\">,</span><span class=\"o\">.</span><span class=\"mi\">5</span><span class=\"p\">,</span><span class=\"o\">.</span><span class=\"mi\">5</span><span class=\"p\">])</span>\n<span class=\"n\">north_vector</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">])</span>\n<span class=\"n\">W</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([</span><span class=\"mf\">1.</span><span class=\"p\">,</span><span class=\"mf\">1.</span><span class=\"p\">,</span><span class=\"mf\">1.</span><span class=\"p\">])</span>\n<span class=\"n\">N</span> <span class=\"o\">=</span> <span class=\"mi\">512</span>\n<span class=\"n\">R</span> <span class=\"o\">=</span> <span class=\"mf\">0.1</span>\n\n<span class=\"n\">tf</span><span class=\"o\">.</span><span class=\"n\">add_layers</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"mf\">0.01</span><span class=\"p\">,</span> <span class=\"n\">colormap</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;prism_r&#39;</span><span class=\"p\">)</span>\n\n<span class=\"n\">frame</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>\n\n<span class=\"c1\"># Move the camera backward; the same with Camera.move_to</span>\n<span class=\"n\">X</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">linspace</span><span class=\"p\">(</span><span class=\"mf\">1.</span><span class=\"p\">,</span> <span class=\"n\">center</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"o\">-</span> <span class=\"n\">R</span><span class=\"p\">,</span> <span class=\"mi\">50</span><span class=\"p\">,</span> <span class=\"n\">endpoint</span><span class=\"o\">=</span><span class=\"bp\">True</span><span class=\"p\">)</span>\n<span class=\"n\">L</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([</span><span class=\"o\">-</span><span class=\"mf\">1.</span><span class=\"p\">,</span> <span class=\"mf\">0.</span><span class=\"p\">,</span> <span class=\"mf\">0.</span><span class=\"p\">])</span>\n<span class=\"n\">c</span> <span class=\"o\">=</span> <span class=\"n\">center</span><span class=\"o\">.</span><span class=\"n\">copy</span><span class=\"p\">()</span>\n<span class=\"k\">for</span> <span class=\"n\">x</span> <span class=\"ow\">in</span> <span class=\"n\">X</span><span class=\"p\">:</span>\n    <span class=\"n\">c</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">x</span>\n    <span class=\"n\">cam</span> <span class=\"o\">=</span> <span class=\"n\">vr</span><span class=\"o\">.</span><span class=\"n\">PerspectiveCamera</span><span class=\"p\">(</span><span class=\"n\">c</span><span class=\"p\">,</span> <span class=\"n\">L</span><span class=\"p\">,</span> <span class=\"n\">W</span><span class=\"p\">,</span> <span class=\"n\">N</span><span class=\"p\">,</span> <span class=\"n\">transfer_function</span><span class=\"o\">=</span><span class=\"n\">tf</span><span class=\"p\">,</span> <span class=\"n\">ds</span><span class=\"o\">=</span><span class=\"n\">ds</span><span class=\"p\">,</span> <span class=\"n\">fields</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"n\">field</span><span class=\"p\">],</span> <span class=\"n\">north_vector</span><span class=\"o\">=</span><span class=\"n\">north_vector</span><span class=\"p\">,</span> <span class=\"n\">log_fields</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">use_log</span><span class=\"p\">],</span> <span class=\"n\">no_ghost</span><span class=\"o\">=</span><span class=\"bp\">True</span><span class=\"p\">)</span>\n    <span class=\"n\">im</span> <span class=\"o\">=</span> <span class=\"n\">cam</span><span class=\"o\">.</span><span class=\"n\">snapshot</span><span class=\"p\">(</span><span class=\"s1\">&#39;series/galaxy0030_</span><span class=\"si\">%03d</span><span class=\"s1\">.png&#39;</span> <span class=\"o\">%</span> <span class=\"n\">frame</span><span class=\"p\">,</span> <span class=\"n\">clip_ratio</span><span class=\"o\">=</span><span class=\"mf\">8.0</span><span class=\"p\">)</span>\n    <span class=\"n\">frame</span> <span class=\"o\">+=</span> <span class=\"mi\">1</span>\n\n<span class=\"c1\"># This is the same with Camera.yaw or Camera.rotation -- keep the location of the camera fixed and rotate the view</span>\n<span class=\"c1\"># Now rotate by 180 degrees</span>\n<span class=\"n\">Theta1</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">linspace</span><span class=\"p\">(</span><span class=\"o\">-</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">pi</span><span class=\"p\">,</span> <span class=\"mf\">0.</span><span class=\"p\">,</span> <span class=\"mi\">50</span><span class=\"p\">,</span> <span class=\"n\">endpoint</span><span class=\"o\">=</span><span class=\"bp\">True</span><span class=\"p\">)</span>\n<span class=\"k\">for</span> <span class=\"n\">theta1</span> <span class=\"ow\">in</span> <span class=\"n\">Theta1</span><span class=\"p\">:</span>\n    <span class=\"n\">L</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">cos</span><span class=\"p\">(</span><span class=\"n\">theta1</span><span class=\"p\">),</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sin</span><span class=\"p\">(</span><span class=\"n\">theta1</span><span class=\"p\">),</span> <span class=\"mf\">0.</span><span class=\"p\">])</span>\n    <span class=\"n\">cam</span> <span class=\"o\">=</span> <span class=\"n\">vr</span><span class=\"o\">.</span><span class=\"n\">PerspectiveCamera</span><span class=\"p\">(</span><span class=\"n\">c</span><span class=\"p\">,</span> <span class=\"n\">L</span><span class=\"p\">,</span> <span class=\"n\">W</span><span class=\"p\">,</span> <span class=\"n\">N</span><span class=\"p\">,</span> <span class=\"n\">transfer_function</span><span class=\"o\">=</span><span class=\"n\">tf</span><span class=\"p\">,</span> <span class=\"n\">ds</span><span class=\"o\">=</span><span class=\"n\">ds</span><span class=\"p\">,</span> <span class=\"n\">fields</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"n\">field</span><span class=\"p\">],</span> <span class=\"n\">north_vector</span><span class=\"o\">=</span><span class=\"n\">north_vector</span><span class=\"p\">,</span> <span class=\"n\">log_fields</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">use_log</span><span class=\"p\">],</span> <span class=\"n\">no_ghost</span><span class=\"o\">=</span><span class=\"bp\">True</span><span class=\"p\">)</span>\n    <span class=\"n\">im</span> <span class=\"o\">=</span> <span class=\"n\">cam</span><span class=\"o\">.</span><span class=\"n\">snapshot</span><span class=\"p\">(</span><span class=\"s1\">&#39;series/galaxy0030_</span><span class=\"si\">%03d</span><span class=\"s1\">.png&#39;</span> <span class=\"o\">%</span> <span class=\"n\">frame</span><span class=\"p\">,</span> <span class=\"n\">clip_ratio</span><span class=\"o\">=</span><span class=\"mf\">8.0</span><span class=\"p\">)</span>\n    <span class=\"n\">frame</span> <span class=\"o\">+=</span> <span class=\"mi\">1</span>\n\n<span class=\"c1\"># This is different from Camera.yaw or Camera.rotation -- rotate the camera with respect to a specified center</span>\n<span class=\"c1\"># Now rotate by 360 degrees around the center of the domain</span>\n<span class=\"n\">Theta2</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">linspace</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mf\">2.</span><span class=\"o\">*</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">pi</span><span class=\"p\">,</span> <span class=\"mi\">50</span><span class=\"p\">,</span> <span class=\"n\">endpoint</span><span class=\"o\">=</span><span class=\"bp\">True</span><span class=\"p\">)</span>\n<span class=\"k\">for</span> <span class=\"n\">theta2</span> <span class=\"ow\">in</span> <span class=\"n\">Theta2</span><span class=\"p\">:</span>\n    <span class=\"n\">L</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">cos</span><span class=\"p\">(</span><span class=\"n\">theta2</span><span class=\"p\">),</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sin</span><span class=\"p\">(</span><span class=\"n\">theta2</span><span class=\"p\">),</span> <span class=\"mf\">0.</span><span class=\"p\">])</span>\n    <span class=\"n\">c</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">(</span><span class=\"n\">center</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"n\">R</span> <span class=\"o\">*</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">cos</span><span class=\"p\">(</span><span class=\"n\">theta2</span><span class=\"o\">+</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">pi</span><span class=\"p\">),</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sin</span><span class=\"p\">(</span><span class=\"n\">theta2</span><span class=\"o\">+</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">pi</span><span class=\"p\">),</span> <span class=\"mf\">0.</span><span class=\"p\">])</span>\n    <span class=\"n\">cam</span> <span class=\"o\">=</span> <span class=\"n\">vr</span><span class=\"o\">.</span><span class=\"n\">PerspectiveCamera</span><span class=\"p\">(</span><span class=\"n\">c</span><span class=\"p\">,</span> <span class=\"n\">L</span><span class=\"p\">,</span> <span class=\"n\">W</span><span class=\"p\">,</span> <span class=\"n\">N</span><span class=\"p\">,</span> <span class=\"n\">transfer_function</span><span class=\"o\">=</span><span class=\"n\">tf</span><span class=\"p\">,</span> <span class=\"n\">ds</span><span class=\"o\">=</span><span class=\"n\">ds</span><span class=\"p\">,</span> <span class=\"n\">fields</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"n\">field</span><span class=\"p\">],</span> <span class=\"n\">north_vector</span><span class=\"o\">=</span><span class=\"n\">north_vector</span><span class=\"p\">,</span> <span class=\"n\">log_fields</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">use_log</span><span class=\"p\">],</span> <span class=\"n\">no_ghost</span><span class=\"o\">=</span><span class=\"bp\">True</span><span class=\"p\">)</span>\n    <span class=\"n\">im</span> <span class=\"o\">=</span> <span class=\"n\">cam</span><span class=\"o\">.</span><span class=\"n\">snapshot</span><span class=\"p\">(</span><span class=\"s1\">&#39;series/galaxy0030_</span><span class=\"si\">%03d</span><span class=\"s1\">.png&#39;</span> <span class=\"o\">%</span> <span class=\"n\">frame</span><span class=\"p\">,</span> <span class=\"n\">clip_ratio</span><span class=\"o\">=</span><span class=\"mf\">8.0</span><span class=\"p\">)</span>\n    <span class=\"n\">frame</span> <span class=\"o\">+=</span> <span class=\"mi\">1</span>\n</pre></div>",
                "markup": "markdown"
            },
            "created_on": "2014-12-09T10:54:23.036233+00:00",
            "updated_on": "2014-12-13T07:45:52.517483+00:00",
            "id": 4217074
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/mzingale"
                    },
                    "html": {
                        "href": "https://bitbucket.org/mzingale/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/mzingale/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Michael  Zingale",
                "uuid": "{d1d09b0d-3bd7-4129-ac64-6aa3abfa3223}",
                "username": "mzingale"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346/comments/4220834"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1346/_/diff#comment-4220834"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346/comments/4217074"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1346/_/diff#comment-4217074"
                    }
                },
                "id": 4217074
            },
            "pullrequest": {
                "title": "PerspectiveCamera Updated for VR",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1346"
                    }
                },
                "id": 1346
            },
            "content": {
                "raw": "yes, this makes sense.  I was thinking about it wrong.  Can you add a docstring?",
                "html": "<p>yes, this makes sense.  I was thinking about it wrong.  Can you add a docstring?</p>",
                "markup": "markdown"
            },
            "created_on": "2014-12-09T14:24:22.475910+00:00",
            "updated_on": "2014-12-09T14:24:22.483920+00:00",
            "id": 4220834
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/mzingale"
                    },
                    "html": {
                        "href": "https://bitbucket.org/mzingale/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/mzingale/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Michael  Zingale",
                "uuid": "{d1d09b0d-3bd7-4129-ac64-6aa3abfa3223}",
                "username": "mzingale"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346/comments/4222797"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1346/_/diff#comment-4222797"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346/comments/4220834"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1346/_/diff#comment-4220834"
                    }
                },
                "id": 4220834
            },
            "pullrequest": {
                "title": "PerspectiveCamera Updated for VR",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1346"
                    }
                },
                "id": 1346
            },
            "content": {
                "raw": "Just to update the record in this PR, here's the image created in using my test script, with\n\n```\nc = np.array([-4.,0.,0.])\nL = np.array([1.0, 0.0, 0.0])\n```\n\n(note the `-` in `c`).\n\n![test_000.png](https://bitbucket.org/repo/BXbAb/images/3838406525-test_000.png)\n\nand the script for posterity.  This image appears as I would expect, as we are looking down the x-axis and the coordinates are righthanded.\n\n```\nimport pylab\nimport yt\nimport numpy as np\nimport sys\n\nN = 96\n\nxmin = ymin = zmin = -1.0\nxmax = ymax = zmax = 1.0\n\ndcoord = (xmax - xmin)/N\n\narr = np.zeros((N,N,N), dtype=np.float64)\narr[:,:,:] = 1.e-4\n\nbbox = np.array([ [xmin, xmax], [ymin, ymax], [zmin, zmax] ])\n\n# coordinates -- in the notation data[i, j, k]\nx = (np.arange(N) + 0.5)*(xmax - xmin)/N + xmin\ny = (np.arange(N) + 0.5)*(ymax - ymin)/N + ymin\nz = (np.arange(N) + 0.5)*(zmax - zmin)/N + zmin\n\nx3d, y3d, z3d = np.meshgrid(x, y, z, indexing=\"ij\")\n\n# sphere at the origin\nc = np.array( [0.5*(xmin + xmax), 0.5*(ymin + ymax), 0.5*(zmin + zmax) ] )\n\nr = np.sqrt((x3d - c[0])**2 + (y3d - c[1])**2 + (z3d - c[2])**2)\narr[r < 0.05] = 1.0\n\n\n# coordinate planes\nixy = np.logical_and(x3d > 0.0, y3d > 0.0)\niyz = np.logical_and(y3d > 0.0, z3d > 0.0)\nixz = np.logical_and(x3d > 0.0, z3d > 0.0)\n\narr[abs(x3d - xmin) < 2*dcoord] = 0.3\narr[abs(y3d - ymin) < 2*dcoord] = 0.3\narr[abs(z3d - zmin) < 2*dcoord] = 0.3\n\n# single cube on +x\nxc = 0.75\ndx = 0.05\nidx = np.logical_and(np.logical_and(x3d > xc-dx, x3d < xc+dx),\n                     np.logical_and(np.logical_and(y3d > -dx, y3d < dx),\n                                    np.logical_and(z3d > -dx, z3d < dx)) )\n\narr[idx] = 1.0\n\n\n# two cubes on +y\ndy = 0.05\nfor yc in [0.65, 0.85]:\n\n    idx = np.logical_and(np.logical_and(y3d > yc-dy, y3d < yc+dy),\n                         np.logical_and(np.logical_and(x3d > -dy, x3d < dy),\n                                        np.logical_and(z3d > -dy, z3d < dy)) )\n\n    arr[idx] = 0.8\n\n# three cubes on +z\ndz = 0.05\nfor zc in [0.5, 0.7, 0.9]:\n\n    idx = np.logical_and(np.logical_and(z3d > zc-dz, z3d < zc+dz),\n                         np.logical_and(np.logical_and(x3d > -dz, x3d < dz),\n                                        np.logical_and(y3d > -dz, y3d < dz)) )\n\n    arr[idx] = 0.6\n\n\n\n\ndata = dict(Density = arr)\nds = yt.load_uniform_grid(data, arr.shape, bbox=bbox)\n\nimport yt.visualization.volume_rendering.api as vr\n\n#c = np.array([0., 0., 0.])\nc = np.array([-4.,0.,0.])\n\nL = np.array([1.0, 0.0, 0.0])\nW = 4.0*ds.domain_width\nN = 720\n\nnorth = np.array([0, 0, 1])\n\ntf = vr.ColorTransferFunction((0.1,1.0))\ntf.sample_colormap(1.0, 0.01, colormap=\"coolwarm\")\ntf.sample_colormap(0.8, 0.01, colormap=\"coolwarm\")\ntf.sample_colormap(0.6, 0.01, colormap=\"coolwarm\")\ntf.sample_colormap(0.3, 0.01, colormap=\"coolwarm\")\n\ncam = vr.PerspectiveCamera(c, L, W, N, transfer_function=tf, \n                north_vector = north, \n                ds=ds, fields=[('gas', 'Density')], \n                log_fields=[False])\n\n\nim = cam.snapshot()\nim.write_png(\"test_{:03}.png\".format(0))\n```\n\n",
                "html": "<p>Just to update the record in this PR, here's the image created in using my test script, with</p>\n<div class=\"codehilite\"><pre><span></span>c = np.array([-4.,0.,0.])\nL = np.array([1.0, 0.0, 0.0])\n</pre></div>\n\n\n<p>(note the <code>-</code> in <code>c</code>).</p>\n<p><img alt=\"test_000.png\" src=\"https://bitbucket.org/repo/BXbAb/images/3838406525-test_000.png\" /></p>\n<p>and the script for posterity.  This image appears as I would expect, as we are looking down the x-axis and the coordinates are righthanded.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kn\">import</span> <span class=\"nn\">pylab</span>\n<span class=\"kn\">import</span> <span class=\"nn\">yt</span>\n<span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"kn\">as</span> <span class=\"nn\">np</span>\n<span class=\"kn\">import</span> <span class=\"nn\">sys</span>\n\n<span class=\"n\">N</span> <span class=\"o\">=</span> <span class=\"mi\">96</span>\n\n<span class=\"n\">xmin</span> <span class=\"o\">=</span> <span class=\"n\">ymin</span> <span class=\"o\">=</span> <span class=\"n\">zmin</span> <span class=\"o\">=</span> <span class=\"o\">-</span><span class=\"mf\">1.0</span>\n<span class=\"n\">xmax</span> <span class=\"o\">=</span> <span class=\"n\">ymax</span> <span class=\"o\">=</span> <span class=\"n\">zmax</span> <span class=\"o\">=</span> <span class=\"mf\">1.0</span>\n\n<span class=\"n\">dcoord</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">xmax</span> <span class=\"o\">-</span> <span class=\"n\">xmin</span><span class=\"p\">)</span><span class=\"o\">/</span><span class=\"n\">N</span>\n\n<span class=\"n\">arr</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"kp\">zeros</span><span class=\"p\">((</span><span class=\"n\">N</span><span class=\"p\">,</span><span class=\"n\">N</span><span class=\"p\">,</span><span class=\"n\">N</span><span class=\"p\">),</span> <span class=\"kp\">dtype</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">float64</span><span class=\"p\">)</span>\n<span class=\"n\">arr</span><span class=\"p\">[:,:,:]</span> <span class=\"o\">=</span> <span class=\"mf\">1.e-4</span>\n\n<span class=\"n\">bbox</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"kp\">array</span><span class=\"p\">([</span> <span class=\"p\">[</span><span class=\"n\">xmin</span><span class=\"p\">,</span> <span class=\"n\">xmax</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"n\">ymin</span><span class=\"p\">,</span> <span class=\"n\">ymax</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"n\">zmin</span><span class=\"p\">,</span> <span class=\"n\">zmax</span><span class=\"p\">]</span> <span class=\"p\">])</span>\n\n<span class=\"c1\"># coordinates -- in the notation data[i, j, k]</span>\n<span class=\"n\">x</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"kp\">arange</span><span class=\"p\">(</span><span class=\"n\">N</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"mf\">0.5</span><span class=\"p\">)</span><span class=\"o\">*</span><span class=\"p\">(</span><span class=\"n\">xmax</span> <span class=\"o\">-</span> <span class=\"n\">xmin</span><span class=\"p\">)</span><span class=\"o\">/</span><span class=\"n\">N</span> <span class=\"o\">+</span> <span class=\"n\">xmin</span>\n<span class=\"n\">y</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"kp\">arange</span><span class=\"p\">(</span><span class=\"n\">N</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"mf\">0.5</span><span class=\"p\">)</span><span class=\"o\">*</span><span class=\"p\">(</span><span class=\"n\">ymax</span> <span class=\"o\">-</span> <span class=\"n\">ymin</span><span class=\"p\">)</span><span class=\"o\">/</span><span class=\"n\">N</span> <span class=\"o\">+</span> <span class=\"n\">ymin</span>\n<span class=\"n\">z</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"kp\">arange</span><span class=\"p\">(</span><span class=\"n\">N</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"mf\">0.5</span><span class=\"p\">)</span><span class=\"o\">*</span><span class=\"p\">(</span><span class=\"n\">zmax</span> <span class=\"o\">-</span> <span class=\"n\">zmin</span><span class=\"p\">)</span><span class=\"o\">/</span><span class=\"n\">N</span> <span class=\"o\">+</span> <span class=\"n\">zmin</span>\n\n<span class=\"n\">x3d</span><span class=\"p\">,</span> <span class=\"n\">y3d</span><span class=\"p\">,</span> <span class=\"n\">z3d</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"kp\">meshgrid</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">y</span><span class=\"p\">,</span> <span class=\"n\">z</span><span class=\"p\">,</span> <span class=\"n\">indexing</span><span class=\"o\">=</span><span class=\"s2\">&quot;ij&quot;</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># sphere at the origin</span>\n<span class=\"n\">c</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"kp\">array</span><span class=\"p\">(</span> <span class=\"p\">[</span><span class=\"mf\">0.5</span><span class=\"o\">*</span><span class=\"p\">(</span><span class=\"n\">xmin</span> <span class=\"o\">+</span> <span class=\"n\">xmax</span><span class=\"p\">),</span> <span class=\"mf\">0.5</span><span class=\"o\">*</span><span class=\"p\">(</span><span class=\"n\">ymin</span> <span class=\"o\">+</span> <span class=\"n\">ymax</span><span class=\"p\">),</span> <span class=\"mf\">0.5</span><span class=\"o\">*</span><span class=\"p\">(</span><span class=\"n\">zmin</span> <span class=\"o\">+</span> <span class=\"n\">zmax</span><span class=\"p\">)</span> <span class=\"p\">]</span> <span class=\"p\">)</span>\n\n<span class=\"n\">r</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"kp\">sqrt</span><span class=\"p\">((</span><span class=\"n\">x3d</span> <span class=\"o\">-</span> <span class=\"n\">c</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">])</span><span class=\"o\">**</span><span class=\"mi\">2</span> <span class=\"o\">+</span> <span class=\"p\">(</span><span class=\"n\">y3d</span> <span class=\"o\">-</span> <span class=\"n\">c</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">])</span><span class=\"o\">**</span><span class=\"mi\">2</span> <span class=\"o\">+</span> <span class=\"p\">(</span><span class=\"n\">z3d</span> <span class=\"o\">-</span> <span class=\"n\">c</span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">])</span><span class=\"o\">**</span><span class=\"mi\">2</span><span class=\"p\">)</span>\n<span class=\"n\">arr</span><span class=\"p\">[</span><span class=\"n\">r</span> <span class=\"o\">&lt;</span> <span class=\"mf\">0.05</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"mf\">1.0</span>\n\n\n<span class=\"c1\"># coordinate planes</span>\n<span class=\"n\">ixy</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"kp\">logical_and</span><span class=\"p\">(</span><span class=\"n\">x3d</span> <span class=\"o\">&gt;</span> <span class=\"mf\">0.0</span><span class=\"p\">,</span> <span class=\"n\">y3d</span> <span class=\"o\">&gt;</span> <span class=\"mf\">0.0</span><span class=\"p\">)</span>\n<span class=\"n\">iyz</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"kp\">logical_and</span><span class=\"p\">(</span><span class=\"n\">y3d</span> <span class=\"o\">&gt;</span> <span class=\"mf\">0.0</span><span class=\"p\">,</span> <span class=\"n\">z3d</span> <span class=\"o\">&gt;</span> <span class=\"mf\">0.0</span><span class=\"p\">)</span>\n<span class=\"n\">ixz</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"kp\">logical_and</span><span class=\"p\">(</span><span class=\"n\">x3d</span> <span class=\"o\">&gt;</span> <span class=\"mf\">0.0</span><span class=\"p\">,</span> <span class=\"n\">z3d</span> <span class=\"o\">&gt;</span> <span class=\"mf\">0.0</span><span class=\"p\">)</span>\n\n<span class=\"n\">arr</span><span class=\"p\">[</span><span class=\"nb\">abs</span><span class=\"p\">(</span><span class=\"n\">x3d</span> <span class=\"o\">-</span> <span class=\"n\">xmin</span><span class=\"p\">)</span> <span class=\"o\">&lt;</span> <span class=\"mi\">2</span><span class=\"o\">*</span><span class=\"n\">dcoord</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"mf\">0.3</span>\n<span class=\"n\">arr</span><span class=\"p\">[</span><span class=\"nb\">abs</span><span class=\"p\">(</span><span class=\"n\">y3d</span> <span class=\"o\">-</span> <span class=\"n\">ymin</span><span class=\"p\">)</span> <span class=\"o\">&lt;</span> <span class=\"mi\">2</span><span class=\"o\">*</span><span class=\"n\">dcoord</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"mf\">0.3</span>\n<span class=\"n\">arr</span><span class=\"p\">[</span><span class=\"nb\">abs</span><span class=\"p\">(</span><span class=\"n\">z3d</span> <span class=\"o\">-</span> <span class=\"n\">zmin</span><span class=\"p\">)</span> <span class=\"o\">&lt;</span> <span class=\"mi\">2</span><span class=\"o\">*</span><span class=\"n\">dcoord</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"mf\">0.3</span>\n\n<span class=\"c1\"># single cube on +x</span>\n<span class=\"n\">xc</span> <span class=\"o\">=</span> <span class=\"mf\">0.75</span>\n<span class=\"n\">dx</span> <span class=\"o\">=</span> <span class=\"mf\">0.05</span>\n<span class=\"n\">idx</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"kp\">logical_and</span><span class=\"p\">(</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"kp\">logical_and</span><span class=\"p\">(</span><span class=\"n\">x3d</span> <span class=\"o\">&gt;</span> <span class=\"n\">xc</span><span class=\"o\">-</span><span class=\"n\">dx</span><span class=\"p\">,</span> <span class=\"n\">x3d</span> <span class=\"o\">&lt;</span> <span class=\"n\">xc</span><span class=\"o\">+</span><span class=\"n\">dx</span><span class=\"p\">),</span>\n                     <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"kp\">logical_and</span><span class=\"p\">(</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"kp\">logical_and</span><span class=\"p\">(</span><span class=\"n\">y3d</span> <span class=\"o\">&gt;</span> <span class=\"o\">-</span><span class=\"n\">dx</span><span class=\"p\">,</span> <span class=\"n\">y3d</span> <span class=\"o\">&lt;</span> <span class=\"n\">dx</span><span class=\"p\">),</span>\n                                    <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"kp\">logical_and</span><span class=\"p\">(</span><span class=\"n\">z3d</span> <span class=\"o\">&gt;</span> <span class=\"o\">-</span><span class=\"n\">dx</span><span class=\"p\">,</span> <span class=\"n\">z3d</span> <span class=\"o\">&lt;</span> <span class=\"n\">dx</span><span class=\"p\">))</span> <span class=\"p\">)</span>\n\n<span class=\"n\">arr</span><span class=\"p\">[</span><span class=\"n\">idx</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"mf\">1.0</span>\n\n\n<span class=\"c1\"># two cubes on +y</span>\n<span class=\"n\">dy</span> <span class=\"o\">=</span> <span class=\"mf\">0.05</span>\n<span class=\"k\">for</span> <span class=\"n\">yc</span> <span class=\"ow\">in</span> <span class=\"p\">[</span><span class=\"mf\">0.65</span><span class=\"p\">,</span> <span class=\"mf\">0.85</span><span class=\"p\">]:</span>\n\n    <span class=\"n\">idx</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"kp\">logical_and</span><span class=\"p\">(</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"kp\">logical_and</span><span class=\"p\">(</span><span class=\"n\">y3d</span> <span class=\"o\">&gt;</span> <span class=\"n\">yc</span><span class=\"o\">-</span><span class=\"n\">dy</span><span class=\"p\">,</span> <span class=\"n\">y3d</span> <span class=\"o\">&lt;</span> <span class=\"n\">yc</span><span class=\"o\">+</span><span class=\"n\">dy</span><span class=\"p\">),</span>\n                         <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"kp\">logical_and</span><span class=\"p\">(</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"kp\">logical_and</span><span class=\"p\">(</span><span class=\"n\">x3d</span> <span class=\"o\">&gt;</span> <span class=\"o\">-</span><span class=\"n\">dy</span><span class=\"p\">,</span> <span class=\"n\">x3d</span> <span class=\"o\">&lt;</span> <span class=\"n\">dy</span><span class=\"p\">),</span>\n                                        <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"kp\">logical_and</span><span class=\"p\">(</span><span class=\"n\">z3d</span> <span class=\"o\">&gt;</span> <span class=\"o\">-</span><span class=\"n\">dy</span><span class=\"p\">,</span> <span class=\"n\">z3d</span> <span class=\"o\">&lt;</span> <span class=\"n\">dy</span><span class=\"p\">))</span> <span class=\"p\">)</span>\n\n    <span class=\"n\">arr</span><span class=\"p\">[</span><span class=\"n\">idx</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"mf\">0.8</span>\n\n<span class=\"c1\"># three cubes on +z</span>\n<span class=\"n\">dz</span> <span class=\"o\">=</span> <span class=\"mf\">0.05</span>\n<span class=\"k\">for</span> <span class=\"n\">zc</span> <span class=\"ow\">in</span> <span class=\"p\">[</span><span class=\"mf\">0.5</span><span class=\"p\">,</span> <span class=\"mf\">0.7</span><span class=\"p\">,</span> <span class=\"mf\">0.9</span><span class=\"p\">]:</span>\n\n    <span class=\"n\">idx</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"kp\">logical_and</span><span class=\"p\">(</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"kp\">logical_and</span><span class=\"p\">(</span><span class=\"n\">z3d</span> <span class=\"o\">&gt;</span> <span class=\"n\">zc</span><span class=\"o\">-</span><span class=\"n\">dz</span><span class=\"p\">,</span> <span class=\"n\">z3d</span> <span class=\"o\">&lt;</span> <span class=\"n\">zc</span><span class=\"o\">+</span><span class=\"n\">dz</span><span class=\"p\">),</span>\n                         <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"kp\">logical_and</span><span class=\"p\">(</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"kp\">logical_and</span><span class=\"p\">(</span><span class=\"n\">x3d</span> <span class=\"o\">&gt;</span> <span class=\"o\">-</span><span class=\"n\">dz</span><span class=\"p\">,</span> <span class=\"n\">x3d</span> <span class=\"o\">&lt;</span> <span class=\"n\">dz</span><span class=\"p\">),</span>\n                                        <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"kp\">logical_and</span><span class=\"p\">(</span><span class=\"n\">y3d</span> <span class=\"o\">&gt;</span> <span class=\"o\">-</span><span class=\"n\">dz</span><span class=\"p\">,</span> <span class=\"n\">y3d</span> <span class=\"o\">&lt;</span> <span class=\"n\">dz</span><span class=\"p\">))</span> <span class=\"p\">)</span>\n\n    <span class=\"n\">arr</span><span class=\"p\">[</span><span class=\"n\">idx</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"mf\">0.6</span>\n\n\n\n\n<span class=\"n\">data</span> <span class=\"o\">=</span> <span class=\"nb\">dict</span><span class=\"p\">(</span><span class=\"n\">Density</span> <span class=\"o\">=</span> <span class=\"n\">arr</span><span class=\"p\">)</span>\n<span class=\"n\">ds</span> <span class=\"o\">=</span> <span class=\"n\">yt</span><span class=\"o\">.</span><span class=\"n\">load_uniform_grid</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">,</span> <span class=\"n\">arr</span><span class=\"o\">.</span><span class=\"kp\">shape</span><span class=\"p\">,</span> <span class=\"n\">bbox</span><span class=\"o\">=</span><span class=\"n\">bbox</span><span class=\"p\">)</span>\n\n<span class=\"kn\">import</span> <span class=\"nn\">yt.visualization.volume_rendering.api</span> <span class=\"kn\">as</span> <span class=\"nn\">vr</span>\n\n<span class=\"c1\">#c = np.array([0., 0., 0.])</span>\n<span class=\"n\">c</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"kp\">array</span><span class=\"p\">([</span><span class=\"o\">-</span><span class=\"mf\">4.</span><span class=\"p\">,</span><span class=\"mf\">0.</span><span class=\"p\">,</span><span class=\"mf\">0.</span><span class=\"p\">])</span>\n\n<span class=\"n\">L</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"kp\">array</span><span class=\"p\">([</span><span class=\"mf\">1.0</span><span class=\"p\">,</span> <span class=\"mf\">0.0</span><span class=\"p\">,</span> <span class=\"mf\">0.0</span><span class=\"p\">])</span>\n<span class=\"n\">W</span> <span class=\"o\">=</span> <span class=\"mf\">4.0</span><span class=\"o\">*</span><span class=\"n\">ds</span><span class=\"o\">.</span><span class=\"n\">domain_width</span>\n<span class=\"n\">N</span> <span class=\"o\">=</span> <span class=\"mi\">720</span>\n\n<span class=\"n\">north</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"kp\">array</span><span class=\"p\">([</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">])</span>\n\n<span class=\"n\">tf</span> <span class=\"o\">=</span> <span class=\"n\">vr</span><span class=\"o\">.</span><span class=\"n\">ColorTransferFunction</span><span class=\"p\">((</span><span class=\"mf\">0.1</span><span class=\"p\">,</span><span class=\"mf\">1.0</span><span class=\"p\">))</span>\n<span class=\"n\">tf</span><span class=\"o\">.</span><span class=\"n\">sample_colormap</span><span class=\"p\">(</span><span class=\"mf\">1.0</span><span class=\"p\">,</span> <span class=\"mf\">0.01</span><span class=\"p\">,</span> <span class=\"n\">colormap</span><span class=\"o\">=</span><span class=\"s2\">&quot;coolwarm&quot;</span><span class=\"p\">)</span>\n<span class=\"n\">tf</span><span class=\"o\">.</span><span class=\"n\">sample_colormap</span><span class=\"p\">(</span><span class=\"mf\">0.8</span><span class=\"p\">,</span> <span class=\"mf\">0.01</span><span class=\"p\">,</span> <span class=\"n\">colormap</span><span class=\"o\">=</span><span class=\"s2\">&quot;coolwarm&quot;</span><span class=\"p\">)</span>\n<span class=\"n\">tf</span><span class=\"o\">.</span><span class=\"n\">sample_colormap</span><span class=\"p\">(</span><span class=\"mf\">0.6</span><span class=\"p\">,</span> <span class=\"mf\">0.01</span><span class=\"p\">,</span> <span class=\"n\">colormap</span><span class=\"o\">=</span><span class=\"s2\">&quot;coolwarm&quot;</span><span class=\"p\">)</span>\n<span class=\"n\">tf</span><span class=\"o\">.</span><span class=\"n\">sample_colormap</span><span class=\"p\">(</span><span class=\"mf\">0.3</span><span class=\"p\">,</span> <span class=\"mf\">0.01</span><span class=\"p\">,</span> <span class=\"n\">colormap</span><span class=\"o\">=</span><span class=\"s2\">&quot;coolwarm&quot;</span><span class=\"p\">)</span>\n\n<span class=\"n\">cam</span> <span class=\"o\">=</span> <span class=\"n\">vr</span><span class=\"o\">.</span><span class=\"n\">PerspectiveCamera</span><span class=\"p\">(</span><span class=\"n\">c</span><span class=\"p\">,</span> <span class=\"n\">L</span><span class=\"p\">,</span> <span class=\"n\">W</span><span class=\"p\">,</span> <span class=\"n\">N</span><span class=\"p\">,</span> <span class=\"n\">transfer_function</span><span class=\"o\">=</span><span class=\"n\">tf</span><span class=\"p\">,</span> \n                <span class=\"n\">north_vector</span> <span class=\"o\">=</span> <span class=\"n\">north</span><span class=\"p\">,</span> \n                <span class=\"n\">ds</span><span class=\"o\">=</span><span class=\"n\">ds</span><span class=\"p\">,</span> <span class=\"n\">fields</span><span class=\"o\">=</span><span class=\"p\">[(</span><span class=\"s1\">&#39;gas&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Density&#39;</span><span class=\"p\">)],</span> \n                <span class=\"n\">log_fields</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"bp\">False</span><span class=\"p\">])</span>\n\n\n<span class=\"n\">im</span> <span class=\"o\">=</span> <span class=\"n\">cam</span><span class=\"o\">.</span><span class=\"n\">snapshot</span><span class=\"p\">()</span>\n<span class=\"n\">im</span><span class=\"o\">.</span><span class=\"n\">write_png</span><span class=\"p\">(</span><span class=\"s2\">&quot;test_{:03}.png&quot;</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">))</span>\n</pre></div>",
                "markup": "markdown"
            },
            "created_on": "2014-12-09T15:34:48.786114+00:00",
            "updated_on": "2014-12-09T15:34:48.803657+00:00",
            "id": 4222797
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/mzingale"
                    },
                    "html": {
                        "href": "https://bitbucket.org/mzingale/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/mzingale/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Michael  Zingale",
                "uuid": "{d1d09b0d-3bd7-4129-ac64-6aa3abfa3223}",
                "username": "mzingale"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346/comments/4223293"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1346/_/diff#comment-4223293"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346/comments/4222797"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1346/_/diff#comment-4222797"
                    }
                },
                "id": 4222797
            },
            "pullrequest": {
                "title": "PerspectiveCamera Updated for VR",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1346"
                    }
                },
                "id": 1346
            },
            "content": {
                "raw": "actually, looking closer at that image, it seems that the resulting image is lefthanded, not righthanded.  The planes are on the -x, -y, and -z edges of the domain.  It appears that we are looking through the -x plane (since it is bigger in perspective than the far edge).  The boxes are all on the + coordinate axes, so +x must be into the plane, +y is to the right (the two boxes) and +z is up (the three boxes).  This is lefthanded.",
                "html": "<p>actually, looking closer at that image, it seems that the resulting image is lefthanded, not righthanded.  The planes are on the -x, -y, and -z edges of the domain.  It appears that we are looking through the -x plane (since it is bigger in perspective than the far edge).  The boxes are all on the + coordinate axes, so +x must be into the plane, +y is to the right (the two boxes) and +z is up (the three boxes).  This is lefthanded.</p>",
                "markup": "markdown"
            },
            "created_on": "2014-12-09T15:51:45.865273+00:00",
            "updated_on": "2014-12-09T15:51:45.876420+00:00",
            "id": 4223293
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/jisuoqing"
                    },
                    "html": {
                        "href": "https://bitbucket.org/jisuoqing/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/jisuoqing/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Suoqing Ji",
                "uuid": "{7ef4ff60-41f7-4600-87bc-df06261680b4}",
                "username": "jisuoqing"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346/comments/4230940"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1346/_/diff#comment-4230940"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346/comments/4223293"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1346/_/diff#comment-4223293"
                    }
                },
                "id": 4223293
            },
            "pullrequest": {
                "title": "PerspectiveCamera Updated for VR",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1346"
                    }
                },
                "id": 1346
            },
            "content": {
                "raw": "Hi Mike, that's true -- it is lefthanded; and I'd better switch it to righthanded. Also I'll add docstring and update the PR soon.\n\nThanks for checking this!",
                "html": "<p>Hi Mike, that's true -- it is lefthanded; and I'd better switch it to righthanded. Also I'll add docstring and update the PR soon.</p>\n<p>Thanks for checking this!</p>",
                "markup": "markdown"
            },
            "created_on": "2014-12-09T22:39:52.076565+00:00",
            "updated_on": "2014-12-09T22:39:52.225273+00:00",
            "id": 4230940
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/mzingale"
                    },
                    "html": {
                        "href": "https://bitbucket.org/mzingale/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/mzingale/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Michael  Zingale",
                "uuid": "{d1d09b0d-3bd7-4129-ac64-6aa3abfa3223}",
                "username": "mzingale"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346/comments/4231195"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1346/_/diff#comment-4231195"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346/comments/4230940"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1346/_/diff#comment-4230940"
                    }
                },
                "id": 4230940
            },
            "pullrequest": {
                "title": "PerspectiveCamera Updated for VR",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1346"
                    }
                },
                "id": 1346
            },
            "content": {
                "raw": "Fantastic work on all of this Suoqing",
                "html": "<p>Fantastic work on all of this Suoqing</p>",
                "markup": "markdown"
            },
            "created_on": "2014-12-09T22:55:29.226167+00:00",
            "updated_on": "2014-12-09T22:55:29.235492+00:00",
            "id": 4231195
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/chummels"
                    },
                    "html": {
                        "href": "https://bitbucket.org/chummels/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/chummels/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Cameron Hummels",
                "uuid": "{de871bb8-32e9-450a-b8c9-2b49a1334f16}",
                "username": "chummels"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346/comments/4231291"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1346/_/diff#comment-4231291"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346/comments/4231195"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1346/_/diff#comment-4231195"
                    }
                },
                "id": 4231195
            },
            "pullrequest": {
                "title": "PerspectiveCamera Updated for VR",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1346"
                    }
                },
                "id": 1346
            },
            "content": {
                "raw": "Agreed.  This is really spectacular.",
                "html": "<p>Agreed.  This is really spectacular.</p>",
                "markup": "markdown"
            },
            "created_on": "2014-12-09T23:01:48.103884+00:00",
            "updated_on": "2014-12-09T23:01:48.118298+00:00",
            "id": 4231291
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346/comments/4232873"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1346/_/diff#comment-4232873"
                }
            },
            "pullrequest": {
                "title": "PerspectiveCamera Updated for VR",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1346"
                    }
                },
                "id": 1346
            },
            "content": {
                "raw": "All tests pass. Good job!",
                "html": "<p>All tests pass. Good job!</p>",
                "markup": "markdown"
            },
            "created_on": "2014-12-10T01:19:50.449937+00:00",
            "updated_on": "2014-12-10T01:19:50.709951+00:00",
            "id": 4232873
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346/comments/4235918"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1346/_/diff#comment-4235918"
                }
            },
            "pullrequest": {
                "title": "PerspectiveCamera Updated for VR",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1346"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1346"
                    }
                },
                "id": 1346
            },
            "content": {
                "raw": "All tests pass. Good job!",
                "html": "<p>All tests pass. Good job!</p>",
                "markup": "markdown"
            },
            "created_on": "2014-12-10T07:46:49.841779+00:00",
            "updated_on": "2014-12-10T07:46:50.080257+00:00",
            "id": 4235918
        }
    ]
}