{
    "reason": "",
    "state": "MERGED",
    "updated_on": "2016-07-23T12:49:54.196310+00:00",
    "comment_count": 14,
    "description": "There were two issues with the script in #1232. First, it selected a very small region with no gas particles.\r\n\r\nAfter adjusting to select a region with some gas particles, it ended up crashing because there wasn't any masking on the temperature field like we already do for the density field. The fix is to also mask cells with zero temperature.",
    "created_on": "2016-07-22T17:46:22.873729+00:00",
    "task_count": 0,
    "merge_commit": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/3def30daea80"
            }
        },
        "hash": "3def30daea80"
    },
    "title": "Mask out zero temperature data as well as zero density data. Closes #1232",
    "links": {
        "diff": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2300/diff"
        },
        "decline": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2300/decline"
        },
        "self": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2300"
        },
        "activity": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2300/activity"
        },
        "merge": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2300/merge"
        },
        "commits": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2300/commits"
        },
        "statuses": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2300/statuses"
        },
        "approve": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2300/approve"
        },
        "html": {
            "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2300"
        },
        "comments": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2300/comments"
        }
    },
    "closed_by": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/chummels"
            },
            "html": {
                "href": "https://bitbucket.org/chummels/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/chummels/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "chummels",
        "uuid": "{de871bb8-32e9-450a-b8c9-2b49a1334f16}",
        "username": "chummels"
    },
    "id": 2300,
    "type": "pullrequest",
    "author": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
            },
            "html": {
                "href": "https://bitbucket.org/ngoldbaum/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "Nathan Goldbaum",
        "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
        "username": "ngoldbaum"
    },
    "source": {
        "branch": {
            "name": "yt"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/ngoldbaum/yt/commit/cbc5bd0ee2e5"
                }
            },
            "hash": "cbc5bd0ee2e5"
        },
        "repository": {
            "full_name": "ngoldbaum/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/ngoldbaum/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/ngoldbaum/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/ngoldbaum/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{cb18d7d9-ab77-4e80-81ed-8d32a945e0ef}"
        }
    },
    "close_source_branch": false,
    "destination": {
        "branch": {
            "name": "yt"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/2d8f16030497"
                }
            },
            "hash": "2d8f16030497"
        },
        "repository": {
            "full_name": "yt_analysis/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/yt_analysis/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{b73cb37c-40f2-493a-aaa9-41bc8d8974cc}"
        }
    },
    "comments": [
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/chummels"
                    },
                    "html": {
                        "href": "https://bitbucket.org/chummels/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/chummels/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "chummels",
                "uuid": "{de871bb8-32e9-450a-b8c9-2b49a1334f16}",
                "username": "chummels"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2300/comments/21393536"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2300/_/diff#comment-21393536"
                }
            },
            "pullrequest": {
                "title": "Mask out zero temperature data as well as zero density data. Closes #1232",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2300"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2300"
                    }
                },
                "id": 2300
            },
            "content": {
                "raw": "I'll test this out, but I don't think we want to just blindly collapse tuple fields to strings, as we might run into a degeneracy in fields that are being added to the LightRay.  But let me test this and think it through a bit more before I propose a different solution.",
                "html": "<p>I'll test this out, but I don't think we want to just blindly collapse tuple fields to strings, as we might run into a degeneracy in fields that are being added to the LightRay.  But let me test this and think it through a bit more before I propose a different solution.</p>",
                "markup": "markdown"
            },
            "created_on": "2016-07-22T17:59:47.720096+00:00",
            "updated_on": "2016-07-22T17:59:47.728171+00:00",
            "id": 21393536
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/brittonsmith"
                    },
                    "html": {
                        "href": "https://bitbucket.org/brittonsmith/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/brittonsmith/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Britton Smith",
                "uuid": "{94333901-a436-4c2c-8322-8d09e387eece}",
                "username": "brittonsmith"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2300/comments/21393683"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2300/_/diff#comment-21393683"
                }
            },
            "pullrequest": {
                "title": "Mask out zero temperature data as well as zero density data. Closes #1232",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2300"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2300"
                    }
                },
                "id": 2300
            },
            "content": {
                "raw": "I'm not sure I understand why all the tuple fields need to be strings.  Was that causing an issue?",
                "html": "<p>I'm not sure I understand why all the tuple fields need to be strings.  Was that causing an issue?</p>",
                "markup": "markdown"
            },
            "created_on": "2016-07-22T18:03:47.972268+00:00",
            "updated_on": "2016-07-22T18:03:47.977870+00:00",
            "id": 21393683
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/chummels"
                    },
                    "html": {
                        "href": "https://bitbucket.org/chummels/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/chummels/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "chummels",
                "uuid": "{de871bb8-32e9-450a-b8c9-2b49a1334f16}",
                "username": "chummels"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2300/comments/21393741"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2300/_/diff#comment-21393741"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2300/comments/21393683"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2300/_/diff#comment-21393683"
                    }
                },
                "id": 21393683
            },
            "pullrequest": {
                "title": "Mask out zero temperature data as well as zero density data. Closes #1232",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2300"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2300"
                    }
                },
                "id": 2300
            },
            "content": {
                "raw": "In a way, yes.  My fix from long ago to this issue is what Nathan changes below.  It looked explicitly at the \"density\" field, but not the (\"gas\", \"density\") tuple, so Nathan just collapsed all of the tuple fields to strings so that it isn't an issue anymore.",
                "html": "<p>In a way, yes.  My fix from long ago to this issue is what Nathan changes below.  It looked explicitly at the \"density\" field, but not the (\"gas\", \"density\") tuple, so Nathan just collapsed all of the tuple fields to strings so that it isn't an issue anymore.</p>",
                "markup": "markdown"
            },
            "created_on": "2016-07-22T18:05:23.171322+00:00",
            "updated_on": "2016-07-22T18:05:23.176449+00:00",
            "id": 21393741
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2300/comments/21393751"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2300/_/diff#comment-21393751"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2300/comments/21393683"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2300/_/diff#comment-21393683"
                    }
                },
                "id": 21393683
            },
            "pullrequest": {
                "title": "Mask out zero temperature data as well as zero density data. Closes #1232",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2300"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2300"
                    }
                },
                "id": 2300
            },
            "content": {
                "raw": "It's because the masking code was only looking for 'density', but someone could have added it as ('gas', 'density'). I didn't want to mess too deeply with the light ray code to ensure it handles field tuples correctly.",
                "html": "<p>It's because the masking code was only looking for 'density', but someone could have added it as ('gas', 'density'). I didn't want to mess too deeply with the light ray code to ensure it handles field tuples correctly.</p>",
                "markup": "markdown"
            },
            "created_on": "2016-07-22T18:05:38.907072+00:00",
            "updated_on": "2016-07-22T18:05:38.909984+00:00",
            "id": 21393751
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/brittonsmith"
                    },
                    "html": {
                        "href": "https://bitbucket.org/brittonsmith/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/brittonsmith/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Britton Smith",
                "uuid": "{94333901-a436-4c2c-8322-8d09e387eece}",
                "username": "brittonsmith"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2300/comments/21393768"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2300/_/diff#comment-21393768"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2300/comments/21393741"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2300/_/diff#comment-21393741"
                    }
                },
                "id": 21393741
            },
            "pullrequest": {
                "title": "Mask out zero temperature data as well as zero density data. Closes #1232",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2300"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2300"
                    }
                },
                "id": 2300
            },
            "content": {
                "raw": "Ah, I see.  Thanks.",
                "html": "<p>Ah, I see.  Thanks.</p>",
                "markup": "markdown"
            },
            "created_on": "2016-07-22T18:05:59.321340+00:00",
            "updated_on": "2016-07-22T18:05:59.326374+00:00",
            "id": 21393768
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/xarthisius"
                    },
                    "html": {
                        "href": "https://bitbucket.org/xarthisius/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/xarthisius/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Kacper Kowalik",
                "uuid": "{26af8f1d-35b3-46ce-9939-09915b06e31f}",
                "username": "xarthisius"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2300/comments/21394208"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2300/_/diff#comment-21394208"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2300/comments/21393751"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2300/_/diff#comment-21393751"
                    }
                },
                "id": 21393751
            },
            "pullrequest": {
                "title": "Mask out zero temperature data as well as zero density data. Closes #1232",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2300"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2300"
                    }
                },
                "id": 2300
            },
            "content": {
                "raw": "Could be done more broadly:  check if field units in [cm^-3, g/cm^3, K] (or equivalents) -> apply mask. Alleviates the issue of how field is named.",
                "html": "<p>Could be done more broadly:  check if field units in [cm^-3, g/cm^3, K] (or equivalents) -&gt; apply mask. Alleviates the issue of how field is named.</p>",
                "markup": "markdown"
            },
            "created_on": "2016-07-22T18:16:02.186752+00:00",
            "updated_on": "2016-07-22T18:16:02.188738+00:00",
            "id": 21394208
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/brittonsmith"
                    },
                    "html": {
                        "href": "https://bitbucket.org/brittonsmith/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/brittonsmith/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Britton Smith",
                "uuid": "{94333901-a436-4c2c-8322-8d09e387eece}",
                "username": "brittonsmith"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2300/comments/21394306"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2300/_/diff#comment-21394306"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2300/comments/21394208"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2300/_/diff#comment-21394208"
                    }
                },
                "id": 21394208
            },
            "pullrequest": {
                "title": "Mask out zero temperature data as well as zero density data. Closes #1232",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2300"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2300"
                    }
                },
                "id": 2300
            },
            "content": {
                "raw": "I think that's a really good idea.  Technically, the regular density field isn't required for spectrum generation, so it might not be present.",
                "html": "<p>I think that's a really good idea.  Technically, the regular density field isn't required for spectrum generation, so it might not be present.</p>",
                "markup": "markdown"
            },
            "created_on": "2016-07-22T18:18:31.255857+00:00",
            "updated_on": "2016-07-22T18:18:31.261089+00:00",
            "id": 21394306
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2300/comments/21394433"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2300/_/diff#comment-21394433"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2300/comments/21394306"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2300/_/diff#comment-21394306"
                    }
                },
                "id": 21394306
            },
            "pullrequest": {
                "title": "Mask out zero temperature data as well as zero density data. Closes #1232",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2300"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2300"
                    }
                },
                "id": 2300
            },
            "content": {
                "raw": "It's actually not for the test script in the issue.\n\nFair enough, I'll try Kacper's suggestion.",
                "html": "<p>It's actually not for the test script in the issue.</p>\n<p>Fair enough, I'll try Kacper's suggestion.</p>",
                "markup": "markdown"
            },
            "created_on": "2016-07-22T18:21:06.796197+00:00",
            "updated_on": "2016-07-22T18:21:06.799078+00:00",
            "id": 21394433
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2300/comments/21395115"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2300/_/diff#comment-21395115"
                }
            },
            "pullrequest": {
                "title": "Mask out zero temperature data as well as zero density data. Closes #1232",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2300"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2300"
                    }
                },
                "id": 2300
            },
            "content": {
                "raw": "FWIW, here's a script that finds some non-zero density zones: http://paste.yt-project.org/show/6706/",
                "html": "<p>FWIW, here's a script that finds some non-zero density zones: <a href=\"http://paste.yt-project.org/show/6706/\" rel=\"nofollow\">http://paste.yt-project.org/show/6706/</a></p>",
                "markup": "markdown"
            },
            "created_on": "2016-07-22T18:35:12.412002+00:00",
            "updated_on": "2016-07-22T18:35:12.418021+00:00",
            "id": 21395115
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2300/comments/21398973"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2300/_/diff#comment-21398973"
                }
            },
            "pullrequest": {
                "title": "Mask out zero temperature data as well as zero density data. Closes #1232",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2300"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2300"
                    }
                },
                "id": 2300
            },
            "content": {
                "raw": "Tests pass :)",
                "html": "<p>Tests pass :)</p>",
                "markup": "markdown"
            },
            "created_on": "2016-07-22T20:06:09.588101+00:00",
            "updated_on": "2016-07-22T20:06:09.593381+00:00",
            "id": 21398973
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/chummels"
                    },
                    "html": {
                        "href": "https://bitbucket.org/chummels/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/chummels/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "chummels",
                "uuid": "{de871bb8-32e9-450a-b8c9-2b49a1334f16}",
                "username": "chummels"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2300/comments/21403727"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/ngoldbaum/yt:2d79c347e8e4..2d8f16030497?path=yt%2Fanalysis_modules%2Fcosmological_observation%2Flight_ray%2Flight_ray.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2300/_/diff#comment-21403727"
                }
            },
            "pullrequest": {
                "title": "Mask out zero temperature data as well as zero density data. Closes #1232",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2300"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2300"
                    }
                },
                "id": 2300
            },
            "content": {
                "raw": "One suggestion: please add to the error message the line \"Please modify your light ray trajectory\".",
                "html": "<p>One suggestion: please add to the error message the line \"Please modify your light ray trajectory\".</p>",
                "markup": "markdown"
            },
            "created_on": "2016-07-22T23:02:43.768963+00:00",
            "updated_on": "2016-07-22T23:02:43.770732+00:00",
            "inline": {
                "from": null,
                "path": "yt/analysis_modules/cosmological_observation/light_ray/light_ray.py",
                "to": 616
            },
            "id": 21403727
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/chummels"
                    },
                    "html": {
                        "href": "https://bitbucket.org/chummels/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/chummels/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "chummels",
                "uuid": "{de871bb8-32e9-450a-b8c9-2b49a1334f16}",
                "username": "chummels"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2300/comments/21404127"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2300/_/diff#comment-21404127"
                }
            },
            "pullrequest": {
                "title": "Mask out zero temperature data as well as zero density data. Closes #1232",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2300"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2300"
                    }
                },
                "id": 2300
            },
            "content": {
                "raw": "I have tested this PR, and it looks like it works well for most of my test cases.  Nice work! \n\nThe one test of mine that it fails is a modification of the original test problem from Issue #1232.  I tweaked the script so that it crosses the actual domain volume, and that it creates the HI line using an field that is actually present in that dataset (the `H_number_density` field does not exist in that FIRE dataset, but `density` does.).  When you run this modified script, it fails in trying to clobber an HDF5 file, but I haven't been able to isolate the problem, and it's 1:30AM now, so I don't have the juice to finish this now. I think it's something easy and stupid and I'm just missing it.  If you want to try it, here is the script:\n\nhttp://paste.yt-project.org/show/6709\n\nI've also issued Pull Request #2302 to fix the cookbook recipe that spawned all of this to use the domain edges so when someone grabs it to use on a frontend where the domain edges are not unitary, we won't have this problem.\n\nOnce this error is addressed and the error message suggestion I made below, I think everything is ready to rock.  Thanks for your patience and hard work on this, guys.",
                "html": "<p>I have tested this PR, and it looks like it works well for most of my test cases.  Nice work! </p>\n<p>The one test of mine that it fails is a modification of the original test problem from Issue <a href=\"/yt_analysis/yt/issues/1232/absorption-spectrum-produces-invalid\" rel=\"nofollow\" title=\"Absorption Spectrum produces invalid virtual bins\"><s>#1232</s></a>.  I tweaked the script so that it crosses the actual domain volume, and that it creates the HI line using an field that is actually present in that dataset (the <code>H_number_density</code> field does not exist in that FIRE dataset, but <code>density</code> does.).  When you run this modified script, it fails in trying to clobber an HDF5 file, but I haven't been able to isolate the problem, and it's 1:30AM now, so I don't have the juice to finish this now. I think it's something easy and stupid and I'm just missing it.  If you want to try it, here is the script:</p>\n<p><a href=\"http://paste.yt-project.org/show/6709\" rel=\"nofollow\">http://paste.yt-project.org/show/6709</a></p>\n<p>I've also issued <a href=\"/yt_analysis/yt/pull-requests/2302/updating-single-dataset-light-ray-cookbook\" rel=\"nofollow\">pull request #2302</a> to fix the cookbook recipe that spawned all of this to use the domain edges so when someone grabs it to use on a frontend where the domain edges are not unitary, we won't have this problem.</p>\n<p>Once this error is addressed and the error message suggestion I made below, I think everything is ready to rock.  Thanks for your patience and hard work on this, guys.</p>",
                "markup": "markdown"
            },
            "created_on": "2016-07-22T23:32:24.411869+00:00",
            "updated_on": "2016-07-22T23:33:05.343652+00:00",
            "id": 21404127
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2300/comments/21404698"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2300/_/diff#comment-21404698"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2300/comments/21404127"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2300/_/diff#comment-21404127"
                    }
                },
                "id": 21404127
            },
            "pullrequest": {
                "title": "Mask out zero temperature data as well as zero density data. Closes #1232",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2300"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2300"
                    }
                },
                "id": 2300
            },
            "content": {
                "raw": "The issue you ran into here has something to do with the light ray containing both a `'density'` and `('gas', 'density')` field. I think the real fix is to make sure the light ray machinery does a better job of sanitizing fields and using field tuples internally.\n\nFor what it's worth, the dataset does have regions of nonzero `H_number_density`. The script I linked to earlier (http://paste.yt-project.org/show/6706) does that by starting the ray at the location of maximum gas density.\n\nWould you be ok on punting on dealing with the field name issues in the light ray machinery? It can certainly be addressed in 3.3.1 which we will probably release a month or so after 3.3.0.",
                "html": "<p>The issue you ran into here has something to do with the light ray containing both a <code>'density'</code> and <code>('gas', 'density')</code> field. I think the real fix is to make sure the light ray machinery does a better job of sanitizing fields and using field tuples internally.</p>\n<p>For what it's worth, the dataset does have regions of nonzero <code>H_number_density</code>. The script I linked to earlier (<a href=\"http://paste.yt-project.org/show/6706\" rel=\"nofollow\">http://paste.yt-project.org/show/6706</a>) does that by starting the ray at the location of maximum gas density.</p>\n<p>Would you be ok on punting on dealing with the field name issues in the light ray machinery? It can certainly be addressed in 3.3.1 which we will probably release a month or so after 3.3.0.</p>",
                "markup": "markdown"
            },
            "created_on": "2016-07-23T00:45:10.501609+00:00",
            "updated_on": "2016-07-23T00:45:10.507299+00:00",
            "id": 21404698
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/chummels"
                    },
                    "html": {
                        "href": "https://bitbucket.org/chummels/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/chummels/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "chummels",
                "uuid": "{de871bb8-32e9-450a-b8c9-2b49a1334f16}",
                "username": "chummels"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2300/comments/21407004"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2300/_/diff#comment-21407004"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2300/comments/21404698"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2300/_/diff#comment-21404698"
                    }
                },
                "id": 21404698
            },
            "pullrequest": {
                "title": "Mask out zero temperature data as well as zero density data. Closes #1232",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2300"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2300"
                    }
                },
                "id": 2300
            },
            "content": {
                "raw": "I am OK on punting on that particular issue.",
                "html": "<p>I am OK on punting on that particular issue.</p>",
                "markup": "markdown"
            },
            "created_on": "2016-07-23T12:49:28.323852+00:00",
            "updated_on": "2016-07-23T12:49:28.329083+00:00",
            "id": 21407004
        }
    ]
}