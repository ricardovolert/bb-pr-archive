{
    "reason": "",
    "state": "MERGED",
    "updated_on": "2014-12-12T16:08:07.378205+00:00",
    "comment_count": 4,
    "description": "Currently its really hard to use any user defined field parameters in derived fields due to units and dimensionality issues. When a derived field is defined it gets set up with a fake dataset that will not have the desired field parameter. As a default the field parameter that gets returned is either None or 0.0. This makes it pretty hard to do any operations one might want to do in a derived field without offending units. \r\n\r\nExample Script:\r\nhttp://paste.yt-project.org/show/5246/\r\n\r\nTraceback: \r\nhttp://paste.yt-project.org/show/5245/\r\n\r\nThere was a lot of discussion of creating some sort of user field parameter registry to fix this, but this might be an easier fix. There is already an argument 'default' to the function get_field_parameter that will return the supplied value if its querying a real dataset, but it just gets discarded if its querying the fake dataset. My solution is just to return the default, instead of 0.0.\r\n\r\nGiven that this seems so simple of a fix I don't know if this will break things, but it'd be really intuitive to a user! If this is an okay solution I can also update the docs to better explain how derived fields/field parameters work.",
    "created_on": "2014-12-05T19:00:29.525382+00:00",
    "task_count": 0,
    "merge_commit": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/005959a6fd43"
            }
        },
        "hash": "005959a6fd43"
    },
    "title": "[bugfixish] returning supplied default value for get_field_parameter",
    "links": {
        "diff": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1343/diff"
        },
        "decline": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1343/decline"
        },
        "self": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1343"
        },
        "activity": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1343/activity"
        },
        "merge": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1343/merge"
        },
        "commits": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1343/commits"
        },
        "statuses": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1343/statuses"
        },
        "approve": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1343/approve"
        },
        "html": {
            "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1343"
        },
        "comments": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1343/comments"
        }
    },
    "closed_by": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/jzuhone"
            },
            "html": {
                "href": "https://bitbucket.org/jzuhone/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/jzuhone/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "John ZuHone",
        "uuid": "{0c51edfa-e317-432f-bbef-7401c6e2aa8a}",
        "username": "jzuhone"
    },
    "id": 1343,
    "type": "pullrequest",
    "author": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/hegan"
            },
            "html": {
                "href": "https://bitbucket.org/hegan/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/hegan/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "Hilary Egan",
        "uuid": "{56ad7d6a-d009-4fc5-ad4f-2c4a93fb844f}",
        "username": "hegan"
    },
    "source": {
        "branch": {
            "name": "yt"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/hegan/yt/commit/b7a59e8463df"
                }
            },
            "hash": "b7a59e8463df"
        },
        "repository": {
            "full_name": "hegan/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/hegan/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/hegan/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/hegan/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{8166f89d-6aca-4979-8cad-7dd933c97630}"
        }
    },
    "close_source_branch": false,
    "destination": {
        "branch": {
            "name": "yt"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/e936ed325441"
                }
            },
            "hash": "e936ed325441"
        },
        "repository": {
            "full_name": "yt_analysis/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/yt_analysis/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{b73cb37c-40f2-493a-aaa9-41bc8d8974cc}"
        }
    },
    "comments": [
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1343/comments/4182183"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1343/_/diff#comment-4182183"
                }
            },
            "pullrequest": {
                "title": "[bugfixish] returning supplied default value for get_field_parameter",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1343"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1343"
                    }
                },
                "id": 1343
            },
            "content": {
                "raw": "Wow... way to go Hilary! I still think a field parameter registry would be helpful, but I'm glad that you found a way to get this working within the current setup.\n\nCan you make the default value of `default` 0.0 so we aren't changing the return value?\n",
                "html": "<p>Wow... way to go Hilary! I still think a field parameter registry would be helpful, but I'm glad that you found a way to get this working within the current setup.</p>\n<p>Can you make the default value of <code>default</code> 0.0 so we aren't changing the return value?</p>",
                "markup": "markdown"
            },
            "created_on": "2014-12-05T19:31:49.900874+00:00",
            "updated_on": "2014-12-05T19:31:49.909573+00:00",
            "id": 4182183
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1343/comments/4182911"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1343/_/diff#comment-4182911"
                }
            },
            "pullrequest": {
                "title": "[bugfixish] returning supplied default value for get_field_parameter",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1343"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1343"
                    }
                },
                "id": 1343
            },
            "content": {
                "raw": "Something went wrong, you should checkout http://tests.yt-project.org/job/py2.7-yt-3.0_testing/1724/",
                "html": "<p>Something went wrong, you should checkout <a href=\"http://tests.yt-project.org/job/py2.7-yt-3.0_testing/1724/\" rel=\"nofollow\">http://tests.yt-project.org/job/py2.7-yt-3.0_testing/1724/</a></p>",
                "markup": "markdown"
            },
            "created_on": "2014-12-05T20:23:21.561012+00:00",
            "updated_on": "2014-12-05T20:23:21.826030+00:00",
            "id": 4182911
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1343/comments/4183899"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1343/_/diff#comment-4183899"
                }
            },
            "pullrequest": {
                "title": "[bugfixish] returning supplied default value for get_field_parameter",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1343"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1343"
                    }
                },
                "id": 1343
            },
            "content": {
                "raw": "All tests pass. Good job!",
                "html": "<p>All tests pass. Good job!</p>",
                "markup": "markdown"
            },
            "created_on": "2014-12-05T21:32:47.388745+00:00",
            "updated_on": "2014-12-05T21:32:47.616526+00:00",
            "id": 4183899
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1343/comments/4203375"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1343/_/diff#comment-4203375"
                }
            },
            "pullrequest": {
                "title": "[bugfixish] returning supplied default value for get_field_parameter",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1343"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1343"
                    }
                },
                "id": 1343
            },
            "content": {
                "raw": "I understand making this change -- although it does make it harder to tell if something is \"default\" or not, since it's no longer accessible via \"is None\".  But that seems way less important nowadays!",
                "html": "<p>I understand making this change -- although it does make it harder to tell if something is \"default\" or not, since it's no longer accessible via \"is None\".  But that seems way less important nowadays!</p>",
                "markup": "markdown"
            },
            "created_on": "2014-12-08T17:55:43.252621+00:00",
            "updated_on": "2014-12-08T17:55:43.264834+00:00",
            "id": 4203375
        }
    ]
}