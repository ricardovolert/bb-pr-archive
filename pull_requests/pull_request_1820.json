{
    "reason": "",
    "state": "MERGED",
    "updated_on": "2015-11-02T19:34:27.992973+00:00",
    "comment_count": 11,
    "description": "* Fix the bug that some region does not get rendered in (stereo)perspective lens, since the rays are not long enough (this did not occur in old version of VR though). ``camera._domain_center`` and ``camera._domain_width`` are added, which might not be so elegant?\r\n\r\nBefore fix:\r\n\r\n![test_perspective_old.png](https://bitbucket.org/repo/qnRMen/images/3101786040-test_perspective_old.png)\r\n\r\nAfter fix:\r\n\r\n![test_perspective_new.png](https://bitbucket.org/repo/qnRMen/images/992598891-test_perspective_new.png)\r\n\r\n* Set the length of rays in (stereo)spherical lens to be maximum value at default, so ``camera.width`` will not be used; docs are updated\r\n\r\n* Fix a minor bug in ``project_to_plan`` in stereo-perspective lens due to unit inconsistency",
    "created_on": "2015-10-18T07:46:25.084150+00:00",
    "task_count": 0,
    "merge_commit": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/91d6eab3fe36"
            }
        },
        "hash": "91d6eab3fe36"
    },
    "title": "[experimental] [bugfix] Fix the bug that some region does not get rendered in perspective lens, and some improvement",
    "links": {
        "diff": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1820/diff"
        },
        "decline": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1820/decline"
        },
        "self": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1820"
        },
        "activity": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1820/activity"
        },
        "merge": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1820/merge"
        },
        "commits": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1820/commits"
        },
        "statuses": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1820/statuses"
        },
        "approve": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1820/approve"
        },
        "html": {
            "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1820"
        },
        "comments": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1820/comments"
        }
    },
    "closed_by": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/bwkeller"
            },
            "html": {
                "href": "https://bitbucket.org/bwkeller/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/bwkeller/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "Ben Keller",
        "uuid": "{1719424c-ccde-435f-aa44-5102314e6b2d}",
        "username": "bwkeller"
    },
    "id": 1820,
    "type": "pullrequest",
    "author": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/jisuoqing"
            },
            "html": {
                "href": "https://bitbucket.org/jisuoqing/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/jisuoqing/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "Suoqing Ji",
        "uuid": "{7ef4ff60-41f7-4600-87bc-df06261680b4}",
        "username": "jisuoqing"
    },
    "source": {
        "branch": {
            "name": "yt"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/jisuoqing/yt/commit/46f4166102ad"
                }
            },
            "hash": "46f4166102ad"
        },
        "repository": {
            "full_name": "jisuoqing/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/jisuoqing/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/jisuoqing/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/jisuoqing/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{dc15744d-e256-4d81-94ff-2281a2f38f64}"
        }
    },
    "close_source_branch": false,
    "destination": {
        "branch": {
            "name": "yt"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/60428e2d8aad"
                }
            },
            "hash": "60428e2d8aad"
        },
        "repository": {
            "full_name": "yt_analysis/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/yt_analysis/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{b73cb37c-40f2-493a-aaa9-41bc8d8974cc}"
        }
    },
    "comments": [
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1820/comments/10903885"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1820/_/diff#comment-10903885"
                }
            },
            "pullrequest": {
                "title": "[experimental] [bugfix] Fix the bug that some region does not get rendered in perspective lens, and some improvement",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1820"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1820"
                    }
                },
                "id": 1820
            },
            "content": {
                "raw": "Something went wrong, you should checkout http://tests.yt-project.org/job/yt_testsuite_dev/728/",
                "html": "<p>Something went wrong, you should checkout <a href=\"http://tests.yt-project.org/job/yt_testsuite_dev/728/\" rel=\"nofollow\">http://tests.yt-project.org/job/yt_testsuite_dev/728/</a></p>",
                "markup": "markdown"
            },
            "created_on": "2015-10-18T09:10:15.985160+00:00",
            "updated_on": "2015-10-18T09:10:16.055553+00:00",
            "id": 10903885
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1820/comments/10903905"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1820/_/diff#comment-10903905"
                }
            },
            "pullrequest": {
                "title": "[experimental] [bugfix] Fix the bug that some region does not get rendered in perspective lens, and some improvement",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1820"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1820"
                    }
                },
                "id": 1820
            },
            "content": {
                "raw": "Docs were built for this PR. See http://tests.yt-project.org/job/yt_docs/348/\nDocs build visible at http://tests.yt-project.org/job/yt_docs/348/artifact/sandbox/doc/build/html/index.html",
                "html": "<p>Docs were built for this PR. See <a href=\"http://tests.yt-project.org/job/yt_docs/348/\" rel=\"nofollow\">http://tests.yt-project.org/job/yt_docs/348/</a>\nDocs build visible at <a href=\"http://tests.yt-project.org/job/yt_docs/348/artifact/sandbox/doc/build/html/index.html\" rel=\"nofollow\">http://tests.yt-project.org/job/yt_docs/348/artifact/sandbox/doc/build/html/index.html</a></p>",
                "markup": "markdown"
            },
            "created_on": "2015-10-18T09:21:45.196105+00:00",
            "updated_on": "2015-10-18T09:21:45.255587+00:00",
            "id": 10903905
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1820/comments/10945372"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/jisuoqing/yt:46f4166102ad..671e4100cce7?path=yt%2Fvisualization%2Fvolume_rendering%2Fcamera.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1820/_/diff#comment-10945372"
                }
            },
            "pullrequest": {
                "title": "[experimental] [bugfix] Fix the bug that some region does not get rendered in perspective lens, and some improvement",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1820"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1820"
                    }
                },
                "id": 1820
            },
            "content": {
                "raw": "I'm fine with these being camera attributes.",
                "html": "<p>I'm fine with these being camera attributes.</p>",
                "markup": "markdown"
            },
            "created_on": "2015-10-19T21:29:55.722124+00:00",
            "updated_on": "2015-10-19T21:29:55.724514+00:00",
            "inline": {
                "from": null,
                "path": "yt/visualization/volume_rendering/camera.py",
                "to": 80
            },
            "id": 10945372
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1820/comments/10945387"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/jisuoqing/yt:46f4166102ad..60428e2d8aad?path=yt%2Fvisualization%2Fvolume_rendering%2Flens.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1820/_/diff#comment-10945387"
                }
            },
            "pullrequest": {
                "title": "[experimental] [bugfix] Fix the bug that some region does not get rendered in perspective lens, and some improvement",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1820"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1820"
                    }
                },
                "id": 1820
            },
            "content": {
                "raw": "Good catch!",
                "html": "<p>Good catch!</p>",
                "markup": "markdown"
            },
            "created_on": "2015-10-19T21:30:29.947747+00:00",
            "updated_on": "2015-10-19T21:30:29.952748+00:00",
            "inline": {
                "from": null,
                "path": "yt/visualization/volume_rendering/lens.py",
                "to": 188
            },
            "id": 10945387
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/jisuoqing"
                    },
                    "html": {
                        "href": "https://bitbucket.org/jisuoqing/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/jisuoqing/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Suoqing Ji",
                "uuid": "{7ef4ff60-41f7-4600-87bc-df06261680b4}",
                "username": "jisuoqing"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1820/comments/10945409"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/jisuoqing/yt:None..None?path=yt%2Fvisualization%2Fvolume_rendering%2Flens.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1820/_/diff#comment-10945409"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1820/comments/10945387"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1820/_/diff#comment-10945387"
                    }
                },
                "id": 10945387
            },
            "pullrequest": {
                "title": "[experimental] [bugfix] Fix the bug that some region does not get rendered in perspective lens, and some improvement",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1820"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1820"
                    }
                },
                "id": 1820
            },
            "content": {
                "raw": "Thanks! Although I do not understand why the old VR works fine without this...",
                "html": "<p>Thanks! Although I do not understand why the old VR works fine without this...</p>",
                "markup": "markdown"
            },
            "created_on": "2015-10-19T21:31:37.472012+00:00",
            "updated_on": "2015-10-19T21:31:37.479004+00:00",
            "inline": {
                "from": null,
                "path": "yt/visualization/volume_rendering/lens.py",
                "to": null
            },
            "id": 10945409
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/chummels"
                    },
                    "html": {
                        "href": "https://bitbucket.org/chummels/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/chummels/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Cameron Hummels",
                "uuid": "{de871bb8-32e9-450a-b8c9-2b49a1334f16}",
                "username": "chummels"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1820/comments/11026680"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1820/_/diff#comment-11026680"
                }
            },
            "pullrequest": {
                "title": "[experimental] [bugfix] Fix the bug that some region does not get rendered in perspective lens, and some improvement",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1820"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1820"
                    }
                },
                "id": 1820
            },
            "content": {
                "raw": "Don't we want the `camera.width` to work, though?  I agree that by default, we should render the whole volume, but I thought the benefit of using camera.width was so that we could *not* render the whole volume if we wanted and instead only go to a particular depth.  It seems that now, camera.width[2] (ie the z direction) will be overridden no matter what.  Couldn't we set it so that if a width is not specified, then it defaults to going to the `max_length` calculated?",
                "html": "<p>Don't we want the <code>camera.width</code> to work, though?  I agree that by default, we should render the whole volume, but I thought the benefit of using camera.width was so that we could <em>not</em> render the whole volume if we wanted and instead only go to a particular depth.  It seems that now, camera.width[2] (ie the z direction) will be overridden no matter what.  Couldn't we set it so that if a width is not specified, then it defaults to going to the <code>max_length</code> calculated?</p>",
                "markup": "markdown"
            },
            "created_on": "2015-10-21T18:20:06.622853+00:00",
            "updated_on": "2015-10-21T18:20:06.625244+00:00",
            "id": 11026680
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1820/comments/11028122"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1820/_/diff#comment-11028122"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1820/comments/11026680"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1820/_/diff#comment-11026680"
                    }
                },
                "id": 11026680
            },
            "pullrequest": {
                "title": "[experimental] [bugfix] Fix the bug that some region does not get rendered in perspective lens, and some improvement",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1820"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1820"
                    }
                },
                "id": 1820
            },
            "content": {
                "raw": "Does `width` make any sense for non-plane-parallel lenses?",
                "html": "<p>Does <code>width</code> make any sense for non-plane-parallel lenses?</p>",
                "markup": "markdown"
            },
            "created_on": "2015-10-21T19:15:51.622333+00:00",
            "updated_on": "2015-10-21T19:15:51.624829+00:00",
            "id": 11028122
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1820/comments/11028600"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1820/_/diff#comment-11028600"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1820/comments/11028122"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1820/_/diff#comment-11028122"
                    }
                },
                "id": 11028122
            },
            "pullrequest": {
                "title": "[experimental] [bugfix] Fix the bug that some region does not get rendered in perspective lens, and some improvement",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1820"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1820"
                    }
                },
                "id": 1820
            },
            "content": {
                "raw": "Sometimes.",
                "html": "<p>Sometimes.</p>",
                "markup": "markdown"
            },
            "created_on": "2015-10-21T19:28:14.753601+00:00",
            "updated_on": "2015-10-21T19:28:14.769806+00:00",
            "id": 11028600
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/jisuoqing"
                    },
                    "html": {
                        "href": "https://bitbucket.org/jisuoqing/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/jisuoqing/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Suoqing Ji",
                "uuid": "{7ef4ff60-41f7-4600-87bc-df06261680b4}",
                "username": "jisuoqing"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1820/comments/11031066"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1820/_/diff#comment-11031066"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1820/comments/11026680"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1820/_/diff#comment-11026680"
                    }
                },
                "id": 11026680
            },
            "pullrequest": {
                "title": "[experimental] [bugfix] Fix the bug that some region does not get rendered in perspective lens, and some improvement",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1820"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1820"
                    }
                },
                "id": 1820
            },
            "content": {
                "raw": "You've brought up a good point, while in perspective lens, all three components of ``camera.width`` will play a role. ``width[0]`` and ``width[1]`` specify the width and height of the projection plane, and ``width[2]`` gives the depth of the projection plane.\n\nSo the open angles of perspective lens are ``2 * atan( (0.5 * width[0]) / width[2] )`` horizontally and ``2 * atan( (0.5 * width[1]) / width[2] )`` vertically. ``width[2]`` is not overrided here, since the code is ``vectors = (sample_x + sample_y + normal_vecs * camera.width[2]) * (max_length / camera.width[2])``, not ``vectors = sample_x + sample_y + normal_vecs * camera.width[2] * (max_length / camera.width[2])``, where ``sample_x`` and ``sample_y`` depend on ``width[0:1]``.",
                "html": "<p>You've brought up a good point, while in perspective lens, all three components of <code>camera.width</code> will play a role. <code>width[0]</code> and <code>width[1]</code> specify the width and height of the projection plane, and <code>width[2]</code> gives the depth of the projection plane.</p>\n<p>So the open angles of perspective lens are <code>2 * atan( (0.5 * width[0]) / width[2] )</code> horizontally and <code>2 * atan( (0.5 * width[1]) / width[2] )</code> vertically. <code>width[2]</code> is not overrided here, since the code is <code>vectors = (sample_x + sample_y + normal_vecs * camera.width[2]) * (max_length / camera.width[2])</code>, not <code>vectors = sample_x + sample_y + normal_vecs * camera.width[2] * (max_length / camera.width[2])</code>, where <code>sample_x</code> and <code>sample_y</code> depend on <code>width[0:1]</code>.</p>",
                "markup": "markdown"
            },
            "created_on": "2015-10-21T20:47:44.161054+00:00",
            "updated_on": "2015-10-21T20:47:44.164623+00:00",
            "id": 11031066
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/chummels"
                    },
                    "html": {
                        "href": "https://bitbucket.org/chummels/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/chummels/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Cameron Hummels",
                "uuid": "{de871bb8-32e9-450a-b8c9-2b49a1334f16}",
                "username": "chummels"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1820/comments/11033682"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1820/_/diff#comment-11033682"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1820/comments/11031066"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1820/_/diff#comment-11031066"
                    }
                },
                "id": 11031066
            },
            "pullrequest": {
                "title": "[experimental] [bugfix] Fix the bug that some region does not get rendered in perspective lens, and some improvement",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1820"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1820"
                    }
                },
                "id": 1820
            },
            "content": {
                "raw": "What about for `SphericalLens`?  Aren't there certain situations where we don't want to render the full volume if our width[2] isn't deep enough?  I agree that this is not often the case, but shouldn't we keep this general so that if someone sets the `width[2]` to be less than the `max_length` then we should allow that?  Or perhaps this doesn't make sense--I've never used the `SphericalLens`.",
                "html": "<p>What about for <code>SphericalLens</code>?  Aren't there certain situations where we don't want to render the full volume if our width[2] isn't deep enough?  I agree that this is not often the case, but shouldn't we keep this general so that if someone sets the <code>width[2]</code> to be less than the <code>max_length</code> then we should allow that?  Or perhaps this doesn't make sense--I've never used the <code>SphericalLens</code>.</p>",
                "markup": "markdown"
            },
            "created_on": "2015-10-21T22:41:06.473733+00:00",
            "updated_on": "2015-10-21T22:41:06.481477+00:00",
            "id": 11033682
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/jisuoqing"
                    },
                    "html": {
                        "href": "https://bitbucket.org/jisuoqing/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/jisuoqing/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Suoqing Ji",
                "uuid": "{7ef4ff60-41f7-4600-87bc-df06261680b4}",
                "username": "jisuoqing"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1820/comments/11034984"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1820/_/diff#comment-11034984"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1820/comments/11033682"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1820/_/diff#comment-11033682"
                    }
                },
                "id": 11033682
            },
            "pullrequest": {
                "title": "[experimental] [bugfix] Fix the bug that some region does not get rendered in perspective lens, and some improvement",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1820"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1820"
                    }
                },
                "id": 1820
            },
            "content": {
                "raw": "In ``SphericalLens``, ``width[0:1]`` is useless since there's no need to specify the height and width of the projection plane, which is just ``2*PI`` and ``PI``. In this case, you sit inside the data and look around you, so the natural way is that all the rays will start from you and extend to infinity. If we use ``width[2]`` to limit the length of rays, actually we are looking at an inner shell.\n\nIf people want to limit the length of rays (I don't think it's very physical), instead they can define a sphere object with given radius and render it. My concern is that ``width`` in ``PerspectiveLens`` does not represent the ray length, but in ``SphericalLens`` it does, which might cause confusion.",
                "html": "<p>In <code>SphericalLens</code>, <code>width[0:1]</code> is useless since there's no need to specify the height and width of the projection plane, which is just <code>2*PI</code> and <code>PI</code>. In this case, you sit inside the data and look around you, so the natural way is that all the rays will start from you and extend to infinity. If we use <code>width[2]</code> to limit the length of rays, actually we are looking at an inner shell.</p>\n<p>If people want to limit the length of rays (I don't think it's very physical), instead they can define a sphere object with given radius and render it. My concern is that <code>width</code> in <code>PerspectiveLens</code> does not represent the ray length, but in <code>SphericalLens</code> it does, which might cause confusion.</p>",
                "markup": "markdown"
            },
            "created_on": "2015-10-22T00:18:22.497785+00:00",
            "updated_on": "2015-10-22T00:18:22.506608+00:00",
            "id": 11034984
        }
    ]
}