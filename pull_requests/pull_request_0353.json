{
    "reason": "",
    "state": "MERGED",
    "updated_on": "2012-12-04T15:19:26.581211+00:00",
    "comment_count": 15,
    "description": "This PR, which is a work in progress, refactors the Rockstar support somewhat.  It returns to the use of ProcessorPool/Workgroups, removes some tight loops, and tightens up other areas of the code.  It also uses Rockstar-0.99.6.\r\n\r\nThere may be things not yet functional, but this PR is meant to be left open until Stephen, Chris and I can iterate on them.  In particular, the \"inline runner\" which I don't quite yet understand will need to be updated.\r\n\r\n*UPDATE 1*: This puts all the IO into the readers workgroup, exclusively.  Should fix some issues with the hierarchy and its communicators.  However, this will not work if a time series is created from a sequence of parameter files and if those parameter files have had hierarchies previously instantiated.  We need either a mechanism for clearing hierarchies or swapping out communicators.  I prefer the latter.\r\n\r\n*UPDATE 2*: This includes Stephen's changes.  I have comments on these, which I have included below.\r\n\r\n*UPDATE 3*: This includes Stephen's fixes to my comments.  It's ready to go.",
    "created_on": "2012-11-28T14:05:42.654557+00:00",
    "task_count": 0,
    "merge_commit": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/3ffe2b24d1a7"
            }
        },
        "hash": "3ffe2b24d1a7"
    },
    "title": "Rockstar Refactor",
    "links": {
        "diff": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/353/diff"
        },
        "decline": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/353/decline"
        },
        "self": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/353"
        },
        "activity": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/353/activity"
        },
        "merge": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/353/merge"
        },
        "commits": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/353/commits"
        },
        "statuses": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/353/statuses"
        },
        "approve": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/353/approve"
        },
        "html": {
            "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/353"
        },
        "comments": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/353/comments"
        }
    },
    "closed_by": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/brittonsmith"
            },
            "html": {
                "href": "https://bitbucket.org/brittonsmith/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/brittonsmith/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "Britton Smith",
        "uuid": "{94333901-a436-4c2c-8322-8d09e387eece}",
        "username": "brittonsmith"
    },
    "id": 353,
    "type": "pullrequest",
    "author": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
            },
            "html": {
                "href": "https://bitbucket.org/MatthewTurk/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "Matt Turk",
        "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
        "username": "MatthewTurk"
    },
    "source": {
        "branch": {
            "name": "yt"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/MatthewTurk/yt/commit/c65043d32eb2"
                }
            },
            "hash": "c65043d32eb2"
        },
        "repository": {
            "full_name": "MatthewTurk/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/MatthewTurk/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/MatthewTurk/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/MatthewTurk/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{b5dfa70b-707c-4330-92a8-e3ea1bee18b3}"
        }
    },
    "close_source_branch": false,
    "destination": {
        "branch": {
            "name": "yt"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/61f553c23c6a"
                }
            },
            "hash": "61f553c23c6a"
        },
        "repository": {
            "full_name": "yt_analysis/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/yt_analysis/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{b73cb37c-40f2-493a-aaa9-41bc8d8974cc}"
        }
    },
    "comments": [
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/353/comments/54633"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/353/_/diff#comment-54633"
                }
            },
            "pullrequest": {
                "title": "Rockstar Refactor",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/353"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/353"
                    }
                },
                "id": 353
            },
            "content": {
                "raw": "Stephen and Chris, does this need any addition changesets or modifications?",
                "html": "<p>Stephen and Chris, does this need any addition changesets or modifications?</p>",
                "markup": "markdown"
            },
            "created_on": "2012-12-03T18:00:46.699905+00:00",
            "updated_on": "2012-12-03T18:00:46.705194+00:00",
            "id": 54633
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/sskory"
                    },
                    "html": {
                        "href": "https://bitbucket.org/sskory/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/sskory/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Stephen Skory",
                "uuid": "{11787434-dea2-42d8-b94d-88d347eb151a}",
                "username": "sskory"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/353/comments/54641"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/353/_/diff#comment-54641"
                }
            },
            "pullrequest": {
                "title": "Rockstar Refactor",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/353"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/353"
                    }
                },
                "id": 353
            },
            "content": {
                "raw": "Yes, I was just working on inline stuff this morning and a few changes are needed. Stay tuned!",
                "html": "<p>Yes, I was just working on inline stuff this morning and a few changes are needed. Stay tuned!</p>",
                "markup": "markdown"
            },
            "created_on": "2012-12-03T18:03:30.961897+00:00",
            "updated_on": "2012-12-03T18:03:30.968787+00:00",
            "id": 54641
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/sskory"
                    },
                    "html": {
                        "href": "https://bitbucket.org/sskory/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/sskory/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Stephen Skory",
                "uuid": "{11787434-dea2-42d8-b94d-88d347eb151a}",
                "username": "sskory"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/353/comments/54841"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/353/_/diff#comment-54841"
                }
            },
            "pullrequest": {
                "title": "Rockstar Refactor",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/353"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/353"
                    }
                },
                "id": 353
            },
            "content": {
                "raw": "Hi Chris & Matt,\n\nlast week and this morning I started from Matt's PR changes and have made a few more changes. They're presently in my fork (bb:sskory/yt) and I think Matt will pull them into his fork, and then update the PR (please correct me if I'm wrong about this workflow plan, Matt). My changes are:\n\n  * After Matt's changes below I had to slightly modify rockstar.py so that inline Rockstar+Enzo would work. \n  * Updated the install_script for the 0.99.6 tarball (Matt - you'll need to remove the extra t, the file is currently listed as dependencies/rockstart-0.99.6.tar.gz)\n  * Particle mass is now calculated by rockstar.py automatically - the user does not need to supply this anymore.\n  * Updated the Rockstar binary format reader in halo_objects for the 0.99.6 binary format.\n\nAs an addendum, last week working together Matt and I discovered that yt + Rockstar Inifinband leads to memory corruption for fork()s, which causes the whole thing to hang or segfault. The current solution is to prevent the usage of the Infiniband network. I will make a note of this in the docs.",
                "html": "<p>Hi Chris &amp; Matt,</p>\n<p>last week and this morning I started from Matt's PR changes and have made a few more changes. They're presently in my fork (bb:sskory/yt) and I think Matt will pull them into his fork, and then update the PR (please correct me if I'm wrong about this workflow plan, Matt). My changes are:</p>\n<ul>\n<li>After Matt's changes below I had to slightly modify rockstar.py so that inline Rockstar+Enzo would work. </li>\n<li>Updated the install_script for the 0.99.6 tarball (Matt - you'll need to remove the extra t, the file is currently listed as dependencies/rockstart-0.99.6.tar.gz)</li>\n<li>Particle mass is now calculated by rockstar.py automatically - the user does not need to supply this anymore.</li>\n<li>Updated the Rockstar binary format reader in halo_objects for the 0.99.6 binary format.</li>\n</ul>\n<p>As an addendum, last week working together Matt and I discovered that yt + Rockstar Inifinband leads to memory corruption for fork()s, which causes the whole thing to hang or segfault. The current solution is to prevent the usage of the Infiniband network. I will make a note of this in the docs.</p>",
                "markup": "markdown"
            },
            "created_on": "2012-12-03T20:52:48.440318+00:00",
            "updated_on": "2012-12-03T20:52:48.445830+00:00",
            "id": 54841
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/353/comments/54853"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/MatthewTurk/yt:c65043d32eb2..61f553c23c6a?path=yt%2Fanalysis_modules%2Fhalo_finding%2Frockstar%2Frockstar.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/353/_/diff#comment-54853"
                }
            },
            "pullrequest": {
                "title": "Rockstar Refactor",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/353"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/353"
                    }
                },
                "id": 353
            },
            "content": {
                "raw": "This entire routine should be updated to match the way split_work is done in the other routine.  I am having a really hard time parsing both what the loop does and why it has to be a while loop.  I think the solution in principle should be to turn off all assignment of writers and instead making Rockstar fork writers from readers, if you're going to go down the fork path anyway.  But at the very least, we should avoid the construct below with the manual calculation of strides and loops.",
                "html": "<p>This entire routine should be updated to match the way split_work is done in the other routine.  I am having a really hard time parsing both what the loop does and why it has to be a while loop.  I think the solution in principle should be to turn off all assignment of writers and instead making Rockstar fork writers from readers, if you're going to go down the fork path anyway.  But at the very least, we should avoid the construct below with the manual calculation of strides and loops.</p>",
                "markup": "markdown"
            },
            "created_on": "2012-12-03T21:02:28.106838+00:00",
            "updated_on": "2012-12-03T21:02:28.112371+00:00",
            "inline": {
                "from": 78,
                "path": "yt/analysis_modules/halo_finding/rockstar/rockstar.py",
                "to": null
            },
            "id": 54853
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/353/comments/54854"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/MatthewTurk/yt:c65043d32eb2..61f553c23c6a?path=yt%2Fanalysis_modules%2Fhalo_finding%2Frockstar%2Frockstar.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/353/_/diff#comment-54854"
                }
            },
            "pullrequest": {
                "title": "Rockstar Refactor",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/353"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/353"
                    }
                },
                "id": 353
            },
            "content": {
                "raw": "Use np.arange",
                "html": "<p>Use np.arange</p>",
                "markup": "markdown"
            },
            "created_on": "2012-12-03T21:02:33.310781+00:00",
            "updated_on": "2012-12-03T21:02:33.318303+00:00",
            "inline": {
                "from": 79,
                "path": "yt/analysis_modules/halo_finding/rockstar/rockstar.py",
                "to": null
            },
            "id": 54854
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/353/comments/54855"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/MatthewTurk/yt:c65043d32eb2..61f553c23c6a?path=yt%2Fanalysis_modules%2Fhalo_finding%2Frockstar%2Frockstar.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/353/_/diff#comment-54855"
                }
            },
            "pullrequest": {
                "title": "Rockstar Refactor",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/353"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/353"
                    }
                },
                "id": 353
            },
            "content": {
                "raw": "extend has non-optimal memory usage",
                "html": "<p>extend has non-optimal memory usage</p>",
                "markup": "markdown"
            },
            "created_on": "2012-12-03T21:02:48.410315+00:00",
            "updated_on": "2012-12-03T21:02:48.415530+00:00",
            "inline": {
                "from": 94,
                "path": "yt/analysis_modules/halo_finding/rockstar/rockstar.py",
                "to": null
            },
            "id": 54855
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/353/comments/54858"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/MatthewTurk/yt:c65043d32eb2..61f553c23c6a?path=yt%2Fanalysis_modules%2Fhalo_finding%2Frockstar%2Frockstar.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/353/_/diff#comment-54858"
                }
            },
            "pullrequest": {
                "title": "Rockstar Refactor",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/353"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/353"
                    }
                },
                "id": 353
            },
            "content": {
                "raw": "Worst case behavior is to iterate over the entire list (yes, list) of self.writers.",
                "html": "<p>Worst case behavior is to iterate over the entire list (yes, list) of self.writers.</p>",
                "markup": "markdown"
            },
            "created_on": "2012-12-03T21:04:00.403481+00:00",
            "updated_on": "2012-12-03T21:04:00.409123+00:00",
            "inline": {
                "from": 109,
                "path": "yt/analysis_modules/halo_finding/rockstar/rockstar.py",
                "to": null
            },
            "id": 54858
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/353/comments/54859"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/MatthewTurk/yt:c65043d32eb2..61f553c23c6a?path=yt%2Fanalysis_modules%2Fhalo_finding%2Frockstar%2Frockstar.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/353/_/diff#comment-54859"
                }
            },
            "pullrequest": {
                "title": "Rockstar Refactor",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/353"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/353"
                    }
                },
                "id": 353
            },
            "content": {
                "raw": "Same worst case behavior, and it could even be covered by an \"else\"",
                "html": "<p>Same worst case behavior, and it could even be covered by an \"else\"</p>",
                "markup": "markdown"
            },
            "created_on": "2012-12-03T21:04:13.844294+00:00",
            "updated_on": "2012-12-03T21:04:13.849372+00:00",
            "inline": {
                "from": 116,
                "path": "yt/analysis_modules/halo_finding/rockstar/rockstar.py",
                "to": null
            },
            "id": 54859
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/353/comments/54860"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/353/_/diff#comment-54860"
                }
            },
            "pullrequest": {
                "title": "Rockstar Refactor",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/353"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/353"
                    }
                },
                "id": 353
            },
            "content": {
                "raw": "Pending my comments below, I am ready for this to be accepted.  I'm still not completely satisfied with how inline is being set up.  In particular I don't like how the processor pools are being created, although I could be convinced otherwise.",
                "html": "<p>Pending my comments below, I am ready for this to be accepted.  I'm still not completely satisfied with how inline is being set up.  In particular I don't like how the processor pools are being created, although I could be convinced otherwise.</p>",
                "markup": "markdown"
            },
            "created_on": "2012-12-03T21:06:26.699318+00:00",
            "updated_on": "2012-12-03T21:06:26.708402+00:00",
            "id": 54860
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/sskory"
                    },
                    "html": {
                        "href": "https://bitbucket.org/sskory/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/sskory/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Stephen Skory",
                "uuid": "{11787434-dea2-42d8-b94d-88d347eb151a}",
                "username": "sskory"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/353/comments/54861"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/MatthewTurk/yt:None..None?path=yt%2Fanalysis_modules%2Fhalo_finding%2Frockstar%2Frockstar.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/353/_/diff#comment-54861"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/353/comments/54853"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/353/_/diff#comment-54853"
                    }
                },
                "id": 54853
            },
            "pullrequest": {
                "title": "Rockstar Refactor",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/353"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/353"
                    }
                },
                "id": 353
            },
            "content": {
                "raw": "I'll think about making the logic simpler, but unfortunately R* forks readers from writers, not the other way around (as you suggest above) so the simplest solution won't work, unfortunately.",
                "html": "<p>I'll think about making the logic simpler, but unfortunately R* forks readers from writers, not the other way around (as you suggest above) so the simplest solution won't work, unfortunately.</p>",
                "markup": "markdown"
            },
            "created_on": "2012-12-03T21:06:32.750329+00:00",
            "updated_on": "2012-12-03T21:06:32.758750+00:00",
            "inline": {
                "from": null,
                "path": "yt/analysis_modules/halo_finding/rockstar/rockstar.py",
                "to": null
            },
            "id": 54861
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/juxtaposicion"
                    },
                    "html": {
                        "href": "https://bitbucket.org/juxtaposicion/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/juxtaposicion/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Christopher Moody",
                "uuid": "{2923e86b-189b-4a68-898f-fe6a9b9734af}",
                "username": "juxtaposicion"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/353/comments/54986"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/353/_/diff#comment-54986"
                }
            },
            "pullrequest": {
                "title": "Rockstar Refactor",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/353"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/353"
                    }
                },
                "id": 353
            },
            "content": {
                "raw": "So, I'm here with Peter and maybe we should hold off on this PR for a bit longer. He's got a version with varying particle mass (optionally including a gas particle temperature) that I imagine we'd like to use instead. ",
                "html": "<p>So, I'm here with Peter and maybe we should hold off on this PR for a bit longer. He's got a version with varying particle mass (optionally including a gas particle temperature) that I imagine we'd like to use instead. </p>",
                "markup": "markdown"
            },
            "created_on": "2012-12-03T23:24:45.477249+00:00",
            "updated_on": "2012-12-03T23:24:45.482649+00:00",
            "id": 54986
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/sskory"
                    },
                    "html": {
                        "href": "https://bitbucket.org/sskory/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/sskory/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Stephen Skory",
                "uuid": "{11787434-dea2-42d8-b94d-88d347eb151a}",
                "username": "sskory"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/353/comments/54993"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/353/_/diff#comment-54993"
                }
            },
            "pullrequest": {
                "title": "Rockstar Refactor",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/353"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/353"
                    }
                },
                "id": 353
            },
            "content": {
                "raw": "That's very interesting. Please keep us updated on that!",
                "html": "<p>That's very interesting. Please keep us updated on that!</p>",
                "markup": "markdown"
            },
            "created_on": "2012-12-04T00:12:14.730376+00:00",
            "updated_on": "2012-12-04T00:12:14.735202+00:00",
            "id": 54993
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/sskory"
                    },
                    "html": {
                        "href": "https://bitbucket.org/sskory/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/sskory/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Stephen Skory",
                "uuid": "{11787434-dea2-42d8-b94d-88d347eb151a}",
                "username": "sskory"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/353/comments/54997"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/353/_/diff#comment-54997"
                }
            },
            "pullrequest": {
                "title": "Rockstar Refactor",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/353"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/353"
                    }
                },
                "id": 353
            },
            "content": {
                "raw": "Matt - I've pushed a changeset to my fork that I think addresses issues #468 and #469.",
                "html": "<p>Matt - I've pushed a changeset to my fork that I think addresses issues <a href=\"/yt_analysis/yt/issues/468/disable-filtering-of-particles-in-rockstar\" rel=\"nofollow\" title=\"Disable filtering of particles in Rockstar halo finding\"><s>#468</s></a> and <a href=\"/yt_analysis/yt/issues/469/specify-the-number-of-particles-in-advance\" rel=\"nofollow\" title=\"Specify the number of particles in advance for Rockstar\"><s>#469</s></a>.</p>",
                "markup": "markdown"
            },
            "created_on": "2012-12-04T00:29:15.245611+00:00",
            "updated_on": "2012-12-04T00:29:15.252696+00:00",
            "id": 54997
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/353/comments/55010"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/353/_/diff#comment-55010"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/353/comments/54986"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/353/_/diff#comment-54986"
                    }
                },
                "id": 54986
            },
            "pullrequest": {
                "title": "Rockstar Refactor",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/353"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/353"
                    }
                },
                "id": 353
            },
            "content": {
                "raw": "Hi Chris.  That is interesting, but it's out of scope for this PR.  Because we use Rockstar's internals, and because there's no mechanism to easily see a diff between the two versions (i.e., a VCS), I think we need to be very careful about upgrading.  The previous upgrade cost us a non-trivial amount of time and effort because of the addition of forking, and I would like to remain somewhat conservative in our upgrades.\n\nSo this is an exciting and good idea, and I like it, but it needs to be the subject of its own pull request.",
                "html": "<p>Hi Chris.  That is interesting, but it's out of scope for this PR.  Because we use Rockstar's internals, and because there's no mechanism to easily see a diff between the two versions (i.e., a VCS), I think we need to be very careful about upgrading.  The previous upgrade cost us a non-trivial amount of time and effort because of the addition of forking, and I would like to remain somewhat conservative in our upgrades.</p>\n<p>So this is an exciting and good idea, and I like it, but it needs to be the subject of its own pull request.</p>",
                "markup": "markdown"
            },
            "created_on": "2012-12-04T00:57:38.052985+00:00",
            "updated_on": "2012-12-04T00:57:38.062963+00:00",
            "id": 55010
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/353/comments/55104"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/353/_/diff#comment-55104"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/353/comments/54997"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/353/_/diff#comment-54997"
                    }
                },
                "id": 54997
            },
            "pullrequest": {
                "title": "Rockstar Refactor",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/353"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/353"
                    }
                },
                "id": 353
            },
            "content": {
                "raw": "Thanks Stephen, I agree this should fix it.  I've edited this PR.  I think it's ready.",
                "html": "<p>Thanks Stephen, I agree this should fix it.  I've edited this PR.  I think it's ready.</p>",
                "markup": "markdown"
            },
            "created_on": "2012-12-04T03:23:49.116227+00:00",
            "updated_on": "2012-12-04T03:23:49.127459+00:00",
            "id": 55104
        }
    ]
}