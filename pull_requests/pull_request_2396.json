{
    "links": {
        "decline": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396/decline"
        },
        "approve": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396/approve"
        },
        "html": {
            "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396"
        },
        "activity": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396/activity"
        },
        "self": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396"
        },
        "commits": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396/commits"
        },
        "merge": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396/merge"
        },
        "statuses": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396/statuses"
        },
        "comments": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396/comments"
        },
        "diff": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396/diff"
        }
    },
    "task_count": 0,
    "source": {
        "repository": {
            "full_name": "john_regan/ytclump",
            "uuid": "{28bd2903-a2f0-41b0-8cc8-c19121e1bbda}",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/john_regan/ytclump"
                },
                "html": {
                    "href": "https://bitbucket.org/john_regan/ytclump"
                },
                "avatar": {
                    "href": "https://bitbucket.org/john_regan/ytclump/avatar/32/"
                }
            },
            "name": "ytclump"
        },
        "commit": {
            "hash": "30ca4759e39b",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/john_regan/ytclump/commit/30ca4759e39b"
                }
            }
        },
        "branch": {
            "name": "yt"
        }
    },
    "closed_by": {
        "username": "ngoldbaum",
        "type": "user",
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
            },
            "html": {
                "href": "https://bitbucket.org/ngoldbaum/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
            }
        },
        "display_name": "Nathan Goldbaum",
        "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}"
    },
    "title": "Adding Virial validation from Bleuler & Tessier (2014)",
    "id": 2396,
    "comment_count": 20,
    "created_on": "2016-09-28T16:03:31.236335+00:00",
    "merge_commit": null,
    "comments": [
        {
            "content": {
                "markup": "markdown",
                "raw": "Couldn't you just use `_virial_validation` directly?",
                "html": "<p>Couldn't you just use <code>_virial_validation</code> directly?</p>"
            },
            "user": {
                "username": "ngoldbaum",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396/comments/24421163"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396/_/diff#comment-24421163"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/john_regan/ytclump:47038ac43870..9b5937af5857?path=yt%2Fanalysis_modules%2Flevel_sets%2Fclump_validators.py"
                }
            },
            "created_on": "2016-09-28T16:06:32.066956+00:00",
            "updated_on": "2016-09-28T16:06:32.072757+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396"
                    }
                },
                "title": "Adding Virial validation from Bleuler & Tessier (2014)",
                "id": 2396
            },
            "inline": {
                "to": 107,
                "path": "yt/analysis_modules/level_sets/clump_validators.py",
                "from": null
            },
            "type": "pullrequest_comment",
            "id": 24421163
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Yes. I'll update. I think I initially did this as part of the debug.",
                "html": "<p>Yes. I'll update. I think I initially did this as part of the debug.</p>"
            },
            "user": {
                "username": "john_regan",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/john_regan"
                    },
                    "html": {
                        "href": "https://bitbucket.org/john_regan/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/john_regan/avatar/32/"
                    }
                },
                "display_name": "John  Regan",
                "uuid": "{170107e8-e39c-4d78-ac01-431331a34446}"
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396/comments/24421163"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396/_/diff#comment-24421163"
                    }
                },
                "id": 24421163
            },
            "created_on": "2016-09-28T16:07:49.877193+00:00",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396/comments/24421242"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396/_/diff#comment-24421242"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/john_regan/ytclump:47038ac43870..9b5937af5857?path=yt%2Fanalysis_modules%2Flevel_sets%2Fclump_validators.py"
                }
            },
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396"
                    }
                },
                "title": "Adding Virial validation from Bleuler & Tessier (2014)",
                "id": 2396
            },
            "inline": {
                "to": null,
                "path": "yt/analysis_modules/level_sets/clump_validators.py",
                "from": null
            },
            "type": "pullrequest_comment",
            "id": 24421242,
            "updated_on": "2016-09-28T16:07:49.921209+00:00"
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Hey sorry, so I was saying you don't need the `_virial_check` function at all, instead you should have:\n\n```\nadd_validator(\"virial_check\", _virial_validation)\n```\n\nAnd then delete `_virial_check`",
                "html": "<p>Hey sorry, so I was saying you don't need the <code>_virial_check</code> function at all, instead you should have:</p>\n<div class=\"codehilite\"><pre><span></span>add_validator(&quot;virial_check&quot;, _virial_validation)\n</pre></div>\n\n\n<p>And then delete <code>_virial_check</code></p>"
            },
            "user": {
                "username": "ngoldbaum",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396/comments/24423112"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396/_/diff#comment-24423112"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/john_regan/ytclump:54cabcd68c5a..9b5937af5857?path=yt%2Fanalysis_modules%2Flevel_sets%2Fclump_validators.py"
                }
            },
            "created_on": "2016-09-28T16:38:20.173715+00:00",
            "updated_on": "2016-09-28T16:38:20.177395+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396"
                    }
                },
                "title": "Adding Virial validation from Bleuler & Tessier (2014)",
                "id": 2396
            },
            "inline": {
                "to": 106,
                "path": "yt/analysis_modules/level_sets/clump_validators.py",
                "from": null
            },
            "type": "pullrequest_comment",
            "id": 24423112
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "I see. Just wondering if that would impact on the arguments? Could \n```\n#!C\n\nuse_particles\n```\n still be used?\n",
                "html": "<p>I see. Just wondering if that would impact on the arguments? Could </p>\n<div class=\"codehilite language-c\"><pre><span></span><span class=\"n\">use_particles</span>\n</pre></div>\n\n\n<p>still be used?</p>"
            },
            "user": {
                "username": "john_regan",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/john_regan"
                    },
                    "html": {
                        "href": "https://bitbucket.org/john_regan/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/john_regan/avatar/32/"
                    }
                },
                "display_name": "John  Regan",
                "uuid": "{170107e8-e39c-4d78-ac01-431331a34446}"
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396/comments/24423112"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396/_/diff#comment-24423112"
                    }
                },
                "id": 24423112
            },
            "created_on": "2016-09-28T16:44:38.796019+00:00",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396/comments/24423459"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396/_/diff#comment-24423459"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/john_regan/ytclump:54cabcd68c5a..9b5937af5857?path=yt%2Fanalysis_modules%2Flevel_sets%2Fclump_validators.py"
                }
            },
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396"
                    }
                },
                "title": "Adding Virial validation from Bleuler & Tessier (2014)",
                "id": 2396
            },
            "inline": {
                "to": null,
                "path": "yt/analysis_modules/level_sets/clump_validators.py",
                "from": null
            },
            "type": "pullrequest_comment",
            "id": 24423459,
            "updated_on": "2016-09-28T16:44:38.842870+00:00"
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Yes, because `_virial_validation` has the same signature as `_virial_check`.",
                "html": "<p>Yes, because <code>_virial_validation</code> has the same signature as <code>_virial_check</code>.</p>"
            },
            "user": {
                "username": "ngoldbaum",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}"
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396/comments/24423459"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396/_/diff#comment-24423459"
                    }
                },
                "id": 24423459
            },
            "created_on": "2016-09-28T16:45:42.142845+00:00",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396/comments/24423557"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396/_/diff#comment-24423557"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/john_regan/ytclump:54cabcd68c5a..9b5937af5857?path=yt%2Fanalysis_modules%2Flevel_sets%2Fclump_validators.py"
                }
            },
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396"
                    }
                },
                "title": "Adding Virial validation from Bleuler & Tessier (2014)",
                "id": 2396
            },
            "inline": {
                "to": null,
                "path": "yt/analysis_modules/level_sets/clump_validators.py",
                "from": null
            },
            "type": "pullrequest_comment",
            "id": 24423557,
            "updated_on": "2016-09-28T16:45:42.144844+00:00"
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "* Something went wrong, you should checkout https://tests.yt-project.org/job/yt_testsuite/243/\n* Something went wrong, you should checkout https://tests.yt-project.org/job/yt_testsuite/245/\n* Something went wrong, you should checkout https://tests.yt-project.org/job/yt_testsuite/247/\n* Something went wrong, you should checkout https://tests.yt-project.org/job/yt_testsuite/263/\n* Something went wrong, you should checkout https://tests.yt-project.org/job/yt_testsuite/264/\n* Something went wrong, you should checkout https://tests.yt-project.org/job/yt_testsuite/307/\n* All tests pass. Good job! https://tests.yt-project.org/job/yt_testsuite/308/\n* All tests pass. Good job! https://tests.yt-project.org/job/yt_testsuite/312/\n",
                "html": "<ul>\n<li>Something went wrong, you should checkout <a href=\"https://tests.yt-project.org/job/yt_testsuite/243/\" rel=\"nofollow\">https://tests.yt-project.org/job/yt_testsuite/243/</a></li>\n<li>Something went wrong, you should checkout <a href=\"https://tests.yt-project.org/job/yt_testsuite/245/\" rel=\"nofollow\">https://tests.yt-project.org/job/yt_testsuite/245/</a></li>\n<li>Something went wrong, you should checkout <a href=\"https://tests.yt-project.org/job/yt_testsuite/247/\" rel=\"nofollow\">https://tests.yt-project.org/job/yt_testsuite/247/</a></li>\n<li>Something went wrong, you should checkout <a href=\"https://tests.yt-project.org/job/yt_testsuite/263/\" rel=\"nofollow\">https://tests.yt-project.org/job/yt_testsuite/263/</a></li>\n<li>Something went wrong, you should checkout <a href=\"https://tests.yt-project.org/job/yt_testsuite/264/\" rel=\"nofollow\">https://tests.yt-project.org/job/yt_testsuite/264/</a></li>\n<li>Something went wrong, you should checkout <a href=\"https://tests.yt-project.org/job/yt_testsuite/307/\" rel=\"nofollow\">https://tests.yt-project.org/job/yt_testsuite/307/</a></li>\n<li>All tests pass. Good job! <a href=\"https://tests.yt-project.org/job/yt_testsuite/308/\" rel=\"nofollow\">https://tests.yt-project.org/job/yt_testsuite/308/</a></li>\n<li>All tests pass. Good job! <a href=\"https://tests.yt-project.org/job/yt_testsuite/312/\" rel=\"nofollow\">https://tests.yt-project.org/job/yt_testsuite/312/</a></li>\n</ul>"
            },
            "user": {
                "username": "yt-fido",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396/comments/24423644"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396/_/diff#comment-24423644"
                }
            },
            "created_on": "2016-09-28T16:46:41.910655+00:00",
            "updated_on": "2016-10-12T09:37:29.941084+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396"
                    }
                },
                "title": "Adding Virial validation from Bleuler & Tessier (2014)",
                "id": 2396
            },
            "type": "pullrequest_comment",
            "id": 24423644
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "flake8 is complaining because you assign to the `grad_fields` name but then don't use it later. Instead you should just do:\n\n```\nif use_particles:\n    self.data_source.ds.add_gradient_fields((\"all\",\"gravitational_potential\"))\n```\n\nHope that makes sense. There are a few other places that might need to be touched up as well. You can run flake8 locally by installing it from pip, then running it inside the repository:\n\n```\n$ pip install flake8\n$ cd $YT_REPO\n$ flake8 ./yt\n```",
                "html": "<p>flake8 is complaining because you assign to the <code>grad_fields</code> name but then don't use it later. Instead you should just do:</p>\n<div class=\"codehilite\"><pre><span></span>if use_particles:\n    self.data_source.ds.add_gradient_fields((&quot;all&quot;,&quot;gravitational_potential&quot;))\n</pre></div>\n\n\n<p>Hope that makes sense. There are a few other places that might need to be touched up as well. You can run flake8 locally by installing it from pip, then running it inside the repository:</p>\n<div class=\"codehilite\"><pre><span></span>$ pip install flake8\n$ <span class=\"nb\">cd</span> <span class=\"nv\">$YT_REPO</span>\n$ flake8 ./yt\n</pre></div>"
            },
            "user": {
                "username": "ngoldbaum",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396/comments/24742877"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396/_/diff#comment-24742877"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/john_regan/ytclump:60df80de901c..a0b5472ce04d?path=yt%2Fdata_objects%2Fderived_quantities.py"
                }
            },
            "created_on": "2016-10-05T15:04:33.475538+00:00",
            "updated_on": "2016-10-05T15:04:33.482449+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396"
                    }
                },
                "title": "Adding Virial validation from Bleuler & Tessier (2014)",
                "id": 2396
            },
            "inline": {
                "to": 398,
                "path": "yt/data_objects/derived_quantities.py",
                "from": null
            },
            "type": "pullrequest_comment",
            "id": 24742877
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "We prefer non-relative imports in yt:\n\n```\nfrom yt.analysis_modules.level_sets.virial_validator import _virial_validation\n```",
                "html": "<p>We prefer non-relative imports in yt:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kn\">from</span> <span class=\"nn\">yt.analysis_modules.level_sets.virial_validator</span> <span class=\"kn\">import</span> <span class=\"n\">_virial_validation</span>\n</pre></div>"
            },
            "user": {
                "username": "ngoldbaum",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396/comments/25023118"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396/_/diff#comment-25023118"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/john_regan/ytclump:223a03e896db..a0b5472ce04d?path=yt%2Fanalysis_modules%2Flevel_sets%2Fclump_validators.py"
                }
            },
            "created_on": "2016-10-11T16:39:05.326278+00:00",
            "updated_on": "2016-10-11T16:39:05.329074+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396"
                    }
                },
                "title": "Adding Virial validation from Bleuler & Tessier (2014)",
                "id": 2396
            },
            "inline": {
                "to": 24,
                "path": "yt/analysis_modules/level_sets/clump_validators.py",
                "from": null
            },
            "type": "pullrequest_comment",
            "id": 25023118
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "I don't see any obvious code problems, but I had a brief comment.  The surface object can also sample and compute flux; I am trying to piece together whether that can be made to be identical to your computation, as it should happen all inline with the calculation of triangles and could be faster.  That isn't a show stopper, but it would reduce the number of places in the code that it's necessary.  Otherwise, I am +1 on this.  Thanks, @john_regan !",
                "html": "<p>I don't see any obvious code problems, but I had a brief comment.  The surface object can also sample and compute flux; I am trying to piece together whether that can be made to be identical to your computation, as it should happen all inline with the calculation of triangles and could be faster.  That isn't a show stopper, but it would reduce the number of places in the code that it's necessary.  Otherwise, I am +1 on this.  Thanks, <a href=\"/john_regan/\" rel=\"nofollow\" title=\"@john_regan\" class=\"mention\">John  Regan</a> !</p>"
            },
            "user": {
                "username": "MatthewTurk",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "display_name": "Matt Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396/comments/27153434"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396/_/diff#comment-27153434"
                }
            },
            "created_on": "2016-11-21T22:55:26.913716+00:00",
            "updated_on": "2016-11-21T22:55:26.962878+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396"
                    }
                },
                "title": "Adding Virial validation from Bleuler & Tessier (2014)",
                "id": 2396
            },
            "type": "pullrequest_comment",
            "id": 27153434
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Why is this necessary? I think surf[\"pressure\"] will already have units attached. If a user has selected a non-CGS unit system, this will also (I think) force the units to be `dyne/cm**2` even if the numerical data aren't in that unit.",
                "html": "<p>Why is this necessary? I think surf[\"pressure\"] will already have units attached. If a user has selected a non-CGS unit system, this will also (I think) force the units to be <code>dyne/cm**2</code> even if the numerical data aren't in that unit.</p>"
            },
            "user": {
                "username": "ngoldbaum",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396/comments/27155949"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396/_/diff#comment-27155949"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/john_regan/ytclump:30ca4759e39b..27fd24ed75b8?path=yt%2Fanalysis_modules%2Flevel_sets%2Fvirial_validator.py"
                }
            },
            "created_on": "2016-11-22T00:06:26.856834+00:00",
            "updated_on": "2016-11-22T00:06:26.860670+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396"
                    }
                },
                "title": "Adding Virial validation from Bleuler & Tessier (2014)",
                "id": 2396
            },
            "inline": {
                "to": 63,
                "path": "yt/analysis_modules/level_sets/virial_validator.py",
                "from": null
            },
            "type": "pullrequest_comment",
            "id": 27155949
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "again, here, I think these two lines should be `clump.data.quantities.center_of_mass().in_units('code_length')`. The way you have it now, you're stripping the units and assuming that the center of mass will always be in `code_length` which i don't think is true.",
                "html": "<p>again, here, I think these two lines should be <code>clump.data.quantities.center_of_mass().in_units('code_length')</code>. The way you have it now, you're stripping the units and assuming that the center of mass will always be in <code>code_length</code> which i don't think is true.</p>"
            },
            "user": {
                "username": "ngoldbaum",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396/comments/27155988"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396/_/diff#comment-27155988"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/john_regan/ytclump:30ca4759e39b..27fd24ed75b8?path=yt%2Fanalysis_modules%2Flevel_sets%2Fvirial_validator.py"
                }
            },
            "created_on": "2016-11-22T00:08:01.740447+00:00",
            "updated_on": "2016-11-22T00:08:01.744175+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396"
                    }
                },
                "title": "Adding Virial validation from Bleuler & Tessier (2014)",
                "id": 2396
            },
            "inline": {
                "to": 31,
                "path": "yt/analysis_modules/level_sets/virial_validator.py",
                "from": null
            },
            "type": "pullrequest_comment",
            "id": 27155988
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "same issue here, convert to 'cm', don't assume the positions are in CGS.",
                "html": "<p>same issue here, convert to 'cm', don't assume the positions are in CGS.</p>"
            },
            "user": {
                "username": "ngoldbaum",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396/comments/27156017"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396/_/diff#comment-27156017"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/john_regan/ytclump:30ca4759e39b..27fd24ed75b8?path=yt%2Fanalysis_modules%2Flevel_sets%2Fvirial_validator.py"
                }
            },
            "created_on": "2016-11-22T00:09:11.607482+00:00",
            "updated_on": "2016-11-22T00:09:11.611966+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396"
                    }
                },
                "title": "Adding Virial validation from Bleuler & Tessier (2014)",
                "id": 2396
            },
            "inline": {
                "to": 93,
                "path": "yt/analysis_modules/level_sets/virial_validator.py",
                "from": null
            },
            "type": "pullrequest_comment",
            "id": 27156017
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "can you delete this commented out code?",
                "html": "<p>can you delete this commented out code?</p>"
            },
            "user": {
                "username": "ngoldbaum",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396/comments/27156024"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396/_/diff#comment-27156024"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/john_regan/ytclump:30ca4759e39b..27fd24ed75b8?path=yt%2Fdata_objects%2Fderived_quantities.py"
                }
            },
            "created_on": "2016-11-22T00:09:33.227028+00:00",
            "updated_on": "2016-11-22T00:09:33.232539+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396"
                    }
                },
                "title": "Adding Virial validation from Bleuler & Tessier (2014)",
                "id": 2396
            },
            "inline": {
                "to": 392,
                "path": "yt/data_objects/derived_quantities.py",
                "from": null
            },
            "type": "pullrequest_comment",
            "id": 27156024
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Can you add a new test for this to `yt/analysis_modules/level_sets/tests/test_clump_finding.py`?",
                "html": "<p>Can you add a new test for this to <code>yt/analysis_modules/level_sets/tests/test_clump_finding.py</code>?</p>"
            },
            "user": {
                "username": "ngoldbaum",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396/comments/27156062"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396/_/diff#comment-27156062"
                }
            },
            "created_on": "2016-11-22T00:11:10.858061+00:00",
            "updated_on": "2016-11-22T00:11:10.863951+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396"
                    }
                },
                "title": "Adding Virial validation from Bleuler & Tessier (2014)",
                "id": 2396
            },
            "type": "pullrequest_comment",
            "id": 27156062
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Hi @MatthewTurk, I think I tried to get the surface object to do the fluxes but couldn't get it to work. It's a few months ago now though so I can't remember exactly what the issue was. I'll update the issues that @ngoldbaum pointed out and re-submit the PR along with a test. ",
                "html": "<p>Hi <a href=\"/MatthewTurk/\" rel=\"nofollow\" title=\"@MatthewTurk\" class=\"mention\">Matt Turk</a>, I think I tried to get the surface object to do the fluxes but couldn't get it to work. It's a few months ago now though so I can't remember exactly what the issue was. I'll update the issues that <a href=\"/ngoldbaum/\" rel=\"nofollow\" title=\"@ngoldbaum\" class=\"mention\">Nathan Goldbaum</a> pointed out and re-submit the PR along with a test. </p>"
            },
            "user": {
                "username": "john_regan",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/john_regan"
                    },
                    "html": {
                        "href": "https://bitbucket.org/john_regan/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/john_regan/avatar/32/"
                    }
                },
                "display_name": "John  Regan",
                "uuid": "{170107e8-e39c-4d78-ac01-431331a34446}"
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396/comments/27153434"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396/_/diff#comment-27153434"
                    }
                },
                "id": 27153434
            },
            "created_on": "2016-11-22T21:20:20.511970+00:00",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396/comments/27227023"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396/_/diff#comment-27227023"
                }
            },
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396"
                    }
                },
                "title": "Adding Virial validation from Bleuler & Tessier (2014)",
                "id": 2396
            },
            "type": "pullrequest_comment",
            "id": 27227023,
            "updated_on": "2016-11-22T21:20:20.605048+00:00"
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "@ngoldbaum Just looking at this now. The problem was that the \"surf\" object returned unitless arrays. I then had to add units so that everything made sense when these values were used in construction of other derived quantities otherwise YT rightly complained about unit inconsistencies. ",
                "html": "<p><a href=\"/ngoldbaum/\" rel=\"nofollow\" title=\"@ngoldbaum\" class=\"mention\">Nathan Goldbaum</a> Just looking at this now. The problem was that the \"surf\" object returned unitless arrays. I then had to add units so that everything made sense when these values were used in construction of other derived quantities otherwise YT rightly complained about unit inconsistencies. </p>"
            },
            "user": {
                "username": "john_regan",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/john_regan"
                    },
                    "html": {
                        "href": "https://bitbucket.org/john_regan/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/john_regan/avatar/32/"
                    }
                },
                "display_name": "John  Regan",
                "uuid": "{170107e8-e39c-4d78-ac01-431331a34446}"
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396/comments/27155949"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396/_/diff#comment-27155949"
                    }
                },
                "id": 27155949
            },
            "created_on": "2016-12-01T17:13:55.481163+00:00",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396/comments/27694393"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396/_/diff#comment-27694393"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/john_regan/ytclump:30ca4759e39b..27fd24ed75b8?path=yt%2Fanalysis_modules%2Flevel_sets%2Fvirial_validator.py"
                }
            },
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396"
                    }
                },
                "title": "Adding Virial validation from Bleuler & Tessier (2014)",
                "id": 2396
            },
            "inline": {
                "to": null,
                "path": "yt/analysis_modules/level_sets/virial_validator.py",
                "from": null
            },
            "type": "pullrequest_comment",
            "id": 27694393,
            "updated_on": "2016-12-01T17:13:55.623205+00:00"
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "We should probably fix that then, let me see if I can reproduce it...",
                "html": "<p>We should probably fix that then, let me see if I can reproduce it...</p>"
            },
            "user": {
                "username": "ngoldbaum",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}"
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396/comments/27694393"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396/_/diff#comment-27694393"
                    }
                },
                "id": 27694393
            },
            "created_on": "2016-12-01T17:14:48.333915+00:00",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396/comments/27694445"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396/_/diff#comment-27694445"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/john_regan/ytclump:30ca4759e39b..27fd24ed75b8?path=yt%2Fanalysis_modules%2Flevel_sets%2Fvirial_validator.py"
                }
            },
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396"
                    }
                },
                "title": "Adding Virial validation from Bleuler & Tessier (2014)",
                "id": 2396
            },
            "inline": {
                "to": null,
                "path": "yt/analysis_modules/level_sets/virial_validator.py",
                "from": null
            },
            "type": "pullrequest_comment",
            "id": 27694445,
            "updated_on": "2016-12-01T17:14:48.341747+00:00"
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Yeah fair enough. I can send you the script I use to test the code if you like?\n",
                "html": "<p>Yeah fair enough. I can send you the script I use to test the code if you like?</p>"
            },
            "user": {
                "username": "john_regan",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/john_regan"
                    },
                    "html": {
                        "href": "https://bitbucket.org/john_regan/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/john_regan/avatar/32/"
                    }
                },
                "display_name": "John  Regan",
                "uuid": "{170107e8-e39c-4d78-ac01-431331a34446}"
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396/comments/27694445"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396/_/diff#comment-27694445"
                    }
                },
                "id": 27694445
            },
            "created_on": "2016-12-01T17:16:05.819773+00:00",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396/comments/27694511"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396/_/diff#comment-27694511"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/john_regan/ytclump:30ca4759e39b..27fd24ed75b8?path=yt%2Fanalysis_modules%2Flevel_sets%2Fvirial_validator.py"
                }
            },
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396"
                    }
                },
                "title": "Adding Virial validation from Bleuler & Tessier (2014)",
                "id": 2396
            },
            "inline": {
                "to": null,
                "path": "yt/analysis_modules/level_sets/virial_validator.py",
                "from": null
            },
            "type": "pullrequest_comment",
            "id": 27694511,
            "updated_on": "2016-12-01T17:16:05.862461+00:00"
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "No worries, I was able to reproduce it pretty easily.",
                "html": "<p>No worries, I was able to reproduce it pretty easily.</p>"
            },
            "user": {
                "username": "ngoldbaum",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}"
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396/comments/27694511"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396/_/diff#comment-27694511"
                    }
                },
                "id": 27694511
            },
            "created_on": "2016-12-01T17:48:18.515359+00:00",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396/comments/27696447"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396/_/diff#comment-27696447"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/john_regan/ytclump:30ca4759e39b..27fd24ed75b8?path=yt%2Fanalysis_modules%2Flevel_sets%2Fvirial_validator.py"
                }
            },
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396"
                    }
                },
                "title": "Adding Virial validation from Bleuler & Tessier (2014)",
                "id": 2396
            },
            "inline": {
                "to": null,
                "path": "yt/analysis_modules/level_sets/virial_validator.py",
                "from": null
            },
            "type": "pullrequest_comment",
            "id": 27696447,
            "updated_on": "2016-12-01T17:48:18.521406+00:00"
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "OK, I think I've fixed the bug but testing in this part of the codebase is a little light, so I'm going to try to expand that and see if there are any other areas this breaks. PR incoming.",
                "html": "<p>OK, I think I've fixed the bug but testing in this part of the codebase is a little light, so I'm going to try to expand that and see if there are any other areas this breaks. PR incoming.</p>"
            },
            "user": {
                "username": "ngoldbaum",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}"
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396/comments/27696447"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396/_/diff#comment-27696447"
                    }
                },
                "id": 27696447
            },
            "created_on": "2016-12-01T18:27:34.022110+00:00",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396/comments/27698658"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396/_/diff#comment-27698658"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/john_regan/ytclump:30ca4759e39b..27fd24ed75b8?path=yt%2Fanalysis_modules%2Flevel_sets%2Fvirial_validator.py"
                }
            },
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2396"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2396"
                    }
                },
                "title": "Adding Virial validation from Bleuler & Tessier (2014)",
                "id": 2396
            },
            "inline": {
                "to": null,
                "path": "yt/analysis_modules/level_sets/virial_validator.py",
                "from": null
            },
            "type": "pullrequest_comment",
            "id": 27698658,
            "updated_on": "2016-12-01T18:27:34.025506+00:00"
        }
    ],
    "reason": "yt has migrated to GitHub.\r\n\r\nIf you\u2019d like to continue work on this pull request, please see the instructions Matt Turk has put together for migrating pull requests to GitHub:\r\n\r\nhttps://github.com/yt-project/bb-migration/issues/7#issuecomment-296304236\r\n\r\nIf you need help or advice you can contact us on the yt mailing lists, slack, or IRC.",
    "type": "pullrequest",
    "close_source_branch": false,
    "state": "DECLINED",
    "description": "Adding a virial validation check onto the clump finder. This should augment the current the gravitationally bound check. ",
    "author": {
        "username": "john_regan",
        "type": "user",
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/john_regan"
            },
            "html": {
                "href": "https://bitbucket.org/john_regan/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/john_regan/avatar/32/"
            }
        },
        "display_name": "John  Regan",
        "uuid": "{170107e8-e39c-4d78-ac01-431331a34446}"
    },
    "updated_on": "2017-05-01T14:36:51.442002+00:00",
    "destination": {
        "repository": {
            "full_name": "yt_analysis/yt",
            "uuid": "{b73cb37c-40f2-493a-aaa9-41bc8d8974cc}",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/yt_analysis/yt/avatar/32/"
                }
            },
            "name": "yt"
        },
        "commit": {
            "hash": "27fd24ed75b8",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/27fd24ed75b8"
                }
            }
        },
        "branch": {
            "name": "yt"
        }
    }
}