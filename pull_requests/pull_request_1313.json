{
    "links": {
        "decline": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1313/decline"
        },
        "approve": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1313/approve"
        },
        "html": {
            "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1313"
        },
        "activity": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1313/activity"
        },
        "self": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1313"
        },
        "commits": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1313/commits"
        },
        "merge": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1313/merge"
        },
        "statuses": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1313/statuses"
        },
        "comments": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1313/comments"
        },
        "diff": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1313/diff"
        }
    },
    "task_count": 0,
    "source": {
        "repository": {
            "full_name": "chummels/yt",
            "uuid": "{cc72b7fe-3d37-4cd2-a367-f2de113a2e82}",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/chummels/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/chummels/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/chummels/yt/avatar/32/"
                }
            },
            "name": "yt"
        },
        "commit": {
            "hash": "3cb481980d11",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/chummels/yt/commit/3cb481980d11"
                }
            }
        },
        "branch": {
            "name": "yt"
        }
    },
    "closed_by": {
        "username": "MatthewTurk",
        "type": "user",
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
            },
            "html": {
                "href": "https://bitbucket.org/MatthewTurk/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
            }
        },
        "display_name": "Matt Turk",
        "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}"
    },
    "title": "Fixes warnings with `divide by zero` in some projections",
    "id": 1313,
    "comment_count": 8,
    "created_on": "2014-11-21T02:51:13.300225+00:00",
    "merge_commit": {
        "hash": "340a245199ef",
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/340a245199ef"
            }
        }
    },
    "comments": [
        {
            "content": {
                "markup": "markdown",
                "raw": "Another way to do this is to only fill in `nvals` where `nwbals[:, None]` is not zero.  I don't think it matters much either way and in the end suppressing the error is probably faster since you don't need to generate or use indexing.",
                "html": "<p>Another way to do this is to only fill in <code>nvals</code> where <code>nwbals[:, None]</code> is not zero.  I don't think it matters much either way and in the end suppressing the error is probably faster since you don't need to generate or use indexing.</p>"
            },
            "user": {
                "username": "ngoldbaum",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1313/comments/3976652"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1313/_/diff#comment-3976652"
                }
            },
            "created_on": "2014-11-21T02:55:29.498202+00:00",
            "updated_on": "2014-11-21T02:55:29.508690+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1313"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1313"
                    }
                },
                "title": "Fixes warnings with `divide by zero` in some projections",
                "id": 1313
            },
            "type": "pullrequest_comment",
            "id": 3976652
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Something went wrong, you should checkout http://tests.yt-project.org/job/py2.7-yt-3.0_testing/1670/",
                "html": "<p>Something went wrong, you should checkout <a href=\"http://tests.yt-project.org/job/py2.7-yt-3.0_testing/1670/\" rel=\"nofollow\">http://tests.yt-project.org/job/py2.7-yt-3.0_testing/1670/</a></p>"
            },
            "user": {
                "username": "yt-fido",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1313/comments/3981768"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1313/_/diff#comment-3981768"
                }
            },
            "created_on": "2014-11-21T11:44:48.033582+00:00",
            "updated_on": "2014-11-21T11:44:48.288592+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1313"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1313"
                    }
                },
                "title": "Fixes warnings with `divide by zero` in some projections",
                "id": 1313
            },
            "type": "pullrequest_comment",
            "id": 3981768
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "I'm having a hard time finding out what actually failed in the nosetests.  When I click on the link, it shows there were some answer tests that failed, but no details about *what* actually went awry.  Perhaps setting Nans to zero isn't the best solution for the final image, but it seems better than just leaving them as nans (and didn't give me qualitative difference when I looked at the final image on a few different enzo datasets).",
                "html": "<p>I'm having a hard time finding out what actually failed in the nosetests.  When I click on the link, it shows there were some answer tests that failed, but no details about <em>what</em> actually went awry.  Perhaps setting Nans to zero isn't the best solution for the final image, but it seems better than just leaving them as nans (and didn't give me qualitative difference when I looked at the final image on a few different enzo datasets).</p>"
            },
            "user": {
                "username": "chummels",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/chummels"
                    },
                    "html": {
                        "href": "https://bitbucket.org/chummels/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/chummels/avatar/32/"
                    }
                },
                "display_name": "chummels",
                "uuid": "{de871bb8-32e9-450a-b8c9-2b49a1334f16}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1313/comments/3986587"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1313/_/diff#comment-3986587"
                }
            },
            "created_on": "2014-11-21T16:13:40.159635+00:00",
            "updated_on": "2014-11-21T16:13:40.175245+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1313"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1313"
                    }
                },
                "title": "Fixes warnings with `divide by zero` in some projections",
                "id": 1313
            },
            "type": "pullrequest_comment",
            "id": 3986587
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Can you try removing line 326 and seeing if the errors go away?  I think we should leave them as NaNs to preserve answers.",
                "html": "<p>Can you try removing line 326 and seeing if the errors go away?  I think we should leave them as NaNs to preserve answers.</p>"
            },
            "user": {
                "username": "ngoldbaum",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}"
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1313/comments/3986587"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1313/_/diff#comment-3986587"
                    }
                },
                "id": 3986587
            },
            "created_on": "2014-11-21T17:53:45.698487+00:00",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1313/comments/3988388"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1313/_/diff#comment-3988388"
                }
            },
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1313"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1313"
                    }
                },
                "title": "Fixes warnings with `divide by zero` in some projections",
                "id": 1313
            },
            "type": "pullrequest_comment",
            "id": 3988388,
            "updated_on": "2014-11-21T17:53:45.710737+00:00"
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "I can give that a shot--the problem is that there are other errors that pop up after that spot when you send around image files with NaNs in them.\n\nOne can see an example of this in the very same docs notebook referenced in the issue above:\n\nhttp://yt-project.org/docs/dev/analyzing/filtering.html\n\ne.g.:\n\n\n```\n#!python\n\n/home/xarth/yt-x86_64/lib/python2.7/site-packages/matplotlib-1.4.0-py2.7-linux-x86_64.egg/matplotlib/colors.py:993: RuntimeWarning: invalid value encountered in less_equal\n  mask |= resdat <= 0\n\n```\n\nThis error goes away when I switch the NaNs to zeros, but then the question remains:  Do we want to pass around images with NaNs in certain coordinates and preserve backwards compatibility (of a potential error?) but still give errors in later processing steps, or just switch NaNs to zeros, which breaks backwards compatibility but might be the more accurate thing?  To be honest, I'm not really sure the best solution here.  ",
                "html": "<p>I can give that a shot--the problem is that there are other errors that pop up after that spot when you send around image files with NaNs in them.</p>\n<p>One can see an example of this in the very same docs notebook referenced in the issue above:</p>\n<p><a href=\"http://yt-project.org/docs/dev/analyzing/filtering.html\" rel=\"nofollow\">http://yt-project.org/docs/dev/analyzing/filtering.html</a></p>\n<p>e.g.:</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">xarth</span><span class=\"o\">/</span><span class=\"n\">yt</span><span class=\"o\">-</span><span class=\"n\">x86_64</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"o\">/</span><span class=\"n\">python2</span><span class=\"o\">.</span><span class=\"mi\">7</span><span class=\"o\">/</span><span class=\"n\">site</span><span class=\"o\">-</span><span class=\"n\">packages</span><span class=\"o\">/</span><span class=\"n\">matplotlib</span><span class=\"o\">-</span><span class=\"mf\">1.4</span><span class=\"o\">.</span><span class=\"mi\">0</span><span class=\"o\">-</span><span class=\"n\">py2</span><span class=\"o\">.</span><span class=\"mi\">7</span><span class=\"o\">-</span><span class=\"n\">linux</span><span class=\"o\">-</span><span class=\"n\">x86_64</span><span class=\"o\">.</span><span class=\"n\">egg</span><span class=\"o\">/</span><span class=\"n\">matplotlib</span><span class=\"o\">/</span><span class=\"n\">colors</span><span class=\"o\">.</span><span class=\"n\">py</span><span class=\"p\">:</span><span class=\"mi\">993</span><span class=\"p\">:</span> <span class=\"ne\">RuntimeWarning</span><span class=\"p\">:</span> <span class=\"n\">invalid</span> <span class=\"n\">value</span> <span class=\"n\">encountered</span> <span class=\"ow\">in</span> <span class=\"n\">less_equal</span>\n  <span class=\"n\">mask</span> <span class=\"o\">|=</span> <span class=\"n\">resdat</span> <span class=\"o\">&lt;=</span> <span class=\"mi\">0</span>\n</pre></div>\n\n\n<p>This error goes away when I switch the NaNs to zeros, but then the question remains:  Do we want to pass around images with NaNs in certain coordinates and preserve backwards compatibility (of a potential error?) but still give errors in later processing steps, or just switch NaNs to zeros, which breaks backwards compatibility but might be the more accurate thing?  To be honest, I'm not really sure the best solution here.  </p>"
            },
            "user": {
                "username": "chummels",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/chummels"
                    },
                    "html": {
                        "href": "https://bitbucket.org/chummels/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/chummels/avatar/32/"
                    }
                },
                "display_name": "chummels",
                "uuid": "{de871bb8-32e9-450a-b8c9-2b49a1334f16}"
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1313/comments/3988388"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1313/_/diff#comment-3988388"
                    }
                },
                "id": 3988388
            },
            "created_on": "2014-11-21T18:51:07.690862+00:00",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1313/comments/3989140"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1313/_/diff#comment-3989140"
                }
            },
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1313"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1313"
                    }
                },
                "title": "Fixes warnings with `divide by zero` in some projections",
                "id": 1313
            },
            "type": "pullrequest_comment",
            "id": 3989140,
            "updated_on": "2014-11-21T18:51:26.564524+00:00"
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Well, if we did change the answers, we'd get different plots if we tried to use linear scaling. Matplotlib masks out NaNs in all plots, which is the main reason we use NaNs instead of zero. Using NaN is also more correct, the answer *is* undefined at that point. I'm -1 on changing our answers here.\n\nThat said, I'm +0 on suppressing the divide-be-zero error in yt as is done in this pull request.  Unfortunately, the additional warning you just pasted comes from matplotlib, and we don't really have any control over how they report NaNs to the user.  We *could* wrap all our calls to matplotlib in similar code to handle warnings about bad values, but I don't think it makes sense to be so heavy-handed.  I also think it's not such a big deal for warnings to pop up from some operations.\n\nIf we're worried about warnings showing up in the docs build, Kacper can suppress them in the maplotlib or numpy configuration on the build machine. FWIW, while these warnings show up in scary red, they're not actually a problem for anything.  For a long time, yt globally suppressed warnings from numpy in the startup tasks, but that was removed in yt-3.0 in the interest of eliminating import side-effects.  The cost of that choice is seeing these sorts of warnings pop up sometimes.",
                "html": "<p>Well, if we did change the answers, we'd get different plots if we tried to use linear scaling. Matplotlib masks out NaNs in all plots, which is the main reason we use NaNs instead of zero. Using NaN is also more correct, the answer <em>is</em> undefined at that point. I'm -1 on changing our answers here.</p>\n<p>That said, I'm +0 on suppressing the divide-be-zero error in yt as is done in this pull request.  Unfortunately, the additional warning you just pasted comes from matplotlib, and we don't really have any control over how they report NaNs to the user.  We <em>could</em> wrap all our calls to matplotlib in similar code to handle warnings about bad values, but I don't think it makes sense to be so heavy-handed.  I also think it's not such a big deal for warnings to pop up from some operations.</p>\n<p>If we're worried about warnings showing up in the docs build, Kacper can suppress them in the maplotlib or numpy configuration on the build machine. FWIW, while these warnings show up in scary red, they're not actually a problem for anything.  For a long time, yt globally suppressed warnings from numpy in the startup tasks, but that was removed in yt-3.0 in the interest of eliminating import side-effects.  The cost of that choice is seeing these sorts of warnings pop up sometimes.</p>"
            },
            "user": {
                "username": "ngoldbaum",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}"
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1313/comments/3989140"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1313/_/diff#comment-3989140"
                    }
                },
                "id": 3989140
            },
            "created_on": "2014-11-21T19:10:29.476802+00:00",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1313/comments/3989422"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1313/_/diff#comment-3989422"
                }
            },
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1313"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1313"
                    }
                },
                "title": "Fixes warnings with `divide by zero` in some projections",
                "id": 1313
            },
            "type": "pullrequest_comment",
            "id": 3989422,
            "updated_on": "2014-11-21T19:10:29.487413+00:00"
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "I agree with you on this.  I'm fine with leaving as NaNs in the image frame because as you say, things are not defined there.  I'll just remove that line which converts NaNs to zeros and be done with it.",
                "html": "<p>I agree with you on this.  I'm fine with leaving as NaNs in the image frame because as you say, things are not defined there.  I'll just remove that line which converts NaNs to zeros and be done with it.</p>"
            },
            "user": {
                "username": "chummels",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/chummels"
                    },
                    "html": {
                        "href": "https://bitbucket.org/chummels/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/chummels/avatar/32/"
                    }
                },
                "display_name": "chummels",
                "uuid": "{de871bb8-32e9-450a-b8c9-2b49a1334f16}"
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1313/comments/3989422"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1313/_/diff#comment-3989422"
                    }
                },
                "id": 3989422
            },
            "created_on": "2014-11-21T21:08:59.647075+00:00",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1313/comments/3990938"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1313/_/diff#comment-3990938"
                }
            },
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1313"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1313"
                    }
                },
                "title": "Fixes warnings with `divide by zero` in some projections",
                "id": 1313
            },
            "type": "pullrequest_comment",
            "id": 3990938,
            "updated_on": "2014-11-21T21:08:59.655608+00:00"
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "All tests pass. Good job!",
                "html": "<p>All tests pass. Good job!</p>"
            },
            "user": {
                "username": "yt-fido",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1313/comments/3992841"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1313/_/diff#comment-3992841"
                }
            },
            "created_on": "2014-11-22T01:21:15.003585+00:00",
            "updated_on": "2014-11-22T01:21:15.235432+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1313"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1313"
                    }
                },
                "title": "Fixes warnings with `divide by zero` in some projections",
                "id": 1313
            },
            "type": "pullrequest_comment",
            "id": 3992841
        }
    ],
    "reason": "",
    "type": "pullrequest",
    "close_source_branch": false,
    "state": "MERGED",
    "description": "This addresses Issue #940 in two ways.  It temporarily silences errors associated with dividing by zero when you have zeros in your weight field for a weighted projection.  Then it converts the resulting NaNs back to zeros so as to not set off any further problems down the road.\r\n\r\nThis succeeds in not generating the errors described in the issue, and it passes the nosetests on my machine.\r\n\r\nNormally I'm not in favor of just silencing warnings, but these div by zero warnings aren't actually helping us since the problematic nans are masked out anyway.  And sometimes there *are* zeros in the weight field and we cannot do anything about it, short of masking the data before the division call.\r\n\r\nUPDATE1: I removed the subsequent NaN to zero conversion in the projected image array, since it is not strictly accurate (these locations are not zero, they're not defined), and to keep new data comparable to old data in answer tests.\r\n\r\nAdditionally, I added one other \"div by zero\" suppression line, which occurs when making projections of particle data in the same manner.  An example of this error can be found under the \"Filtering Particle Fields\" notebook in the docs here:\r\n\r\nhttp://yt-project.org/docs/dev/analyzing/filtering.html#filtering-particle-fields",
    "author": {
        "username": "chummels",
        "type": "user",
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/chummels"
            },
            "html": {
                "href": "https://bitbucket.org/chummels/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/chummels/avatar/32/"
            }
        },
        "display_name": "chummels",
        "uuid": "{de871bb8-32e9-450a-b8c9-2b49a1334f16}"
    },
    "updated_on": "2014-11-22T02:18:13.083296+00:00",
    "destination": {
        "repository": {
            "full_name": "yt_analysis/yt",
            "uuid": "{b73cb37c-40f2-493a-aaa9-41bc8d8974cc}",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/yt_analysis/yt/avatar/32/"
                }
            },
            "name": "yt"
        },
        "commit": {
            "hash": "b07a33287102",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/b07a33287102"
                }
            }
        },
        "branch": {
            "name": "yt"
        }
    }
}