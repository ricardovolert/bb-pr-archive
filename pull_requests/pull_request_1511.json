{
    "reason": "",
    "state": "MERGED",
    "updated_on": "2015-03-18T21:35:58.772985+00:00",
    "comment_count": 4,
    "description": "Attempting to address this bug report:\r\n\r\nhttps://bitbucket.org/yt_analysis/yt/issue/1000/gadget-non-cosmological-dscurrent_time-has\r\n\r\nFor non-cosmological runs (where current_time is the time elapsed in the simulation) the units were 'code_time' but the values were in 'seconds'.  So, removing the \r\n\r\n>* sec_conversion[\"Gyr\"]\r\n\r\nkeeps the units in code time.  ",
    "created_on": "2015-03-17T14:08:01.138856+00:00",
    "task_count": 0,
    "merge_commit": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/520ab80c185c"
            }
        },
        "hash": "520ab80c185c"
    },
    "title": "Bug fix in the units of ds.current_time for non-cosmological gadgetruns",
    "links": {
        "diff": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1511/diff"
        },
        "decline": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1511/decline"
        },
        "self": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1511"
        },
        "activity": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1511/activity"
        },
        "merge": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1511/merge"
        },
        "commits": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1511/commits"
        },
        "statuses": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1511/statuses"
        },
        "approve": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1511/approve"
        },
        "html": {
            "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1511"
        },
        "comments": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1511/comments"
        }
    },
    "closed_by": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
            },
            "html": {
                "href": "https://bitbucket.org/ngoldbaum/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "Nathan Goldbaum",
        "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
        "username": "ngoldbaum"
    },
    "id": 1511,
    "type": "pullrequest",
    "author": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/desika"
            },
            "html": {
                "href": "https://bitbucket.org/desika/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/desika/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "Desika Narayanan",
        "uuid": "{2978bde9-cd78-434d-bd30-e00949173bb8}",
        "username": "desika"
    },
    "source": {
        "branch": {
            "name": "yt"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/desika/yt/commit/1df072fb5965"
                }
            },
            "hash": "1df072fb5965"
        },
        "repository": {
            "full_name": "desika/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/desika/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/desika/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/desika/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{81d64828-c170-4fec-bd9c-2f7010269203}"
        }
    },
    "close_source_branch": false,
    "destination": {
        "branch": {
            "name": "yt"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/641087235d71"
                }
            },
            "hash": "641087235d71"
        },
        "repository": {
            "full_name": "yt_analysis/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/yt_analysis/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{b73cb37c-40f2-493a-aaa9-41bc8d8974cc}"
        }
    },
    "comments": [
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1511/comments/5708813"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1511/_/diff#comment-5708813"
                }
            },
            "pullrequest": {
                "title": "Bug fix in the units of ds.current_time for non-cosmological gadgetruns",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1511"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1511"
                    }
                },
                "id": 1511
            },
            "content": {
                "raw": "All tests pass. Good job!",
                "html": "<p>All tests pass. Good job!</p>",
                "markup": "markdown"
            },
            "created_on": "2015-03-17T15:00:57.359511+00:00",
            "updated_on": "2015-03-17T15:00:57.438237+00:00",
            "id": 5708813
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1511/comments/5715024"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/desika/yt:1df072fb5965..641087235d71?path=yt%2Ffrontends%2Fgadget%2Fdata_structures.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1511/_/diff#comment-5715024"
                }
            },
            "pullrequest": {
                "title": "Bug fix in the units of ds.current_time for non-cosmological gadgetruns",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1511"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1511"
                    }
                },
                "id": 1511
            },
            "content": {
                "raw": "Is this always seconds? Looking over Table 4 in the Gadget-2 user guide, it seems to imply that this is in internal time units.  Should this be multiplied by the internal time unit conversion?",
                "html": "<p>Is this always seconds? Looking over Table 4 in the Gadget-2 user guide, it seems to imply that this is in internal time units.  Should this be multiplied by the internal time unit conversion?</p>",
                "markup": "markdown"
            },
            "created_on": "2015-03-17T18:36:18.215506+00:00",
            "updated_on": "2015-03-17T18:36:18.223129+00:00",
            "inline": {
                "from": null,
                "path": "yt/frontends/gadget/data_structures.py",
                "to": 170
            },
            "id": 5715024
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/desika"
                    },
                    "html": {
                        "href": "https://bitbucket.org/desika/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/desika/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Desika Narayanan",
                "uuid": "{2978bde9-cd78-434d-bd30-e00949173bb8}",
                "username": "desika"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1511/comments/5715898"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/desika/yt:None..None?path=yt%2Ffrontends%2Fgadget%2Fdata_structures.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1511/_/diff#comment-5715898"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1511/comments/5715024"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1511/_/diff#comment-5715024"
                    }
                },
                "id": 5715024
            },
            "pullrequest": {
                "title": "Bug fix in the units of ds.current_time for non-cosmological gadgetruns",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1511"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1511"
                    }
                },
                "id": 1511
            },
            "content": {
                "raw": "Right, I think this is in internal time units.  So, with this PR, if I do:\n\n```\n\nIn [3]: ds.current_time\nOut[3]: 0.00999999046326 code_time\n\nIn [4]: ds.current_time.in_units('Gyr')\nOut[4]: 0.00977792055564 Gyr\n\nIn [5]: ds.time_unit\nOut[5]: 3.08568e+16 s\n\n```\n\nwhich appears to be code units to me.   Am I missing something obvious?\n\nedited to look prettier with code block!",
                "html": "<p>Right, I think this is in internal time units.  So, with this PR, if I do:</p>\n<div class=\"codehilite\"><pre><span></span>In [3]: ds.current_time\nOut[3]: 0.00999999046326 code_time\n\nIn [4]: ds.current_time.in_units(&#39;Gyr&#39;)\nOut[4]: 0.00977792055564 Gyr\n\nIn [5]: ds.time_unit\nOut[5]: 3.08568e+16 s\n</pre></div>\n\n\n<p>which appears to be code units to me.   Am I missing something obvious?</p>\n<p>edited to look prettier with code block!</p>",
                "markup": "markdown"
            },
            "created_on": "2015-03-17T19:10:52.247894+00:00",
            "updated_on": "2015-03-18T15:55:15.707344+00:00",
            "inline": {
                "from": null,
                "path": "yt/frontends/gadget/data_structures.py",
                "to": null
            },
            "id": 5715898
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1511/comments/5715924"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/desika/yt:None..None?path=yt%2Ffrontends%2Fgadget%2Fdata_structures.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1511/_/diff#comment-5715924"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1511/comments/5715898"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1511/_/diff#comment-5715898"
                    }
                },
                "id": 5715898
            },
            "pullrequest": {
                "title": "Bug fix in the units of ds.current_time for non-cosmological gadgetruns",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1511"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1511"
                    }
                },
                "id": 1511
            },
            "content": {
                "raw": "I see, the conversion to `code_time` happens elsewhere.  Cool!\n\nBy the way, if you want something to show up as a code block under markdown, you need to use backticks (`) instead of single quotes (').",
                "html": "<p>I see, the conversion to <code>code_time</code> happens elsewhere.  Cool!</p>\n<p>By the way, if you want something to show up as a code block under markdown, you need to use backticks (`) instead of single quotes (').</p>",
                "markup": "markdown"
            },
            "created_on": "2015-03-17T19:12:10.413454+00:00",
            "updated_on": "2015-03-17T19:12:10.419271+00:00",
            "inline": {
                "from": null,
                "path": "yt/frontends/gadget/data_structures.py",
                "to": null
            },
            "id": 5715924
        }
    ]
}