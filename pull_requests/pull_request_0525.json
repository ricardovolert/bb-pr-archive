{
    "reason": "",
    "state": "MERGED",
    "updated_on": "2013-07-01T14:01:27.282256+00:00",
    "comment_count": 15,
    "description": "This is a first pass at cythonizing the AMRKDTree build in an effort to speed it up.  Most of the utilities that were present in utilities/amr_kdtree/amr_kdtools.py have been ported over to utilities/lib/amr_kdtools.pyx.  \r\n\r\nI've achieved speedups in the build from anywhere between 8x and 50x depending on the hierarchy structure (deep ones are much faster). For example, I've seen 30s->0.7s, 80s->6.5s, and 0.7s->0.09 s.  \r\n\r\nThis passes all the unit tests, but if you have time @ejtasker I'd appreciate you testing this out.  You seem to find the corners that I've missed. \r\n\r\nUpdate 2: Updated to fix some memory leaks and a workaround for very deep trees in the should_i_build geometric splitting function.\r\n\r\nUpdate 3: Merging to resolve a conflict. ",
    "created_on": "2013-06-05T22:40:56.690412+00:00",
    "task_count": 0,
    "merge_commit": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/a5f16d327d7e"
            }
        },
        "hash": "a5f16d327d7e"
    },
    "title": "Cythonize the AMRKDTree build",
    "links": {
        "diff": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/525/diff"
        },
        "decline": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/525/decline"
        },
        "self": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/525"
        },
        "activity": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/525/activity"
        },
        "merge": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/525/merge"
        },
        "commits": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/525/commits"
        },
        "statuses": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/525/statuses"
        },
        "approve": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/525/approve"
        },
        "html": {
            "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/525"
        },
        "comments": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/525/comments"
        }
    },
    "closed_by": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
            },
            "html": {
                "href": "https://bitbucket.org/MatthewTurk/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "Matt Turk",
        "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
        "username": "MatthewTurk"
    },
    "id": 525,
    "type": "pullrequest",
    "author": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/samskillman"
            },
            "html": {
                "href": "https://bitbucket.org/samskillman/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/samskillman/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "Sam Skillman",
        "uuid": "{b03f9d96-1c52-4f21-bbdc-72f8e2a97a81}",
        "username": "samskillman"
    },
    "source": {
        "branch": {
            "name": "yt"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/samskillman/yt/commit/55ba8471e0c3"
                }
            },
            "hash": "55ba8471e0c3"
        },
        "repository": {
            "full_name": "samskillman/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/samskillman/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/samskillman/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/samskillman/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{f1df6f31-13ed-4d98-a11d-1954f1f1fdfa}"
        }
    },
    "close_source_branch": false,
    "destination": {
        "branch": {
            "name": "yt"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/62e723e2f60c"
                }
            },
            "hash": "62e723e2f60c"
        },
        "repository": {
            "full_name": "yt_analysis/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/yt_analysis/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{b73cb37c-40f2-493a-aaa9-41bc8d8974cc}"
        }
    },
    "comments": [
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/525/comments/294571"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/samskillman/yt:55ba8471e0c3..62e723e2f60c?path=yt%2Fdata_objects%2Ftests%2Ftest_streamlines.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/525/_/diff#comment-294571"
                }
            },
            "pullrequest": {
                "title": "Cythonize the AMRKDTree build",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/525"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/525"
                    }
                },
                "id": 525
            },
            "content": {
                "raw": "Whoops!  Looks like these got left in by mistake?",
                "html": "<p>Whoops!  Looks like these got left in by mistake?</p>",
                "markup": "markdown"
            },
            "created_on": "2013-06-06T13:51:40.009885+00:00",
            "updated_on": "2013-06-06T13:51:40.018721+00:00",
            "inline": {
                "from": null,
                "path": "yt/data_objects/tests/test_streamlines.py",
                "to": 16
            },
            "id": 294571
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/525/comments/294576"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/525/_/diff#comment-294576"
                }
            },
            "pullrequest": {
                "title": "Cythonize the AMRKDTree build",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/525"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/525"
                    }
                },
                "id": 525
            },
            "content": {
                "raw": "@samskillman and @ejtasker if you do find a hierarchy that typically exposes problems with the kD-tree, we can probably use the fake hierarchy stuff @scopatz put into `yt/testing.py` to build it in memory without any grids; this could then be used to test it with every iteration.\n\n",
                "html": "<p><a href=\"/samskillman/\" rel=\"nofollow\" title=\"@samskillman\" class=\"mention\">Sam Skillman</a> and <a href=\"/ejtasker/\" rel=\"nofollow\" title=\"@ejtasker\" class=\"mention\">Elizabeth  Tasker</a> if you do find a hierarchy that typically exposes problems with the kD-tree, we can probably use the fake hierarchy stuff <a href=\"/scopatz/\" rel=\"nofollow\" title=\"@scopatz\" class=\"mention\">Anthony Scopatz</a> put into <code>yt/testing.py</code> to build it in memory without any grids; this could then be used to test it with every iteration.</p>",
                "markup": "markdown"
            },
            "created_on": "2013-06-06T13:52:45.895825+00:00",
            "updated_on": "2013-06-06T13:52:45.922542+00:00",
            "id": 294576
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/525/comments/294634"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/samskillman/yt:97dd5cf35207..7d765411da34?path=yt%2Futilities%2Famr_kdtree%2Famr_kdtree.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/525/_/diff#comment-294634"
                }
            },
            "pullrequest": {
                "title": "Cythonize the AMRKDTree build",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/525"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/525"
                    }
                },
                "id": 525
            },
            "content": {
                "raw": "`int32` ?  I think this will cap us on our deepness, won't it?",
                "html": "<p><code>int32</code> ?  I think this will cap us on our deepness, won't it?</p>",
                "markup": "markdown"
            },
            "created_on": "2013-06-06T14:19:01.791122+00:00",
            "updated_on": "2013-06-06T14:19:01.799127+00:00",
            "inline": {
                "from": null,
                "path": "yt/utilities/amr_kdtree/amr_kdtree.py",
                "to": 129
            },
            "id": 294634
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/samskillman"
                    },
                    "html": {
                        "href": "https://bitbucket.org/samskillman/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/samskillman/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Sam Skillman",
                "uuid": "{b03f9d96-1c52-4f21-bbdc-72f8e2a97a81}",
                "username": "samskillman"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/525/comments/294647"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/samskillman/yt:None..None?path=yt%2Futilities%2Famr_kdtree%2Famr_kdtree.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/525/_/diff#comment-294647"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/525/comments/294634"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/525/_/diff#comment-294634"
                    }
                },
                "id": 294634
            },
            "pullrequest": {
                "title": "Cythonize the AMRKDTree build",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/525"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/525"
                    }
                },
                "id": 525
            },
            "content": {
                "raw": "This is a relative offset between node and grid edges so i think it'll be ok.",
                "html": "<p>This is a relative offset between node and grid edges so i think it'll be ok.</p>",
                "markup": "markdown"
            },
            "created_on": "2013-06-06T14:22:42.924165+00:00",
            "updated_on": "2013-06-06T14:22:42.938436+00:00",
            "inline": {
                "from": null,
                "path": "yt/utilities/amr_kdtree/amr_kdtree.py",
                "to": null
            },
            "id": 294647
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/525/comments/294649"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/samskillman/yt:None..None?path=yt%2Futilities%2Famr_kdtree%2Famr_kdtree.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/525/_/diff#comment-294649"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/525/comments/294634"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/525/_/diff#comment-294634"
                    }
                },
                "id": 294634
            },
            "pullrequest": {
                "title": "Cythonize the AMRKDTree build",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/525"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/525"
                    }
                },
                "id": 525
            },
            "content": {
                "raw": "I take it back, since we're subtracting from the grid left edge this is valid.",
                "html": "<p>I take it back, since we're subtracting from the grid left edge this is valid.</p>",
                "markup": "markdown"
            },
            "created_on": "2013-06-06T14:22:55.609814+00:00",
            "updated_on": "2013-06-06T14:22:55.619978+00:00",
            "inline": {
                "from": null,
                "path": "yt/utilities/amr_kdtree/amr_kdtree.py",
                "to": null
            },
            "id": 294649
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/525/comments/294664"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/samskillman/yt:97dd5cf35207..7d765411da34?path=yt%2Futilities%2Famr_kdtree%2Famr_kdtree.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/525/_/diff#comment-294664"
                }
            },
            "pullrequest": {
                "title": "Cythonize the AMRKDTree build",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/525"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/525"
                    }
                },
                "id": 525
            },
            "content": {
                "raw": "Would it be possible to have the inverse conditional up here?  One could imagine perhaps doing something like this:\n\n\n```\n#!python\nwhile True:\n    while owners[node.parent.node_id] != myrank:\n        send_to_parent(self.comm, owners[node.parent.node_id], image)\n    ...\n\n```\n\nOr am I missing some of the logic?\n",
                "html": "<p>Would it be possible to have the inverse conditional up here?  One could imagine perhaps doing something like this:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">while</span> <span class=\"bp\">True</span><span class=\"p\">:</span>\n    <span class=\"k\">while</span> <span class=\"n\">owners</span><span class=\"p\">[</span><span class=\"n\">node</span><span class=\"o\">.</span><span class=\"n\">parent</span><span class=\"o\">.</span><span class=\"n\">node_id</span><span class=\"p\">]</span> <span class=\"o\">!=</span> <span class=\"n\">myrank</span><span class=\"p\">:</span>\n        <span class=\"n\">send_to_parent</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">comm</span><span class=\"p\">,</span> <span class=\"n\">owners</span><span class=\"p\">[</span><span class=\"n\">node</span><span class=\"o\">.</span><span class=\"n\">parent</span><span class=\"o\">.</span><span class=\"n\">node_id</span><span class=\"p\">],</span> <span class=\"n\">image</span><span class=\"p\">)</span>\n    <span class=\"o\">...</span>\n</pre></div>\n\n\n<p>Or am I missing some of the logic?</p>",
                "markup": "markdown"
            },
            "created_on": "2013-06-06T14:26:21.306954+00:00",
            "updated_on": "2013-06-06T14:26:21.314900+00:00",
            "inline": {
                "from": 251,
                "path": "yt/utilities/amr_kdtree/amr_kdtree.py",
                "to": null
            },
            "id": 294664
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/525/comments/294673"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/samskillman/yt:55ba8471e0c3..62e723e2f60c?path=yt%2Futilities%2Flib%2F__init__.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/525/_/diff#comment-294673"
                }
            },
            "pullrequest": {
                "title": "Cythonize the AMRKDTree build",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/525"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/525"
                    }
                },
                "id": 525
            },
            "content": {
                "raw": "These lines were put in for compatibility with old code (and I have not been clear about this in the past) but maybe moving forward we can import explicitly from the sub-modules where they are needed and ditch the `from .whatever import *`.",
                "html": "<p>These lines were put in for compatibility with old code (and I have not been clear about this in the past) but maybe moving forward we can import explicitly from the sub-modules where they are needed and ditch the <code>from .whatever import *</code>.</p>",
                "markup": "markdown"
            },
            "created_on": "2013-06-06T14:29:12.296445+00:00",
            "updated_on": "2013-06-06T14:29:12.306037+00:00",
            "inline": {
                "from": null,
                "path": "yt/utilities/lib/__init__.py",
                "to": 43
            },
            "id": 294673
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/samskillman"
                    },
                    "html": {
                        "href": "https://bitbucket.org/samskillman/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/samskillman/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Sam Skillman",
                "uuid": "{b03f9d96-1c52-4f21-bbdc-72f8e2a97a81}",
                "username": "samskillman"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/525/comments/295115"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/525/_/diff#comment-295115"
                }
            },
            "pullrequest": {
                "title": "Cythonize the AMRKDTree build",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/525"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/525"
                    }
                },
                "id": 525
            },
            "content": {
                "raw": "Updated to address @MatthewTurk 's comments and found a nice use for a while-else clause. Also fixed the reduction of parallel perspective renderings. \n\nIt isn't that a specific hierarchy tends to expose problems. It's primarily that @ejtasker uses the AMRKDTree more directly than really anyone else to do cell walking. ",
                "html": "<p>Updated to address <a href=\"/MatthewTurk/\" rel=\"nofollow\" title=\"@MatthewTurk\" class=\"mention\">Matthew Turk</a> 's comments and found a nice use for a while-else clause. Also fixed the reduction of parallel perspective renderings. </p>\n<p>It isn't that a specific hierarchy tends to expose problems. It's primarily that <a href=\"/ejtasker/\" rel=\"nofollow\" title=\"@ejtasker\" class=\"mention\">Elizabeth  Tasker</a> uses the AMRKDTree more directly than really anyone else to do cell walking. </p>",
                "markup": "markdown"
            },
            "created_on": "2013-06-06T17:08:22.590169+00:00",
            "updated_on": "2013-06-06T17:08:22.614311+00:00",
            "id": 295115
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/525/comments/295215"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/samskillman/yt:e6acf09c0c9f..7d765411da34?path=yt%2Futilities%2Flib%2Famr_kdtools.pyx"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/525/_/diff#comment-295215"
                }
            },
            "pullrequest": {
                "title": "Cythonize the AMRKDTree build",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/525"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/525"
                    }
                },
                "id": 525
            },
            "content": {
                "raw": "What type of exception is this catching?  Looking at it, I think it should either check if `split` is NULL and if so, return nan, otherwise it should have a valid value to return.",
                "html": "<p>What type of exception is this catching?  Looking at it, I think it should either check if <code>split</code> is NULL and if so, return nan, otherwise it should have a valid value to return.</p>",
                "markup": "markdown"
            },
            "created_on": "2013-06-06T17:56:56.195085+00:00",
            "updated_on": "2013-06-06T17:56:56.203412+00:00",
            "inline": {
                "from": null,
                "path": "yt/utilities/lib/amr_kdtools.pyx",
                "to": 114
            },
            "id": 295215
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/525/comments/295217"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/samskillman/yt:e6acf09c0c9f..7d765411da34?path=yt%2Futilities%2Flib%2Famr_kdtools.pyx"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/525/_/diff#comment-295217"
                }
            },
            "pullrequest": {
                "title": "Cythonize the AMRKDTree build",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/525"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/525"
                    }
                },
                "id": 525
            },
            "content": {
                "raw": "Can these be `cdef inline` ?",
                "html": "<p>Can these be <code>cdef inline</code> ?</p>",
                "markup": "markdown"
            },
            "created_on": "2013-06-06T17:57:41.206403+00:00",
            "updated_on": "2013-06-06T17:57:41.216233+00:00",
            "inline": {
                "from": null,
                "path": "yt/utilities/lib/amr_kdtools.pyx",
                "to": 140
            },
            "id": 295217
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/525/comments/295248"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/samskillman/yt:e6acf09c0c9f..7d765411da34?path=yt%2Futilities%2Flib%2Famr_kdtools.pyx"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/525/_/diff#comment-295248"
                }
            },
            "pullrequest": {
                "title": "Cythonize the AMRKDTree build",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/525"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/525"
                    }
                },
                "id": 525
            },
            "content": {
                "raw": "This assert is probably expensive ...",
                "html": "<p>This assert is probably expensive ...</p>",
                "markup": "markdown"
            },
            "created_on": "2013-06-06T18:06:22.548048+00:00",
            "updated_on": "2013-06-06T18:06:22.559962+00:00",
            "inline": {
                "from": null,
                "path": "yt/utilities/lib/amr_kdtools.pyx",
                "to": 728
            },
            "id": 295248
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/525/comments/295252"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/525/_/diff#comment-295252"
                }
            },
            "pullrequest": {
                "title": "Cythonize the AMRKDTree build",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/525"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/525"
                    }
                },
                "id": 525
            },
            "content": {
                "raw": "Overall this looks good other than my comments in IRC and inline about checking that everything malloc'd gets free'd and changing \"cdef\" to \"cdef inline\" wherever possible.  Great work, Sam!",
                "html": "<p>Overall this looks good other than my comments in IRC and inline about checking that everything malloc'd gets free'd and changing \"cdef\" to \"cdef inline\" wherever possible.  Great work, Sam!</p>",
                "markup": "markdown"
            },
            "created_on": "2013-06-06T18:07:22.231209+00:00",
            "updated_on": "2013-06-06T18:07:22.239820+00:00",
            "id": 295252
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/samskillman"
                    },
                    "html": {
                        "href": "https://bitbucket.org/samskillman/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/samskillman/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Sam Skillman",
                "uuid": "{b03f9d96-1c52-4f21-bbdc-72f8e2a97a81}",
                "username": "samskillman"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/525/comments/295283"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/samskillman/yt:None..None?path=yt%2Futilities%2Flib%2Famr_kdtools.pyx"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/525/_/diff#comment-295283"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/525/comments/295215"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/525/_/diff#comment-295215"
                    }
                },
                "id": 295215
            },
            "pullrequest": {
                "title": "Cythonize the AMRKDTree build",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/525"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/525"
                    }
                },
                "id": 525
            },
            "content": {
                "raw": "oops, this was just plain duplicate left over from before i added the NULL check in the version a few lines up. nice catch.",
                "html": "<p>oops, this was just plain duplicate left over from before i added the NULL check in the version a few lines up. nice catch.</p>",
                "markup": "markdown"
            },
            "created_on": "2013-06-06T18:15:16.230837+00:00",
            "updated_on": "2013-06-06T18:15:16.239449+00:00",
            "inline": {
                "from": null,
                "path": "yt/utilities/lib/amr_kdtools.pyx",
                "to": null
            },
            "id": 295283
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/525/comments/346567"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/525/_/diff#comment-346567"
                }
            },
            "pullrequest": {
                "title": "Cythonize the AMRKDTree build",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/525"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/525"
                    }
                },
                "id": 525
            },
            "content": {
                "raw": "Any reason not to accept?",
                "html": "<p>Any reason not to accept?</p>",
                "markup": "markdown"
            },
            "created_on": "2013-06-29T21:08:25.245588+00:00",
            "updated_on": "2013-06-29T21:08:25.253535+00:00",
            "id": 346567
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/samskillman"
                    },
                    "html": {
                        "href": "https://bitbucket.org/samskillman/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/samskillman/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Sam Skillman",
                "uuid": "{b03f9d96-1c52-4f21-bbdc-72f8e2a97a81}",
                "username": "samskillman"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/525/comments/346571"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/525/_/diff#comment-346571"
                }
            },
            "pullrequest": {
                "title": "Cythonize the AMRKDTree build",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/525"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/525"
                    }
                },
                "id": 525
            },
            "content": {
                "raw": "Not that I can think of.",
                "html": "<p>Not that I can think of.</p>",
                "markup": "markdown"
            },
            "created_on": "2013-06-29T21:09:58.259379+00:00",
            "updated_on": "2013-06-29T21:09:58.270328+00:00",
            "id": 346571
        }
    ]
}