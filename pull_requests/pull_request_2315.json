{
    "links": {
        "decline": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315/decline"
        },
        "approve": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315/approve"
        },
        "html": {
            "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315"
        },
        "activity": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315/activity"
        },
        "self": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315"
        },
        "commits": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315/commits"
        },
        "merge": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315/merge"
        },
        "statuses": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315/statuses"
        },
        "comments": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315/comments"
        },
        "diff": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315/diff"
        }
    },
    "task_count": 0,
    "source": {
        "repository": {
            "full_name": "brittonsmith/yt",
            "uuid": "{a3a98ec1-6936-4db5-8667-658e17c1eaca}",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/brittonsmith/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/brittonsmith/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/brittonsmith/yt/avatar/32/"
                }
            },
            "name": "yt"
        },
        "commit": {
            "hash": "f92867811908",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/brittonsmith/yt/commit/f92867811908"
                }
            }
        },
        "branch": {
            "name": "yt"
        }
    },
    "closed_by": null,
    "title": "LightRay enhancements",
    "id": 2315,
    "comment_count": 27,
    "created_on": "2016-07-31T15:58:06.893660+00:00",
    "merge_commit": null,
    "comments": [
        {
            "content": {
                "markup": "markdown",
                "raw": "could you `assert` that later in the code?",
                "html": "<p>could you <code>assert</code> that later in the code?</p>"
            },
            "user": {
                "username": "xarthisius",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/xarthisius"
                    },
                    "html": {
                        "href": "https://bitbucket.org/xarthisius/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/xarthisius/avatar/32/"
                    }
                },
                "display_name": "Kacper Kowalik",
                "uuid": "{26af8f1d-35b3-46ce-9939-09915b06e31f}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315/comments/21716474"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315/_/diff#comment-21716474"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/brittonsmith/yt:6603b80f1bcb..bdc1201a3c1b?path=yt%2Fanalysis_modules%2Fcosmological_observation%2Fcosmology_splice.py"
                }
            },
            "created_on": "2016-07-31T18:00:20.604123+00:00",
            "updated_on": "2016-07-31T18:00:20.609139+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315"
                    }
                },
                "title": "LightRay enhancements",
                "id": 2315
            },
            "inline": {
                "to": 75,
                "path": "yt/analysis_modules/cosmological_observation/cosmology_splice.py",
                "from": null
            },
            "type": "pullrequest_comment",
            "id": 21716474
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "ping @stonnes @chummels if you could give this a look that would be very much appreciated.",
                "html": "<p>ping <a href=\"/stonnes/\" rel=\"nofollow\" title=\"@stonnes\" class=\"mention\">Stephanie Tonnesen</a> <a href=\"/chummels/\" rel=\"nofollow\" title=\"@chummels\" class=\"mention\">chummels</a> if you could give this a look that would be very much appreciated.</p>"
            },
            "user": {
                "username": "ngoldbaum",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315/comments/21875236"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315/_/diff#comment-21875236"
                }
            },
            "created_on": "2016-08-03T18:05:17.965734+00:00",
            "updated_on": "2016-08-03T18:05:18.013310+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315"
                    }
                },
                "title": "LightRay enhancements",
                "id": 2315
            },
            "type": "pullrequest_comment",
            "id": 21875236
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "I think the tests are failing because something is using unitary before it's added here...",
                "html": "<p>I think the tests are failing because something is using unitary before it's added here...</p>"
            },
            "user": {
                "username": "ngoldbaum",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315/comments/21875286"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315/_/diff#comment-21875286"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/brittonsmith/yt:f92867811908..9d20cd224c72?path=yt%2Ffrontends%2Fenzo%2Fsimulation_handling.py"
                }
            },
            "created_on": "2016-08-03T18:06:01.273395+00:00",
            "updated_on": "2016-08-03T18:06:01.280007+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315"
                    }
                },
                "title": "LightRay enhancements",
                "id": 2315
            },
            "inline": {
                "to": 114,
                "path": "yt/frontends/enzo/simulation_handling.py",
                "from": null
            },
            "type": "pullrequest_comment",
            "id": 21875286
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Yeah, I forgot to add unitary to `GadgetSimulation`.  That should be fixed now.",
                "html": "<p>Yeah, I forgot to add unitary to <code>GadgetSimulation</code>.  That should be fixed now.</p>"
            },
            "user": {
                "username": "brittonsmith",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/brittonsmith"
                    },
                    "html": {
                        "href": "https://bitbucket.org/brittonsmith/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/brittonsmith/avatar/32/"
                    }
                },
                "display_name": "Britton Smith",
                "uuid": "{94333901-a436-4c2c-8322-8d09e387eece}"
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315/comments/21875286"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315/_/diff#comment-21875286"
                    }
                },
                "id": 21875286
            },
            "created_on": "2016-08-04T12:20:17.695622+00:00",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315/comments/21915216"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315/_/diff#comment-21915216"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/brittonsmith/yt:None..None?path=yt%2Ffrontends%2Fenzo%2Fsimulation_handling.py"
                }
            },
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315"
                    }
                },
                "title": "LightRay enhancements",
                "id": 2315
            },
            "inline": {
                "to": null,
                "path": "yt/frontends/enzo/simulation_handling.py",
                "from": null
            },
            "type": "pullrequest_comment",
            "id": 21915216,
            "updated_on": "2016-08-04T12:20:17.700418+00:00"
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Hi all,\n\nThis is on my radar, but I am on vacation this week with spotty internet\nand no chunks of time for work.  Will look at it as soon as I am back in\naction next week (Tuesday).\n\nBest,\nStephanie\n\n--\nDr. Stephanie Tonnesen\nAlvin E. Nashman Postdoctoral Fellow\nCarnegie Observatories, Pasadena, CA\nstonnes@gmail.com",
                "html": "<p>Hi all,</p>\n<p>This is on my radar, but I am on vacation this week with spotty internet\nand no chunks of time for work.  Will look at it as soon as I am back in\naction next week (Tuesday).</p>\n<p>Best,\nStephanie</p>\n<p>--\nDr. Stephanie Tonnesen\nAlvin E. Nashman Postdoctoral Fellow\nCarnegie Observatories, Pasadena, CA\nstonnes@gmail.com</p>"
            },
            "user": {
                "username": "stonnes",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/stonnes"
                    },
                    "html": {
                        "href": "https://bitbucket.org/stonnes/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/stonnes/avatar/32/"
                    }
                },
                "display_name": "Stephanie Tonnesen",
                "uuid": "{345c76a3-0cd5-4b93-a237-16040f49966c}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315/comments/21925601"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315/_/diff#comment-21925601"
                }
            },
            "created_on": "2016-08-04T14:55:08.372938+00:00",
            "updated_on": "2016-08-04T14:55:08.422608+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315"
                    }
                },
                "title": "LightRay enhancements",
                "id": 2315
            },
            "type": "pullrequest_comment",
            "id": 21925601
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Maybe \"The size of the region...dataset to another, as a fraction of the total domain size.\"",
                "html": "<p>Maybe \"The size of the region...dataset to another, as a fraction of the total domain size.\"</p>"
            },
            "user": {
                "username": "chummels",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/chummels"
                    },
                    "html": {
                        "href": "https://bitbucket.org/chummels/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/chummels/avatar/32/"
                    }
                },
                "display_name": "chummels",
                "uuid": "{de871bb8-32e9-450a-b8c9-2b49a1334f16}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315/comments/21955072"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315/_/diff#comment-21955072"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/brittonsmith/yt:89f69a6a2cf4..1a9c9ab1575b?path=yt%2Fanalysis_modules%2Fcosmological_observation%2Fcosmology_splice.py"
                }
            },
            "created_on": "2016-08-05T05:29:07.228626+00:00",
            "updated_on": "2016-08-05T05:29:07.230981+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315"
                    }
                },
                "title": "LightRay enhancements",
                "id": 2315
            },
            "inline": {
                "to": 73,
                "path": "yt/analysis_modules/cosmological_observation/cosmology_splice.py",
                "from": null
            },
            "type": "pullrequest_comment",
            "id": 21955072
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Again...as a fraction of the total domain size....",
                "html": "<p>Again...as a fraction of the total domain size....</p>"
            },
            "user": {
                "username": "chummels",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/chummels"
                    },
                    "html": {
                        "href": "https://bitbucket.org/chummels/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/chummels/avatar/32/"
                    }
                },
                "display_name": "chummels",
                "uuid": "{de871bb8-32e9-450a-b8c9-2b49a1334f16}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315/comments/21955114"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315/_/diff#comment-21955114"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/brittonsmith/yt:89f69a6a2cf4..1a9c9ab1575b?path=yt%2Fanalysis_modules%2Fcosmological_observation%2Flight_ray%2Flight_ray.py"
                }
            },
            "created_on": "2016-08-05T05:30:43.349495+00:00",
            "updated_on": "2016-08-05T05:30:43.354705+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315"
                    }
                },
                "title": "LightRay enhancements",
                "id": 2315
            },
            "inline": {
                "to": 97,
                "path": "yt/analysis_modules/cosmological_observation/light_ray/light_ray.py",
                "from": null
            },
            "type": "pullrequest_comment",
            "id": 21955114
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Maybe I'm missing something, but `min_left` doesn't make sense to me as this kwarg's name.  Maybe `ray_min_level` instead?",
                "html": "<p>Maybe I'm missing something, but <code>min_left</code> doesn't make sense to me as this kwarg's name.  Maybe <code>ray_min_level</code> instead?</p>"
            },
            "user": {
                "username": "chummels",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/chummels"
                    },
                    "html": {
                        "href": "https://bitbucket.org/chummels/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/chummels/avatar/32/"
                    }
                },
                "display_name": "chummels",
                "uuid": "{de871bb8-32e9-450a-b8c9-2b49a1334f16}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315/comments/21955216"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315/_/diff#comment-21955216"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/brittonsmith/yt:89f69a6a2cf4..1a9c9ab1575b?path=yt%2Fanalysis_modules%2Fcosmological_observation%2Flight_ray%2Flight_ray.py"
                }
            },
            "created_on": "2016-08-05T05:36:08.918148+00:00",
            "updated_on": "2016-08-05T05:36:08.920065+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315"
                    }
                },
                "title": "LightRay enhancements",
                "id": 2315
            },
            "inline": {
                "to": 332,
                "path": "yt/analysis_modules/cosmological_observation/light_ray/light_ray.py",
                "from": null
            },
            "type": "pullrequest_comment",
            "id": 21955216
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Won't this cause problems if a user tries to use the loaded dataset subsequently, since its domain_left_edges are now modified to match the zoom region?  ",
                "html": "<p>Won't this cause problems if a user tries to use the loaded dataset subsequently, since its domain_left_edges are now modified to match the zoom region?  </p>"
            },
            "user": {
                "username": "chummels",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/chummels"
                    },
                    "html": {
                        "href": "https://bitbucket.org/chummels/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/chummels/avatar/32/"
                    }
                },
                "display_name": "chummels",
                "uuid": "{de871bb8-32e9-450a-b8c9-2b49a1334f16}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315/comments/21957695"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315/_/diff#comment-21957695"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/brittonsmith/yt:89f69a6a2cf4..1a9c9ab1575b?path=yt%2Fanalysis_modules%2Fcosmological_observation%2Flight_ray%2Flight_ray.py"
                }
            },
            "created_on": "2016-08-05T07:01:27.503636+00:00",
            "updated_on": "2016-08-05T07:01:27.508290+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315"
                    }
                },
                "title": "LightRay enhancements",
                "id": 2315
            },
            "inline": {
                "to": 422,
                "path": "yt/analysis_modules/cosmological_observation/light_ray/light_ray.py",
                "from": null
            },
            "type": "pullrequest_comment",
            "id": 21957695
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "I have tested this PR for a compound light ray with a single, continuous trajectory, and it works well.  Nice bug fix!!",
                "html": "<p>I have tested this PR for a compound light ray with a single, continuous trajectory, and it works well.  Nice bug fix!!</p>"
            },
            "user": {
                "username": "chummels",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/chummels"
                    },
                    "html": {
                        "href": "https://bitbucket.org/chummels/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/chummels/avatar/32/"
                    }
                },
                "display_name": "chummels",
                "uuid": "{de871bb8-32e9-450a-b8c9-2b49a1334f16}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315/comments/21957861"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315/_/diff#comment-21957861"
                }
            },
            "created_on": "2016-08-05T07:05:28.445069+00:00",
            "updated_on": "2016-08-05T07:05:28.447245+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315"
                    }
                },
                "title": "LightRay enhancements",
                "id": 2315
            },
            "type": "pullrequest_comment",
            "id": 21957861
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "I like the idea of the `LightRay` from only high-res regions in a zoom sim, but I'm a bit confused about how to use it.  It appears that in order to use this functionality, we have to know the size of the zoomed region and set that in the `LightRay` constructor, and then afterwards we'd just set the `left_edge`, and `right_edge` kwargs in `make_light_ray` to be the left/right edges of our zoom area and set the `periodic` kwarg to be False.  \n\nOr alternatively, it looks like in `make_light_ray` we could set the `periodic` kwarg to be False and set the `min_left` kwarg to be the level of refinement that the zoom region has?  Is that right?  But in that case, do we also have to know the size of the high-res portion to put into the `LightRay` constructor?  \n\nSorry I'm not getting it.  The docstrings are good, but perhaps an example of what needs to be done in order to use this functionality, as it isn't clear to me all of the kwargs that have to be set to make it work.",
                "html": "<p>I like the idea of the <code>LightRay</code> from only high-res regions in a zoom sim, but I'm a bit confused about how to use it.  It appears that in order to use this functionality, we have to know the size of the zoomed region and set that in the <code>LightRay</code> constructor, and then afterwards we'd just set the <code>left_edge</code>, and <code>right_edge</code> kwargs in <code>make_light_ray</code> to be the left/right edges of our zoom area and set the <code>periodic</code> kwarg to be False.  </p>\n<p>Or alternatively, it looks like in <code>make_light_ray</code> we could set the <code>periodic</code> kwarg to be False and set the <code>min_left</code> kwarg to be the level of refinement that the zoom region has?  Is that right?  But in that case, do we also have to know the size of the high-res portion to put into the <code>LightRay</code> constructor?  </p>\n<p>Sorry I'm not getting it.  The docstrings are good, but perhaps an example of what needs to be done in order to use this functionality, as it isn't clear to me all of the kwargs that have to be set to make it work.</p>"
            },
            "user": {
                "username": "chummels",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/chummels"
                    },
                    "html": {
                        "href": "https://bitbucket.org/chummels/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/chummels/avatar/32/"
                    }
                },
                "display_name": "chummels",
                "uuid": "{de871bb8-32e9-450a-b8c9-2b49a1334f16}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315/comments/21957973"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315/_/diff#comment-21957973"
                }
            },
            "created_on": "2016-08-05T07:08:34.614633+00:00",
            "updated_on": "2016-08-05T07:08:34.623587+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315"
                    }
                },
                "title": "LightRay enhancements",
                "id": 2315
            },
            "type": "pullrequest_comment",
            "id": 21957973
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Sorry, that's a typo.  It's supposed to be `min_level`.  Will change.",
                "html": "<p>Sorry, that's a typo.  It's supposed to be <code>min_level</code>.  Will change.</p>"
            },
            "user": {
                "username": "brittonsmith",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/brittonsmith"
                    },
                    "html": {
                        "href": "https://bitbucket.org/brittonsmith/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/brittonsmith/avatar/32/"
                    }
                },
                "display_name": "Britton Smith",
                "uuid": "{94333901-a436-4c2c-8322-8d09e387eece}"
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315/comments/21955216"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315/_/diff#comment-21955216"
                    }
                },
                "id": 21955216
            },
            "created_on": "2016-08-05T07:43:12.163227+00:00",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315/comments/21959486"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315/_/diff#comment-21959486"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/brittonsmith/yt:None..None?path=yt%2Fanalysis_modules%2Fcosmological_observation%2Flight_ray%2Flight_ray.py"
                }
            },
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315"
                    }
                },
                "title": "LightRay enhancements",
                "id": 2315
            },
            "inline": {
                "to": null,
                "path": "yt/analysis_modules/cosmological_observation/light_ray/light_ray.py",
                "from": null
            },
            "type": "pullrequest_comment",
            "id": 21959486,
            "updated_on": "2016-08-05T07:43:12.169326+00:00"
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "We're not modifying the domain boundaries, just using them to set the boundaries for the ray.  This shouldn't be a problem.",
                "html": "<p>We're not modifying the domain boundaries, just using them to set the boundaries for the ray.  This shouldn't be a problem.</p>"
            },
            "user": {
                "username": "brittonsmith",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/brittonsmith"
                    },
                    "html": {
                        "href": "https://bitbucket.org/brittonsmith/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/brittonsmith/avatar/32/"
                    }
                },
                "display_name": "Britton Smith",
                "uuid": "{94333901-a436-4c2c-8322-8d09e387eece}"
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315/comments/21957695"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315/_/diff#comment-21957695"
                    }
                },
                "id": 21957695
            },
            "created_on": "2016-08-05T07:45:03.173930+00:00",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315/comments/21959555"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315/_/diff#comment-21959555"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/brittonsmith/yt:None..None?path=yt%2Fanalysis_modules%2Fcosmological_observation%2Flight_ray%2Flight_ray.py"
                }
            },
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315"
                    }
                },
                "title": "LightRay enhancements",
                "id": 2315
            },
            "inline": {
                "to": null,
                "path": "yt/analysis_modules/cosmological_observation/light_ray/light_ray.py",
                "from": null
            },
            "type": "pullrequest_comment",
            "id": 21959555,
            "updated_on": "2016-08-05T07:45:03.176768+00:00"
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Yes, that's fair.  My intention was to provide better documentation eventually.\n\nTo use this, one alway has to first give the `high_res_size_box_fraction` when instantiating the `LightRay`.  For example, if the high resolution region is a quarter the size of the box:\n\n```\n#!python\n\nlr = LightRay(\"32Mpc_32.enzo\", \"Enzo\",\n                  near_redshift=0.0, far_redshift=0.1,\n                  max_box_fraction=0.25)\n```\n\nWhen calling `make_light_ray`, one has the option to specify the ray segment as being either periodic or non-periodic.  For periodic rays, the high resolution region is treated as having periodic boundary conditions.  This is clearly not explicitly correct, but handy for making compound rays when the high res region is rather small.  I refer you to @stonnes to provide support for this use case.  In this case, you would also specify the `left_edge` and `right_edge` parameters as well.\n\nFor non-periodic rays, you would set `periodic=False` and also specify `left_edge` and `right_edge`.  Ray segments will be generated within the region specified and rejected if their trajectory takes them outside the high resolution region.  The `min_level` keyword can be added to do a brute force check that the ray remains within a high resolution region.  The use-case for this is something like using Enzo's must refine particles for the high resolution region.  The region will morph and move slightly over time and so such a check would be needed to make sure the ray is truly in the high resolution region.\n\nI hope that makes things more clear.  I will update docs when I get the chance.",
                "html": "<p>Yes, that's fair.  My intention was to provide better documentation eventually.</p>\n<p>To use this, one alway has to first give the <code>high_res_size_box_fraction</code> when instantiating the <code>LightRay</code>.  For example, if the high resolution region is a quarter the size of the box:</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"n\">lr</span> <span class=\"o\">=</span> <span class=\"n\">LightRay</span><span class=\"p\">(</span><span class=\"s2\">&quot;32Mpc_32.enzo&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;Enzo&quot;</span><span class=\"p\">,</span>\n                  <span class=\"n\">near_redshift</span><span class=\"o\">=</span><span class=\"mf\">0.0</span><span class=\"p\">,</span> <span class=\"n\">far_redshift</span><span class=\"o\">=</span><span class=\"mf\">0.1</span><span class=\"p\">,</span>\n                  <span class=\"n\">max_box_fraction</span><span class=\"o\">=</span><span class=\"mf\">0.25</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>When calling <code>make_light_ray</code>, one has the option to specify the ray segment as being either periodic or non-periodic.  For periodic rays, the high resolution region is treated as having periodic boundary conditions.  This is clearly not explicitly correct, but handy for making compound rays when the high res region is rather small.  I refer you to <a href=\"/stonnes/\" rel=\"nofollow\" title=\"@stonnes\" class=\"mention\">Stephanie Tonnesen</a> to provide support for this use case.  In this case, you would also specify the <code>left_edge</code> and <code>right_edge</code> parameters as well.</p>\n<p>For non-periodic rays, you would set <code>periodic=False</code> and also specify <code>left_edge</code> and <code>right_edge</code>.  Ray segments will be generated within the region specified and rejected if their trajectory takes them outside the high resolution region.  The <code>min_level</code> keyword can be added to do a brute force check that the ray remains within a high resolution region.  The use-case for this is something like using Enzo's must refine particles for the high resolution region.  The region will morph and move slightly over time and so such a check would be needed to make sure the ray is truly in the high resolution region.</p>\n<p>I hope that makes things more clear.  I will update docs when I get the chance.</p>"
            },
            "user": {
                "username": "brittonsmith",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/brittonsmith"
                    },
                    "html": {
                        "href": "https://bitbucket.org/brittonsmith/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/brittonsmith/avatar/32/"
                    }
                },
                "display_name": "Britton Smith",
                "uuid": "{94333901-a436-4c2c-8322-8d09e387eece}"
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315/comments/21957973"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315/_/diff#comment-21957973"
                    }
                },
                "id": 21957973
            },
            "created_on": "2016-08-05T08:38:20.105530+00:00",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315/comments/21962184"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315/_/diff#comment-21962184"
                }
            },
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315"
                    }
                },
                "title": "LightRay enhancements",
                "id": 2315
            },
            "type": "pullrequest_comment",
            "id": 21962184,
            "updated_on": "2016-08-05T08:38:34.400519+00:00"
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "OK, this makes a lot more sense.  A few questions, though.  In your second case, when you are using the `min_level` keyword with something like Enzo's must refine particles, do we actually know what the `high_res_size_box_fraction` is a priori?  I thought the point of using MRPs was that it made the zoom region lagrangian, so it didn't have a fixed size.  But perhaps I'm getting this wrong.  Also, these non-periodic rays then would just be for \"simple\" rays, not for \"compound\" rays, right?\n\nAs for the first case, the periodic rays across the zoom region, I guess those are good for assuring your compound rays are always probing well-resolved structure, even if it is not correct to treat the zoom region as periodic.  This seems problematic for doing actual scientific studies because it breaks the rules of physics, but as long as the docs are clear on this (as you were in your description), then I think it's OK.\n\nThanks for the clearer explanation!  I'll test out the additional functionality today.",
                "html": "<p>OK, this makes a lot more sense.  A few questions, though.  In your second case, when you are using the <code>min_level</code> keyword with something like Enzo's must refine particles, do we actually know what the <code>high_res_size_box_fraction</code> is a priori?  I thought the point of using MRPs was that it made the zoom region lagrangian, so it didn't have a fixed size.  But perhaps I'm getting this wrong.  Also, these non-periodic rays then would just be for \"simple\" rays, not for \"compound\" rays, right?</p>\n<p>As for the first case, the periodic rays across the zoom region, I guess those are good for assuring your compound rays are always probing well-resolved structure, even if it is not correct to treat the zoom region as periodic.  This seems problematic for doing actual scientific studies because it breaks the rules of physics, but as long as the docs are clear on this (as you were in your description), then I think it's OK.</p>\n<p>Thanks for the clearer explanation!  I'll test out the additional functionality today.</p>"
            },
            "user": {
                "username": "chummels",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/chummels"
                    },
                    "html": {
                        "href": "https://bitbucket.org/chummels/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/chummels/avatar/32/"
                    }
                },
                "display_name": "chummels",
                "uuid": "{de871bb8-32e9-450a-b8c9-2b49a1334f16}"
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315/comments/21962184"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315/_/diff#comment-21962184"
                    }
                },
                "id": 21962184
            },
            "created_on": "2016-08-05T14:54:24.967207+00:00",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315/comments/21982410"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315/_/diff#comment-21982410"
                }
            },
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315"
                    }
                },
                "title": "LightRay enhancements",
                "id": 2315
            },
            "type": "pullrequest_comment",
            "id": 21982410,
            "updated_on": "2016-08-05T14:54:24.970075+00:00"
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Perhaps remove the commented out bit?",
                "html": "<p>Perhaps remove the commented out bit?</p>"
            },
            "user": {
                "username": "chummels",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/chummels"
                    },
                    "html": {
                        "href": "https://bitbucket.org/chummels/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/chummels/avatar/32/"
                    }
                },
                "display_name": "chummels",
                "uuid": "{de871bb8-32e9-450a-b8c9-2b49a1334f16}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315/comments/21982427"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315/_/diff#comment-21982427"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/brittonsmith/yt:ec69690314e2..1a9c9ab1575b?path=yt%2Fanalysis_modules%2Fcosmological_observation%2Fcosmology_splice.py"
                }
            },
            "created_on": "2016-08-05T14:54:38.525963+00:00",
            "updated_on": "2016-08-05T14:54:38.532410+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315"
                    }
                },
                "title": "LightRay enhancements",
                "id": 2315
            },
            "inline": {
                "to": 300,
                "path": "yt/analysis_modules/cosmological_observation/cosmology_splice.py",
                "from": null
            },
            "type": "pullrequest_comment",
            "id": 21982427
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "For MRPs, something like this would only work if you marked the entire high-res region as must-refine, something that I have done before.  In that case, you do know the size of the region a priori since it's just the size of the most refined grid.\n\nNon-periodic rays are still to be used with compound rays.  The point is that you are trying to make a ray segment that traverses the desired redshift interval and never leaves the high-res region.\n\nTreating a high-res region as periodic does not \"break the rules of physics\" any more than re-randomizing ray trajectories for each dataset that goes into a compound ray.  You are still just getting a statistical sample of absorbers along some line of sight through a dataset.",
                "html": "<p>For MRPs, something like this would only work if you marked the entire high-res region as must-refine, something that I have done before.  In that case, you do know the size of the region a priori since it's just the size of the most refined grid.</p>\n<p>Non-periodic rays are still to be used with compound rays.  The point is that you are trying to make a ray segment that traverses the desired redshift interval and never leaves the high-res region.</p>\n<p>Treating a high-res region as periodic does not \"break the rules of physics\" any more than re-randomizing ray trajectories for each dataset that goes into a compound ray.  You are still just getting a statistical sample of absorbers along some line of sight through a dataset.</p>"
            },
            "user": {
                "username": "brittonsmith",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/brittonsmith"
                    },
                    "html": {
                        "href": "https://bitbucket.org/brittonsmith/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/brittonsmith/avatar/32/"
                    }
                },
                "display_name": "Britton Smith",
                "uuid": "{94333901-a436-4c2c-8322-8d09e387eece}"
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315/comments/21982410"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315/_/diff#comment-21982410"
                    }
                },
                "id": 21982410
            },
            "created_on": "2016-08-07T08:28:41.445392+00:00",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315/comments/22009879"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315/_/diff#comment-22009879"
                }
            },
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315"
                    }
                },
                "title": "LightRay enhancements",
                "id": 2315
            },
            "type": "pullrequest_comment",
            "id": 22009879,
            "updated_on": "2016-08-07T08:28:41.454245+00:00"
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Ah yes, you are right about treating a high-res region as periodic, but it will just introduce more discontinuities into the light ray.  Thanks for the clarification on all points.\n\nIt looks like the machinery works well--I'd just say that before merging this should have some narrative docs, much like what you've provided in these comments.  Thanks again for adding this new functionality!",
                "html": "<p>Ah yes, you are right about treating a high-res region as periodic, but it will just introduce more discontinuities into the light ray.  Thanks for the clarification on all points.</p>\n<p>It looks like the machinery works well--I'd just say that before merging this should have some narrative docs, much like what you've provided in these comments.  Thanks again for adding this new functionality!</p>"
            },
            "user": {
                "username": "chummels",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/chummels"
                    },
                    "html": {
                        "href": "https://bitbucket.org/chummels/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/chummels/avatar/32/"
                    }
                },
                "display_name": "chummels",
                "uuid": "{de871bb8-32e9-450a-b8c9-2b49a1334f16}"
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315/comments/22009879"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315/_/diff#comment-22009879"
                    }
                },
                "id": 22009879
            },
            "created_on": "2016-08-08T15:51:52.854494+00:00",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315/comments/22053191"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315/_/diff#comment-22053191"
                }
            },
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315"
                    }
                },
                "title": "LightRay enhancements",
                "id": 2315
            },
            "type": "pullrequest_comment",
            "id": 22053191,
            "updated_on": "2016-08-08T15:51:52.859653+00:00"
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Narrative docs added.",
                "html": "<p>Narrative docs added.</p>"
            },
            "user": {
                "username": "brittonsmith",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/brittonsmith"
                    },
                    "html": {
                        "href": "https://bitbucket.org/brittonsmith/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/brittonsmith/avatar/32/"
                    }
                },
                "display_name": "Britton Smith",
                "uuid": "{94333901-a436-4c2c-8322-8d09e387eece}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315/comments/22349857"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315/_/diff#comment-22349857"
                }
            },
            "created_on": "2016-08-15T14:49:10.258495+00:00",
            "updated_on": "2016-08-15T14:49:10.260629+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315"
                    }
                },
                "title": "LightRay enhancements",
                "id": 2315
            },
            "type": "pullrequest_comment",
            "id": 22349857
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Docs were built for this PR. See https://tests.yt-project.org/job/yt_docs/1138/\nDocs build visible at https://tests.yt-project.org/job/yt_docs/1138/artifact/sandbox/doc/build/html/index.html",
                "html": "<p>Docs were built for this PR. See <a href=\"https://tests.yt-project.org/job/yt_docs/1138/\" rel=\"nofollow\">https://tests.yt-project.org/job/yt_docs/1138/</a>\nDocs build visible at <a href=\"https://tests.yt-project.org/job/yt_docs/1138/artifact/sandbox/doc/build/html/index.html\" rel=\"nofollow\">https://tests.yt-project.org/job/yt_docs/1138/artifact/sandbox/doc/build/html/index.html</a></p>"
            },
            "user": {
                "username": "yt-fido",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315/comments/22355708"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315/_/diff#comment-22355708"
                }
            },
            "created_on": "2016-08-15T16:30:33.147652+00:00",
            "updated_on": "2016-08-15T16:30:33.218622+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315"
                    }
                },
                "title": "LightRay enhancements",
                "id": 2315
            },
            "type": "pullrequest_comment",
            "id": 22355708
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Docs were built for this PR. See https://tests.yt-project.org/job/yt_docs/1139/\nDocs build visible at https://tests.yt-project.org/job/yt_docs/1139/artifact/sandbox/doc/build/html/index.html",
                "html": "<p>Docs were built for this PR. See <a href=\"https://tests.yt-project.org/job/yt_docs/1139/\" rel=\"nofollow\">https://tests.yt-project.org/job/yt_docs/1139/</a>\nDocs build visible at <a href=\"https://tests.yt-project.org/job/yt_docs/1139/artifact/sandbox/doc/build/html/index.html\" rel=\"nofollow\">https://tests.yt-project.org/job/yt_docs/1139/artifact/sandbox/doc/build/html/index.html</a></p>"
            },
            "user": {
                "username": "yt-fido",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315/comments/22359567"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315/_/diff#comment-22359567"
                }
            },
            "created_on": "2016-08-15T17:56:44.392904+00:00",
            "updated_on": "2016-08-15T17:56:44.450300+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315"
                    }
                },
                "title": "LightRay enhancements",
                "id": 2315
            },
            "type": "pullrequest_comment",
            "id": 22359567
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "To reviewers, [here](https://tests.yt-project.org/job/yt_docs/1139/artifact/sandbox/doc/build/html/analyzing/analysis_modules/light_ray_generator.html) is the relevant section.",
                "html": "<p>To reviewers, <a href=\"https://tests.yt-project.org/job/yt_docs/1139/artifact/sandbox/doc/build/html/analyzing/analysis_modules/light_ray_generator.html\">here</a> is the relevant section.</p>"
            },
            "user": {
                "username": "brittonsmith",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/brittonsmith"
                    },
                    "html": {
                        "href": "https://bitbucket.org/brittonsmith/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/brittonsmith/avatar/32/"
                    }
                },
                "display_name": "Britton Smith",
                "uuid": "{94333901-a436-4c2c-8322-8d09e387eece}"
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315/comments/22359567"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315/_/diff#comment-22359567"
                    }
                },
                "id": 22359567
            },
            "created_on": "2016-08-16T11:30:20.559665+00:00",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315/comments/22395451"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315/_/diff#comment-22395451"
                }
            },
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315"
                    }
                },
                "title": "LightRay enhancements",
                "id": 2315
            },
            "type": "pullrequest_comment",
            "id": 22395451,
            "updated_on": "2016-08-16T11:30:20.563290+00:00"
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "\"takes into account\"",
                "html": "<p>\"takes into account\"</p>"
            },
            "user": {
                "username": "chummels",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/chummels"
                    },
                    "html": {
                        "href": "https://bitbucket.org/chummels/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/chummels/avatar/32/"
                    }
                },
                "display_name": "chummels",
                "uuid": "{de871bb8-32e9-450a-b8c9-2b49a1334f16}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315/comments/22411452"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315/_/diff#comment-22411452"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/brittonsmith/yt:25bc094aa3fd..56c0b53b459c?path=doc%2Fsource%2Fanalyzing%2Fanalysis_modules%2Flight_ray_generator.rst"
                }
            },
            "created_on": "2016-08-16T15:14:27.738733+00:00",
            "updated_on": "2016-08-16T15:14:27.747381+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315"
                    }
                },
                "title": "LightRay enhancements",
                "id": 2315
            },
            "inline": {
                "to": 186,
                "path": "doc/source/analyzing/analysis_modules/light_ray_generator.rst",
                "from": null
            },
            "type": "pullrequest_comment",
            "id": 22411452
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Other than the one typo, this looks great.  Thanks, @brittonsmith !",
                "html": "<p>Other than the one typo, this looks great.  Thanks, <a href=\"/brittonsmith/\" rel=\"nofollow\" title=\"@brittonsmith\" class=\"mention\">Britton Smith</a> !</p>"
            },
            "user": {
                "username": "chummels",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/chummels"
                    },
                    "html": {
                        "href": "https://bitbucket.org/chummels/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/chummels/avatar/32/"
                    }
                },
                "display_name": "chummels",
                "uuid": "{de871bb8-32e9-450a-b8c9-2b49a1334f16}"
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315/comments/22395451"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315/_/diff#comment-22395451"
                    }
                },
                "id": 22395451
            },
            "created_on": "2016-08-16T15:16:32.856185+00:00",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315/comments/22411587"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315/_/diff#comment-22411587"
                }
            },
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315"
                    }
                },
                "title": "LightRay enhancements",
                "id": 2315
            },
            "type": "pullrequest_comment",
            "id": 22411587,
            "updated_on": "2016-08-16T15:16:32.867289+00:00"
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Docs were built for this PR. See https://tests.yt-project.org/job/yt_docs/1149/\nDocs build visible at https://tests.yt-project.org/job/yt_docs/1149/artifact/sandbox/doc/build/html/index.html",
                "html": "<p>Docs were built for this PR. See <a href=\"https://tests.yt-project.org/job/yt_docs/1149/\" rel=\"nofollow\">https://tests.yt-project.org/job/yt_docs/1149/</a>\nDocs build visible at <a href=\"https://tests.yt-project.org/job/yt_docs/1149/artifact/sandbox/doc/build/html/index.html\" rel=\"nofollow\">https://tests.yt-project.org/job/yt_docs/1149/artifact/sandbox/doc/build/html/index.html</a></p>"
            },
            "user": {
                "username": "yt-fido",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315/comments/22482250"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315/_/diff#comment-22482250"
                }
            },
            "created_on": "2016-08-17T16:58:24.821797+00:00",
            "updated_on": "2016-08-17T16:58:24.877912+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315"
                    }
                },
                "title": "LightRay enhancements",
                "id": 2315
            },
            "type": "pullrequest_comment",
            "id": 22482250
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Hi all,\n\nSorry about the delay.\n\nSo I have a couple comments/questions that perhaps could be clarified in\nthe docs.  First, for high_res_box_size_fraction, I am assuming that you\nuse the length of one side of your refined region and compare to the length\nof the total box.  So if this varies (not every side of the refined region\nis the same), do you need to use the smallest side, or does it not matter\nbecause a diagonal ray will fit even if I use the longest side?\n\nSecond related question on high_res_box_size_fraction:  If I am using must\nrefine particles so my refined region is changing over my redshift\ninterval, how do I decide on the fraction to use?  Must I use the smallest\nside, or at least any side of the smallest refined region?\n\nNext point:  I am not sure about an error message I am getting.  So my\nLightRay generator call looks like this:\n\nlr = LightRay(\"CBOX.enzo\", \"Enzo\",\n                  near_redshift=0.092, far_redshift=0.108,\n                  high_res_box_size_fraction=0.167,time_data=False)\n\nAnd my total box size is 120 Mpc/h, so while this redshift range is larger\nthan the high res box, it is larger by about a factor of 2, I think.  My\nerror message says:\nRuntimeError: Cannot create cosmology splice: Getting from z = 0.100000 to\n0.093024 requires max_box_fraction = 7.167533, but max_box_fraction is set\nto 1.000000\n\nI don't even know why it tells me about that particular redshift range, and\nI don't think the max_box_fraction is correct.\n\nNext point:  On this note, if I just want to have a periodic ray loop\naround a single output's high res region, then I don't need to include that\nhigh_res_box_size_fraction parameter at all, right?  Unless, I suppose, the\nredshift range is larger than the entire box.\n\nFinal point:  I thought that I could set periodic=False as long as my\nredshift range could fit within the high res region.   Perhaps I didn't do\nit right...\n\n lr = LightRay(\"CBOX.enzo\", \"Enzo\",\n                  near_redshift=0.096, far_redshift=0.104,\n                  high_res_box_size_fraction=0.167,time_data=False)\n\n    omega_baryon =\nlr.simulation.parameters[\"CosmologySimulationOmegaBaryonNow\"]\n\n    ### Specify the size and location of the high resolution region.\n\n    left_edge = np.array([0.42426, 0.450995, 0.423461],float) #center - 0.5\n* width\n    right_edge = np.array([0.599523, 0.65, 0.590858],float) #center + 0.5 *\nwidth\n\n    ### Set min_level to the minimum level of the high res region only if\nthe region is not\n    ### static, i.e. the high res region is allowed to move around during\nthe simulation.\n    ### The only thing that would require this is the use of\nmust-refine-particles.\n    min_level = None\n\n    output_dir = \"rays_repeata3\"\n    ensure_dir(output_dir)\n    for seed in range(150000,150003):\n        output_filelr = os.path.join(output_dir, \"lr_%04d.h5\" % seed)\n        if os.path.exists(output_filelr): continue\n        lr.make_light_ray(seed=seed,periodic=False,\n            data_filename=output_filelr,\n            solution_filename=os.path.join(output_dir, \"lr_%04d.out\" %\nseed),\n            left_edge=left_edge, right_edge=right_edge,\n            field_parameters={\"omega_baryon\": omega_baryon},\n            fields=[\"H_number_density\", \"temperature\",\n\"density\"],use_peculiar_velocity=True)\n\nI get this error message:\n\nyt : [INFO     ] 2016-08-18 22:16:34,017 create_cosmology_splice: Used 1\ndata dumps to get from z = 0.104000 to 0.096000.\nyt : [INFO     ] 2016-08-18 22:16:34,044 Parameters:\ncurrent_time              = 576.056440556\nyt : [INFO     ] 2016-08-18 22:16:34,044 Parameters:\ndomain_dimensions         = [128 128 128]\nyt : [INFO     ] 2016-08-18 22:16:34,045 Parameters:\ndomain_left_edge          = [ 0.  0.  0.]\nyt : [INFO     ] 2016-08-18 22:16:34,045 Parameters:\ndomain_right_edge         = [ 1.  1.  1.]\nyt : [INFO     ] 2016-08-18 22:16:34,045 Parameters:\ncosmological_simulation   = 1\nyt : [INFO     ] 2016-08-18 22:16:34,045 Parameters:\ncurrent_redshift          = 0.0999993837108\nyt : [INFO     ] 2016-08-18 22:16:34,045 Parameters:\nomega_lambda              = 0.721\nyt : [INFO     ] 2016-08-18 22:16:34,046 Parameters:\nomega_matter              = 0.279\nyt : [INFO     ] 2016-08-18 22:16:34,046 Parameters:\nhubble_constant           = 0.7\nTraceback (most recent call last):\n  File \"LightRay_hrbox_repeat.py\", line 64, in <module>\n    fields=[\"H_number_density\", \"temperature\",\n\"density\"],use_peculiar_velocity=True)\n  File\n\"/home/stonnes/yt/yt/analysis_modules/cosmological_observation/light_ray/light_ray.py\",\nline 459, in make_light_ray\n    filename=solution_filename)\n  File\n\"/home/stonnes/yt/yt/analysis_modules/cosmological_observation/light_ray/light_ray.py\",\nline 264, in _calculate_light_ray_solution\n    my_random=my_random, min_level=min_level)\n  File\n\"/home/stonnes/yt/yt/analysis_modules/cosmological_observation/light_ray/light_ray.py\",\nline 844, in non_periodic_ray\n    if ray_length > max_length:\n  File \"/home/stonnes/yt/yt/units/yt_array.py\", line 1125, in __gt__\n    oth = validate_comparison_units(self, other, 'greater than')\n  File \"/home/stonnes/yt/yt/units/yt_array.py\", line 173, in\nvalidate_comparison_units\n    raise YTUnitOperationError(op_string, this.units, other.units)\nyt.utilities.exceptions.YTUnitOperationError: The greater than operator for\nYTArrays with units (dimensionless) and (unitary) is not well defined.\n\nBest,\nStephanie\n\n--\nDr. Stephanie Tonnesen\nAlvin E. Nashman Postdoctoral Fellow\nCarnegie Observatories, Pasadena, CA\nstonnes@gmail.com",
                "html": "<p>Hi all,</p>\n<p>Sorry about the delay.</p>\n<p>So I have a couple comments/questions that perhaps could be clarified in\nthe docs.  First, for high_res_box_size_fraction, I am assuming that you\nuse the length of one side of your refined region and compare to the length\nof the total box.  So if this varies (not every side of the refined region\nis the same), do you need to use the smallest side, or does it not matter\nbecause a diagonal ray will fit even if I use the longest side?</p>\n<p>Second related question on high_res_box_size_fraction:  If I am using must\nrefine particles so my refined region is changing over my redshift\ninterval, how do I decide on the fraction to use?  Must I use the smallest\nside, or at least any side of the smallest refined region?</p>\n<p>Next point:  I am not sure about an error message I am getting.  So my\nLightRay generator call looks like this:</p>\n<p>lr = LightRay(\"CBOX.enzo\", \"Enzo\",\n                  near_redshift=0.092, far_redshift=0.108,\n                  high_res_box_size_fraction=0.167,time_data=False)</p>\n<p>And my total box size is 120 Mpc/h, so while this redshift range is larger\nthan the high res box, it is larger by about a factor of 2, I think.  My\nerror message says:\nRuntimeError: Cannot create cosmology splice: Getting from z = 0.100000 to\n0.093024 requires max_box_fraction = 7.167533, but max_box_fraction is set\nto 1.000000</p>\n<p>I don't even know why it tells me about that particular redshift range, and\nI don't think the max_box_fraction is correct.</p>\n<p>Next point:  On this note, if I just want to have a periodic ray loop\naround a single output's high res region, then I don't need to include that\nhigh_res_box_size_fraction parameter at all, right?  Unless, I suppose, the\nredshift range is larger than the entire box.</p>\n<p>Final point:  I thought that I could set periodic=False as long as my\nredshift range could fit within the high res region.   Perhaps I didn't do\nit right...</p>\n<p>lr = LightRay(\"CBOX.enzo\", \"Enzo\",\n                  near_redshift=0.096, far_redshift=0.104,\n                  high_res_box_size_fraction=0.167,time_data=False)</p>\n<div class=\"codehilite\"><pre><span></span>omega_baryon =\n</pre></div>\n\n\n<p>lr.simulation.parameters[\"CosmologySimulationOmegaBaryonNow\"]</p>\n<div class=\"codehilite\"><pre><span></span>### Specify the size and location of the high resolution region.\n\nleft_edge = np.array([0.42426, 0.450995, 0.423461],float) #center - 0.5\n</pre></div>\n\n\n<ul>\n<li>\n<p>width\n    right_edge = np.array([0.599523, 0.65, 0.590858],float) #center + 0.5 *\nwidth</p>\n<h3 id=\"markdown-header-set-min_level-to-the-minimum-level-of-the-high-res-region-only-if\">Set min_level to the minimum level of the high res region only if</h3>\n<p>the region is not</p>\n<h3 id=\"markdown-header-static-ie-the-high-res-region-is-allowed-to-move-around-during\">static, i.e. the high res region is allowed to move around during</h3>\n<p>the simulation.</p>\n<h3 id=\"markdown-header-the-only-thing-that-would-require-this-is-the-use-of\">The only thing that would require this is the use of</h3>\n<p>must-refine-particles.\nmin_level = None</p>\n<p>output_dir = \"rays_repeata3\"\nensure_dir(output_dir)\nfor seed in range(150000,150003):\n    output_filelr = os.path.join(output_dir, \"lr_%04d.h5\" % seed)\n    if os.path.exists(output_filelr): continue\n    lr.make_light_ray(seed=seed,periodic=False,\n        data_filename=output_filelr,\n        solution_filename=os.path.join(output_dir, \"lr_%04d.out\" %\nseed),\n        left_edge=left_edge, right_edge=right_edge,\n        field_parameters={\"omega_baryon\": omega_baryon},\n        fields=[\"H_number_density\", \"temperature\",\n\"density\"],use_peculiar_velocity=True)</p>\n</li>\n</ul>\n<p>I get this error message:</p>\n<p>yt : [INFO     ] 2016-08-18 22:16:34,017 create_cosmology_splice: Used 1\ndata dumps to get from z = 0.104000 to 0.096000.\nyt : [INFO     ] 2016-08-18 22:16:34,044 Parameters:\ncurrent_time              = 576.<a href=\"/brittonsmith/yt/commits/056440556\" rel=\"nofollow\">056440556</a>\nyt : [INFO     ] 2016-08-18 22:16:34,044 Parameters:\ndomain_dimensions         = [128 128 128]\nyt : [INFO     ] 2016-08-18 22:16:34,045 Parameters:\ndomain_left_edge          = [ 0.  0.  0.]\nyt : [INFO     ] 2016-08-18 22:16:34,045 Parameters:\ndomain_right_edge         = [ 1.  1.  1.]\nyt : [INFO     ] 2016-08-18 22:16:34,045 Parameters:\ncosmological_simulation   = 1\nyt : [INFO     ] 2016-08-18 22:16:34,045 Parameters:\ncurrent_redshift          = 0.<a href=\"/brittonsmith/yt/commits/0999993837108\" rel=\"nofollow\">0999993837108</a>\nyt : [INFO     ] 2016-08-18 22:16:34,045 Parameters:\nomega_lambda              = 0.721\nyt : [INFO     ] 2016-08-18 22:16:34,046 Parameters:\nomega_matter              = 0.279\nyt : [INFO     ] 2016-08-18 22:16:34,046 Parameters:\nhubble_constant           = 0.7\nTraceback (most recent call last):\n  File \"LightRay_hrbox_repeat.py\", line 64, in &lt;module&gt;\n    fields=[\"H_number_density\", \"temperature\",\n\"density\"],use_peculiar_velocity=True)\n  File\n\"/home/stonnes/yt/yt/analysis_modules/cosmological_observation/light_ray/light_ray.py\",\nline 459, in make_light_ray\n    filename=solution_filename)\n  File\n\"/home/stonnes/yt/yt/analysis_modules/cosmological_observation/light_ray/light_ray.py\",\nline 264, in _calculate_light_ray_solution\n    my_random=my_random, min_level=min_level)\n  File\n\"/home/stonnes/yt/yt/analysis_modules/cosmological_observation/light_ray/light_ray.py\",\nline 844, in non_periodic_ray\n    if ray_length &gt; max_length:\n  File \"/home/stonnes/yt/yt/units/yt_array.py\", line 1125, in <strong>gt</strong>\n    oth = validate_comparison_units(self, other, 'greater than')\n  File \"/home/stonnes/yt/yt/units/yt_array.py\", line 173, in\nvalidate_comparison_units\n    raise YTUnitOperationError(op_string, this.units, other.units)\nyt.utilities.exceptions.YTUnitOperationError: The greater than operator for\nYTArrays with units (dimensionless) and (unitary) is not well defined.</p>\n<p>Best,\nStephanie</p>\n<p>--\nDr. Stephanie Tonnesen\nAlvin E. Nashman Postdoctoral Fellow\nCarnegie Observatories, Pasadena, CA\nstonnes@gmail.com</p>"
            },
            "user": {
                "username": "stonnes",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/stonnes"
                    },
                    "html": {
                        "href": "https://bitbucket.org/stonnes/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/stonnes/avatar/32/"
                    }
                },
                "display_name": "Stephanie Tonnesen",
                "uuid": "{345c76a3-0cd5-4b93-a237-16040f49966c}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315/comments/22564856"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315/_/diff#comment-22564856"
                }
            },
            "created_on": "2016-08-19T05:25:06.236414+00:00",
            "updated_on": "2016-08-19T05:25:06.277498+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315"
                    }
                },
                "title": "LightRay enhancements",
                "id": 2315
            },
            "type": "pullrequest_comment",
            "id": 22564856
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "HI @stonnes, thank you for your comments.\n\nI have refactored this code to remove the `high_res_box_size_fraction` keyword.  After thinking about this carefully, I came to the conclusion that it is redundant with the `max_box_fraction` keyword, as you could also use that to specify the size of the high res region and get the same effect.  In addition, the errors your were seeing in your first couple comments were relating to those two parameters not playing well with each other.  For example, when you got the error message that `max_box_fraction` needed to be  7.167533, that was referring to a factor that would be multiplied by `high_res_box_size_fraction`.  This sort of confusion is lessened when you have a single parameter.  I will clean up the documentation to make it clear how this should be used in all situations.\n\nAs for the error you encountered in your last comment, this was a genuine bug that I believe I have fixed now.\n\nI have had to reissue this PR to incorporate related changes in another PR, so any future developments will be happening [here](https://bitbucket.org/yt_analysis/yt/pull-requests/2345/lightray-enhancements-and-bugfix-closes/diff).",
                "html": "<p>HI <a href=\"/stonnes/\" rel=\"nofollow\" title=\"@stonnes\" class=\"mention\">Stephanie Tonnesen</a>, thank you for your comments.</p>\n<p>I have refactored this code to remove the <code>high_res_box_size_fraction</code> keyword.  After thinking about this carefully, I came to the conclusion that it is redundant with the <code>max_box_fraction</code> keyword, as you could also use that to specify the size of the high res region and get the same effect.  In addition, the errors your were seeing in your first couple comments were relating to those two parameters not playing well with each other.  For example, when you got the error message that <code>max_box_fraction</code> needed to be  7.167533, that was referring to a factor that would be multiplied by <code>high_res_box_size_fraction</code>.  This sort of confusion is lessened when you have a single parameter.  I will clean up the documentation to make it clear how this should be used in all situations.</p>\n<p>As for the error you encountered in your last comment, this was a genuine bug that I believe I have fixed now.</p>\n<p>I have had to reissue this PR to incorporate related changes in another PR, so any future developments will be happening <a href=\"https://bitbucket.org/yt_analysis/yt/pull-requests/2345/lightray-enhancements-and-bugfix-closes/diff\">here</a>.</p>"
            },
            "user": {
                "username": "brittonsmith",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/brittonsmith"
                    },
                    "html": {
                        "href": "https://bitbucket.org/brittonsmith/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/brittonsmith/avatar/32/"
                    }
                },
                "display_name": "Britton Smith",
                "uuid": "{94333901-a436-4c2c-8322-8d09e387eece}"
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315/comments/22564856"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315/_/diff#comment-22564856"
                    }
                },
                "id": 22564856
            },
            "created_on": "2016-08-19T13:48:26.759946+00:00",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315/comments/22589958"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315/_/diff#comment-22589958"
                }
            },
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2315"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2315"
                    }
                },
                "title": "LightRay enhancements",
                "id": 2315
            },
            "type": "pullrequest_comment",
            "id": 22589958,
            "updated_on": "2016-08-19T13:48:26.768183+00:00"
        }
    ],
    "reason": "This pull request has been superseded",
    "type": "pullrequest",
    "close_source_branch": false,
    "state": "SUPERSEDED",
    "description": "This PR adds a few features to the `LightRay` that have been requested by users.\r\n\r\n1. The ability to generate `LightRays` using only the high resolution portion of a zoom-in simulation.\r\n\r\n2. The ability to toggle between periodic and non-periodic ray segments.\r\n\r\n3. The ability to create a compound light ray with a single, continuous trajectory.\r\n\r\nThis also slightly refactors some of the light ray solution calculation make it work better with unitful boundaries.  I will add more to this description later, but would like to get the tests run on it as well.",
    "author": {
        "username": "brittonsmith",
        "type": "user",
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/brittonsmith"
            },
            "html": {
                "href": "https://bitbucket.org/brittonsmith/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/brittonsmith/avatar/32/"
            }
        },
        "display_name": "Britton Smith",
        "uuid": "{94333901-a436-4c2c-8322-8d09e387eece}"
    },
    "updated_on": "2016-08-19T13:48:26.782033+00:00",
    "destination": {
        "repository": {
            "full_name": "yt_analysis/yt",
            "uuid": "{b73cb37c-40f2-493a-aaa9-41bc8d8974cc}",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/yt_analysis/yt/avatar/32/"
                }
            },
            "name": "yt"
        },
        "commit": {
            "hash": "9d20cd224c72",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/9d20cd224c72"
                }
            }
        },
        "branch": {
            "name": "yt"
        }
    }
}