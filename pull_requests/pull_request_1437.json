{
    "links": {
        "decline": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1437/decline"
        },
        "approve": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1437/approve"
        },
        "html": {
            "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1437"
        },
        "activity": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1437/activity"
        },
        "self": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1437"
        },
        "commits": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1437/commits"
        },
        "merge": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1437/merge"
        },
        "statuses": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1437/statuses"
        },
        "comments": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1437/comments"
        },
        "diff": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1437/diff"
        }
    },
    "task_count": 0,
    "source": {
        "repository": {
            "full_name": "ngoldbaum/yt",
            "uuid": "{cb18d7d9-ab77-4e80-81ed-8d32a945e0ef}",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/ngoldbaum/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/ngoldbaum/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/ngoldbaum/yt/avatar/32/"
                }
            },
            "name": "yt"
        },
        "commit": {
            "hash": "62df2c46b929",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/ngoldbaum/yt/commit/62df2c46b929"
                }
            }
        },
        "branch": {
            "name": "yt"
        }
    },
    "closed_by": {
        "username": "ngoldbaum",
        "type": "user",
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
            },
            "html": {
                "href": "https://bitbucket.org/ngoldbaum/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
            }
        },
        "display_name": "Nathan Goldbaum",
        "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}"
    },
    "title": "[back compat?] dark_matter_density field: now a deposit field and gadget support",
    "id": 1437,
    "comment_count": 14,
    "created_on": "2015-01-30T01:16:28.967962+00:00",
    "merge_commit": null,
    "comments": [
        {
            "content": {
                "markup": "markdown",
                "raw": "All tests pass. Good job!",
                "html": "<p>All tests pass. Good job!</p>"
            },
            "user": {
                "username": "yt-fido",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1437/comments/4903770"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1437/_/diff#comment-4903770"
                }
            },
            "created_on": "2015-01-30T23:31:19.447278+00:00",
            "updated_on": "2015-01-30T23:31:20.002654+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1437"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1437"
                    }
                },
                "title": "[back compat?] dark_matter_density field: now a deposit field and gadget support",
                "id": 1437
            },
            "type": "pullrequest_comment",
            "id": 4903770
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "I'm not sure about changing the field type of ``dark_matter_density`` from ``gas`` to ``deposit``.  In the Enzo case, the field aliases to a grid field on disk.  At least, I think we do need to keep a ``(\"gas\", \"dark_matter_density\")`` for backward compatibility.\n\nThe \"gas\" and \"deposit\" field types combine rather clumsily since one is physically motivated and the other relates to how the field is constructed.  Maybe we need a new field type that is more physically motivated that can be used with ``dark_matter_density``.",
                "html": "<p>I'm not sure about changing the field type of <code>dark_matter_density</code> from <code>gas</code> to <code>deposit</code>.  In the Enzo case, the field aliases to a grid field on disk.  At least, I think we do need to keep a <code>(\"gas\", \"dark_matter_density\")</code> for backward compatibility.</p>\n<p>The \"gas\" and \"deposit\" field types combine rather clumsily since one is physically motivated and the other relates to how the field is constructed.  Maybe we need a new field type that is more physically motivated that can be used with <code>dark_matter_density</code>.</p>"
            },
            "user": {
                "username": "brittonsmith",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/brittonsmith"
                    },
                    "html": {
                        "href": "https://bitbucket.org/brittonsmith/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/brittonsmith/avatar/32/"
                    }
                },
                "display_name": "Britton Smith",
                "uuid": "{94333901-a436-4c2c-8322-8d09e387eece}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1437/comments/4907078"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1437/_/diff#comment-4907078"
                }
            },
            "created_on": "2015-02-01T10:59:12.874554+00:00",
            "updated_on": "2015-02-01T10:59:12.885008+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1437"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1437"
                    }
                },
                "title": "[back compat?] dark_matter_density field: now a deposit field and gadget support",
                "id": 1437
            },
            "type": "pullrequest_comment",
            "id": 4907078
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "I can certainly add an alias for Enzo for backward compatibility.\n\nWe could add a whole new field type, but that's a big change and probably outside the scope of this PR.  For now, given the field types we have, I personally think it makes a lot more sense to talk about dark matter density as a deposit field than a gas field.\n\n@MatthewTurk any chance you can weigh in here?",
                "html": "<p>I can certainly add an alias for Enzo for backward compatibility.</p>\n<p>We could add a whole new field type, but that's a big change and probably outside the scope of this PR.  For now, given the field types we have, I personally think it makes a lot more sense to talk about dark matter density as a deposit field than a gas field.</p>\n<p><a href=\"/MatthewTurk/\" rel=\"nofollow\" title=\"@MatthewTurk\" class=\"mention\">Matt Turk</a> any chance you can weigh in here?</p>"
            },
            "user": {
                "username": "ngoldbaum",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}"
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1437/comments/4907078"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1437/_/diff#comment-4907078"
                    }
                },
                "id": 4907078
            },
            "created_on": "2015-02-01T17:15:00.948613+00:00",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1437/comments/4907828"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1437/_/diff#comment-4907828"
                }
            },
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1437"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1437"
                    }
                },
                "title": "[back compat?] dark_matter_density field: now a deposit field and gadget support",
                "id": 1437
            },
            "type": "pullrequest_comment",
            "id": 4907828,
            "updated_on": "2015-02-01T17:15:00.964376+00:00"
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "I agree that it doesn't make sense to have a `(\"gas\", \"dark_matter_density\")` field, since DM has little to do directly with gas.  I think this PR gives the best solution, but I agree for backwards compatibility to alias to the `gas, dmdensity` field.",
                "html": "<p>I agree that it doesn't make sense to have a <code>(\"gas\", \"dark_matter_density\")</code> field, since DM has little to do directly with gas.  I think this PR gives the best solution, but I agree for backwards compatibility to alias to the <code>gas, dmdensity</code> field.</p>"
            },
            "user": {
                "username": "chummels",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/chummels"
                    },
                    "html": {
                        "href": "https://bitbucket.org/chummels/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/chummels/avatar/32/"
                    }
                },
                "display_name": "chummels",
                "uuid": "{de871bb8-32e9-450a-b8c9-2b49a1334f16}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1437/comments/4907977"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1437/_/diff#comment-4907977"
                }
            },
            "created_on": "2015-02-01T18:23:30.472420+00:00",
            "updated_on": "2015-02-01T18:23:30.483534+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1437"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1437"
                    }
                },
                "title": "[back compat?] dark_matter_density field: now a deposit field and gadget support",
                "id": 1437
            },
            "type": "pullrequest_comment",
            "id": 4907977
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "The problem is that either the gas field type is a poor way to describe fields or that we are not actually using it correctly.  The deposit field type was set up as a way to indicate fields where some sort of deposition onto a grid was being done by yt itself.  That is not happening in this case, as the field ``(\"Enzo\", \"Dark_Matter_Density\")`` is an on-disk grid field.  We can also use yt's CIC deposit to create a true deposited dark matter density that would filter out stars and other particles.  What will we call that?\n\nI am fine accepting this PR as a bandaid, but on a longer term, we need to either rethink the field types we've defined or rethink how we're using them.",
                "html": "<p>The problem is that either the gas field type is a poor way to describe fields or that we are not actually using it correctly.  The deposit field type was set up as a way to indicate fields where some sort of deposition onto a grid was being done by yt itself.  That is not happening in this case, as the field <code>(\"Enzo\", \"Dark_Matter_Density\")</code> is an on-disk grid field.  We can also use yt's CIC deposit to create a true deposited dark matter density that would filter out stars and other particles.  What will we call that?</p>\n<p>I am fine accepting this PR as a bandaid, but on a longer term, we need to either rethink the field types we've defined or rethink how we're using them.</p>"
            },
            "user": {
                "username": "brittonsmith",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/brittonsmith"
                    },
                    "html": {
                        "href": "https://bitbucket.org/brittonsmith/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/brittonsmith/avatar/32/"
                    }
                },
                "display_name": "Britton Smith",
                "uuid": "{94333901-a436-4c2c-8322-8d09e387eece}"
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1437/comments/4907977"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1437/_/diff#comment-4907977"
                    }
                },
                "id": 4907977
            },
            "created_on": "2015-02-01T19:05:07.073790+00:00",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1437/comments/4908043"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1437/_/diff#comment-4908043"
                }
            },
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1437"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1437"
                    }
                },
                "title": "[back compat?] dark_matter_density field: now a deposit field and gadget support",
                "id": 1437
            },
            "type": "pullrequest_comment",
            "id": 4908043,
            "updated_on": "2015-02-01T19:05:07.083562+00:00"
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Enzo's `Dark_Matter_Density` field includes stars?  If so, then aliasing it to `dark_matter_density` is indeed a poor fit - it's more like a `particle_density`.  FWIW, the way I've set up the alias in the Gadget frontend, `dark_matter_density` only includes dark matter.\n\nShould the `matter_density` field in `cosmology_fields.py` explicitly include stars?  Right now it only sums `dark_matter_density` and gas `density`.\n\nIn the end, we need to think carefully about how to reconcile all of these fields across frontends, given that the cosmology fields all depend on these fields that were specific to the enzo frontend up until this point.",
                "html": "<p>Enzo's <code>Dark_Matter_Density</code> field includes stars?  If so, then aliasing it to <code>dark_matter_density</code> is indeed a poor fit - it's more like a <code>particle_density</code>.  FWIW, the way I've set up the alias in the Gadget frontend, <code>dark_matter_density</code> only includes dark matter.</p>\n<p>Should the <code>matter_density</code> field in <code>cosmology_fields.py</code> explicitly include stars?  Right now it only sums <code>dark_matter_density</code> and gas <code>density</code>.</p>\n<p>In the end, we need to think carefully about how to reconcile all of these fields across frontends, given that the cosmology fields all depend on these fields that were specific to the enzo frontend up until this point.</p>"
            },
            "user": {
                "username": "ngoldbaum",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}"
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1437/comments/4908043"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1437/_/diff#comment-4908043"
                    }
                },
                "id": 4908043
            },
            "created_on": "2015-02-01T19:17:36.370048+00:00",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1437/comments/4908065"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1437/_/diff#comment-4908065"
                }
            },
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1437"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1437"
                    }
                },
                "title": "[back compat?] dark_matter_density field: now a deposit field and gadget support",
                "id": 1437
            },
            "type": "pullrequest_comment",
            "id": 4908065,
            "updated_on": "2015-02-01T21:20:51.441793+00:00"
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "One way we might be able to address this is by having a set of `(\"DM\", \"x\")` fields in the same way we have `(\"gas\", \"x\")` fields.  Similar to the way in which we alias the `(\"gas\", \"x\")` fields to frontend-specific fields (both grid based as well as deposited from particles in the case of SPH), `(\"DM\", \"x\")` fields can just be aliases to the native way in which dark matter is represented, either by grids (in the case of enzo) or in deposited particle fields (in the case of most other codes).\n\nBut I wonder how many `(\"DM\", \"x\")` fields will even exist, since DM doesn't have metallicity, temperature, etc.  I guess they would simply be gravitational and dynamical properties like \"density\", \"vorticity\", etc., so perhaps it isn't worth it to do this?\n\nObviously, this is outside the realm of the current PR, but if there is interest in this, we could make a YTEP describing this and then implement it? ",
                "html": "<p>One way we might be able to address this is by having a set of <code>(\"DM\", \"x\")</code> fields in the same way we have <code>(\"gas\", \"x\")</code> fields.  Similar to the way in which we alias the <code>(\"gas\", \"x\")</code> fields to frontend-specific fields (both grid based as well as deposited from particles in the case of SPH), <code>(\"DM\", \"x\")</code> fields can just be aliases to the native way in which dark matter is represented, either by grids (in the case of enzo) or in deposited particle fields (in the case of most other codes).</p>\n<p>But I wonder how many <code>(\"DM\", \"x\")</code> fields will even exist, since DM doesn't have metallicity, temperature, etc.  I guess they would simply be gravitational and dynamical properties like \"density\", \"vorticity\", etc., so perhaps it isn't worth it to do this?</p>\n<p>Obviously, this is outside the realm of the current PR, but if there is interest in this, we could make a YTEP describing this and then implement it? </p>"
            },
            "user": {
                "username": "chummels",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/chummels"
                    },
                    "html": {
                        "href": "https://bitbucket.org/chummels/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/chummels/avatar/32/"
                    }
                },
                "display_name": "chummels",
                "uuid": "{de871bb8-32e9-450a-b8c9-2b49a1334f16}"
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1437/comments/4908043"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1437/_/diff#comment-4908043"
                    }
                },
                "id": 4908043
            },
            "created_on": "2015-02-01T19:46:16.181558+00:00",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1437/comments/4908152"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1437/_/diff#comment-4908152"
                }
            },
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1437"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1437"
                    }
                },
                "title": "[back compat?] dark_matter_density field: now a deposit field and gadget support",
                "id": 1437
            },
            "type": "pullrequest_comment",
            "id": 4908152,
            "updated_on": "2015-02-01T19:46:16.194544+00:00"
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "All tests pass. Good job!",
                "html": "<p>All tests pass. Good job!</p>"
            },
            "user": {
                "username": "yt-fido",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1437/comments/4908333"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1437/_/diff#comment-4908333"
                }
            },
            "created_on": "2015-02-01T20:53:41.571008+00:00",
            "updated_on": "2015-02-01T20:53:41.742691+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1437"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1437"
                    }
                },
                "title": "[back compat?] dark_matter_density field: now a deposit field and gadget support",
                "id": 1437
            },
            "type": "pullrequest_comment",
            "id": 4908333
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "I am going to think about this a bit, but I want to emphasize something Britton alludes to, which is that Enzo's `Dark_Matter_Density` field is generated internally, which makes it fundamentally different (in my view) from the deposit field.  As an example, some versions of Enzo conduct a ghost zone exchange after depositing, but before writing out; yt does not.",
                "html": "<p>I am going to think about this a bit, but I want to emphasize something Britton alludes to, which is that Enzo's <code>Dark_Matter_Density</code> field is generated internally, which makes it fundamentally different (in my view) from the deposit field.  As an example, some versions of Enzo conduct a ghost zone exchange after depositing, but before writing out; yt does not.</p>"
            },
            "user": {
                "username": "MatthewTurk",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "display_name": "Matt Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}"
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1437/comments/4908065"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1437/_/diff#comment-4908065"
                    }
                },
                "id": 4908065
            },
            "created_on": "2015-02-01T20:57:16.742985+00:00",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1437/comments/4908348"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1437/_/diff#comment-4908348"
                }
            },
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1437"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1437"
                    }
                },
                "title": "[back compat?] dark_matter_density field: now a deposit field and gadget support",
                "id": 1437
            },
            "type": "pullrequest_comment",
            "id": 4908348,
            "updated_on": "2015-02-01T20:57:16.751298+00:00"
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Just to answer @ngoldbaum's question, ``(\"Enzo\", \"Dark_Matter_Density\")`` is indeed really an all particle density as it is just the mass field deposited by Enzo onto the grid for all particles present.\n\nIn general, I would say that a ``matter_density`` field should include all particles.",
                "html": "<p>Just to answer <a href=\"/ngoldbaum/\" rel=\"nofollow\" title=\"@ngoldbaum\" class=\"mention\">Nathan Goldbaum</a>'s question, <code>(\"Enzo\", \"Dark_Matter_Density\")</code> is indeed really an all particle density as it is just the mass field deposited by Enzo onto the grid for all particles present.</p>\n<p>In general, I would say that a <code>matter_density</code> field should include all particles.</p>"
            },
            "user": {
                "username": "brittonsmith",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/brittonsmith"
                    },
                    "html": {
                        "href": "https://bitbucket.org/brittonsmith/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/brittonsmith/avatar/32/"
                    }
                },
                "display_name": "Britton Smith",
                "uuid": "{94333901-a436-4c2c-8322-8d09e387eece}"
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1437/comments/4908065"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1437/_/diff#comment-4908065"
                    }
                },
                "id": 4908065
            },
            "created_on": "2015-02-01T21:27:05.361224+00:00",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1437/comments/4908431"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1437/_/diff#comment-4908431"
                }
            },
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1437"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1437"
                    }
                },
                "title": "[back compat?] dark_matter_density field: now a deposit field and gadget support",
                "id": 1437
            },
            "type": "pullrequest_comment",
            "id": 4908431,
            "updated_on": "2015-02-01T21:27:05.380153+00:00"
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "OK, making this work out right will take some work, I think.",
                "html": "<p>OK, making this work out right will take some work, I think.</p>"
            },
            "user": {
                "username": "ngoldbaum",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}"
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1437/comments/4908431"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1437/_/diff#comment-4908431"
                    }
                },
                "id": 4908431
            },
            "created_on": "2015-02-01T21:28:16.019073+00:00",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1437/comments/4908436"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1437/_/diff#comment-4908436"
                }
            },
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1437"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1437"
                    }
                },
                "title": "[back compat?] dark_matter_density field: now a deposit field and gadget support",
                "id": 1437
            },
            "type": "pullrequest_comment",
            "id": 4908436,
            "updated_on": "2015-02-01T21:28:16.026728+00:00"
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "If it comes down to it, I'm happy to revert the changes that make `dark_matter_density` a deposit field and I'll go ahead and make the Gadget alias `gas` *and* make it include both stars and dark matter so it means the same thing as the enzo field.\n\nThis discussion indicates to me that we need to have a more flexible system for distinguishing between mesh-like fields, particle-like fields, and, in the future, fields defined in ways that yt doesn't have support for yet.  This needs to be separate from the *semantic* meaning for the field so we avoid creating fields like `('gas', 'dark_matter_density')`.  In addition, we should broaden the semantic meanings of field types, possible by creating new field types.  For example, right now the total matter density is a `gas` field - it should really be some new mixed field type that we don't have a name for yet.",
                "html": "<p>If it comes down to it, I'm happy to revert the changes that make <code>dark_matter_density</code> a deposit field and I'll go ahead and make the Gadget alias <code>gas</code> <em>and</em> make it include both stars and dark matter so it means the same thing as the enzo field.</p>\n<p>This discussion indicates to me that we need to have a more flexible system for distinguishing between mesh-like fields, particle-like fields, and, in the future, fields defined in ways that yt doesn't have support for yet.  This needs to be separate from the <em>semantic</em> meaning for the field so we avoid creating fields like <code>('gas', 'dark_matter_density')</code>.  In addition, we should broaden the semantic meanings of field types, possible by creating new field types.  For example, right now the total matter density is a <code>gas</code> field - it should really be some new mixed field type that we don't have a name for yet.</p>"
            },
            "user": {
                "username": "ngoldbaum",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1437/comments/4908443"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1437/_/diff#comment-4908443"
                }
            },
            "created_on": "2015-02-01T21:29:48.785815+00:00",
            "updated_on": "2015-02-01T21:34:14.328194+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1437"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1437"
                    }
                },
                "title": "[back compat?] dark_matter_density field: now a deposit field and gadget support",
                "id": 1437
            },
            "type": "pullrequest_comment",
            "id": 4908443
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "@ngoldbaum, I agree with this plan of action as it seems to result in the fewest changes to the system we have now.  I hope we can return sooner rather than later to this field type naming discussion.",
                "html": "<p><a href=\"/ngoldbaum/\" rel=\"nofollow\" title=\"@ngoldbaum\" class=\"mention\">Nathan Goldbaum</a>, I agree with this plan of action as it seems to result in the fewest changes to the system we have now.  I hope we can return sooner rather than later to this field type naming discussion.</p>"
            },
            "user": {
                "username": "brittonsmith",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/brittonsmith"
                    },
                    "html": {
                        "href": "https://bitbucket.org/brittonsmith/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/brittonsmith/avatar/32/"
                    }
                },
                "display_name": "Britton Smith",
                "uuid": "{94333901-a436-4c2c-8322-8d09e387eece}"
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1437/comments/4908443"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1437/_/diff#comment-4908443"
                    }
                },
                "id": 4908443
            },
            "created_on": "2015-02-06T10:20:59.594749+00:00",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1437/comments/5007020"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1437/_/diff#comment-5007020"
                }
            },
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1437"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1437"
                    }
                },
                "title": "[back compat?] dark_matter_density field: now a deposit field and gadget support",
                "id": 1437
            },
            "type": "pullrequest_comment",
            "id": 5007020,
            "updated_on": "2015-02-06T10:20:59.617090+00:00"
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Sorry I didn't chime in; looks like my emails were swallowed.\n\nI think we ought to try to retain current behavior; even though \"gas\" isn't the right term, it's a proxy for \"mesh\" for Enzo.  So perhaps the plan @brittonsmith suggested would work well?",
                "html": "<p>Sorry I didn't chime in; looks like my emails were swallowed.</p>\n<p>I think we ought to try to retain current behavior; even though \"gas\" isn't the right term, it's a proxy for \"mesh\" for Enzo.  So perhaps the plan <a href=\"/brittonsmith/\" rel=\"nofollow\" title=\"@brittonsmith\" class=\"mention\">Britton Smith</a> suggested would work well?</p>"
            },
            "user": {
                "username": "MatthewTurk",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "display_name": "Matt Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1437/comments/5239758"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1437/_/diff#comment-5239758"
                }
            },
            "created_on": "2015-02-19T20:04:44.766337+00:00",
            "updated_on": "2015-02-19T20:04:44.789625+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1437"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1437"
                    }
                },
                "title": "[back compat?] dark_matter_density field: now a deposit field and gadget support",
                "id": 1437
            },
            "type": "pullrequest_comment",
            "id": 5239758
        }
    ],
    "reason": "This approach is not the way to go",
    "type": "pullrequest",
    "close_source_branch": false,
    "state": "DECLINED",
    "description": "This makes the `dark_matter_density` field be of type `deposit` rather than `gas`.  I made this change because it occurs to me that it doesn't make very much sense to have a `('gas', 'dark_matter_density')` field, and looking at the code it seems to have come out that way more or less by accident due to Enzo's output format.\r\n\r\nI'm not sure whether this counts as a breaking change, since data selection on the `\"dark_matter_density\"` field still works, although selection on `(\"gas\", \"dark_matter_density\")` will break.  Should I add a deprecated alias for the Enzo frontend to avoid breakage?\r\n\r\nIn addition, I've wired up the `('deposit', 'dark_matter_density')` field in the gadget frontend.  This change makes field detection succeed for all of the fields in `yt.fields.cosmology_fields` with the `GadgetDiskGalaxy` dataset.  See also PR 1436, which is related.\r\n\r\nWe should probably also add this field to the other frontends that support cosmological simulations.  I've only added Gadget since I'm familiar with the data format and it came up on the mailing list.",
    "author": {
        "username": "ngoldbaum",
        "type": "user",
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
            },
            "html": {
                "href": "https://bitbucket.org/ngoldbaum/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
            }
        },
        "display_name": "Nathan Goldbaum",
        "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}"
    },
    "updated_on": "2015-05-22T19:09:46.400721+00:00",
    "destination": {
        "repository": {
            "full_name": "yt_analysis/yt",
            "uuid": "{b73cb37c-40f2-493a-aaa9-41bc8d8974cc}",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/yt_analysis/yt/avatar/32/"
                }
            },
            "name": "yt"
        },
        "commit": {
            "hash": "c12349973350",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/c12349973350"
                }
            }
        },
        "branch": {
            "name": "yt"
        }
    }
}