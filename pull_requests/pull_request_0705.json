{
    "reason": "",
    "state": "MERGED",
    "updated_on": "2014-02-17T10:52:32.873831+00:00",
    "comment_count": 8,
    "description": "These changes enable rockstar to be restarted through yt. To avoid any errors, I enforced the restart to use the same number of writers. To restart, one simply passes restart=True to the Rockstar run command, and it will read the restart output from the Rockstar restart config file.",
    "created_on": "2014-02-09T04:53:57.606413+00:00",
    "task_count": 0,
    "merge_commit": null,
    "title": "Rockstar restarts",
    "links": {
        "diff": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/705/diff"
        },
        "decline": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/705/decline"
        },
        "self": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/705"
        },
        "activity": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/705/activity"
        },
        "merge": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/705/merge"
        },
        "commits": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/705/commits"
        },
        "statuses": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/705/statuses"
        },
        "approve": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/705/approve"
        },
        "html": {
            "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/705"
        },
        "comments": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/705/comments"
        }
    },
    "closed_by": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
            },
            "html": {
                "href": "https://bitbucket.org/MatthewTurk/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "Matt Turk",
        "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
        "username": "MatthewTurk"
    },
    "id": 705,
    "type": "pullrequest",
    "author": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/jwise77"
            },
            "html": {
                "href": "https://bitbucket.org/jwise77/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/jwise77/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "John Wise",
        "uuid": "{1268c7fc-4f69-4585-8c0c-960c8f6543f7}",
        "username": "jwise77"
    },
    "source": {
        "branch": {
            "name": "yt-3.0"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/jwise77/yt/commit/be8f535106ec"
                }
            },
            "hash": "be8f535106ec"
        },
        "repository": {
            "full_name": "jwise77/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/jwise77/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/jwise77/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/jwise77/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{a33f27e6-7d72-481c-8bbe-e841bd0849dc}"
        }
    },
    "close_source_branch": false,
    "destination": {
        "branch": {
            "name": "yt-3.0"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/1b17b7e8bcf0"
                }
            },
            "hash": "1b17b7e8bcf0"
        },
        "repository": {
            "full_name": "yt_analysis/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/yt_analysis/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{b73cb37c-40f2-493a-aaa9-41bc8d8974cc}"
        }
    },
    "comments": [
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/705/comments/1201299"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/705/_/diff#comment-1201299"
                }
            },
            "pullrequest": {
                "title": "Rockstar restarts",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/705"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/705"
                    }
                },
                "id": 705
            },
            "content": {
                "raw": "All tests pass. Good job!",
                "html": "<p>All tests pass. Good job!</p>",
                "markup": "markdown"
            },
            "created_on": "2014-02-09T05:42:05.190197+00:00",
            "updated_on": "2014-02-09T05:42:05.318078+00:00",
            "id": 1201299
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/705/comments/1209829"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/jwise77/yt:9b00baba1980..1b17b7e8bcf0?path=yt%2Fanalysis_modules%2Fhalo_finding%2Frockstar%2Frockstar.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/705/_/diff#comment-1209829"
                }
            },
            "pullrequest": {
                "title": "Rockstar restarts",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/705"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/705"
                    }
                },
                "id": 705
            },
            "content": {
                "raw": "Can we use `os.path.join(self.outbase, \"restart.cfg\")`?",
                "html": "<p>Can we use <code>os.path.join(self.outbase, \"restart.cfg\")</code>?</p>",
                "markup": "markdown"
            },
            "created_on": "2014-02-10T23:24:53.412103+00:00",
            "updated_on": "2014-02-10T23:24:53.439013+00:00",
            "inline": {
                "from": null,
                "path": "yt/analysis_modules/halo_finding/rockstar/rockstar.py",
                "to": 300
            },
            "id": 1209829
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/705/comments/1209833"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/jwise77/yt:9b00baba1980..1b17b7e8bcf0?path=yt%2Fanalysis_modules%2Fhalo_finding%2Frockstar%2Frockstar.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/705/_/diff#comment-1209833"
                }
            },
            "pullrequest": {
                "title": "Rockstar restarts",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/705"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/705"
                    }
                },
                "id": 705
            },
            "content": {
                "raw": "`for l in open(restart_file)` should be sufficient to get rid of the `lines =` and `del lines`",
                "html": "<p><code>for l in open(restart_file)</code> should be sufficient to get rid of the <code>lines =</code> and <code>del lines</code></p>",
                "markup": "markdown"
            },
            "created_on": "2014-02-10T23:25:25.798683+00:00",
            "updated_on": "2014-02-10T23:25:25.806014+00:00",
            "inline": {
                "from": null,
                "path": "yt/analysis_modules/halo_finding/rockstar/rockstar.py",
                "to": 304
            },
            "id": 1209833
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/705/comments/1209838"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/705/_/diff#comment-1209838"
                }
            },
            "pullrequest": {
                "title": "Rockstar restarts",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/705"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/705"
                    }
                },
                "id": 705
            },
            "content": {
                "raw": "Thanks, @jwise77 -- other than two minor nits, LGTM.",
                "html": "<p>Thanks, <a href=\"/jwise77/\" rel=\"nofollow\" title=\"@jwise77\" class=\"mention\">John Wise</a> -- other than two minor nits, LGTM.</p>",
                "markup": "markdown"
            },
            "created_on": "2014-02-10T23:25:55.301753+00:00",
            "updated_on": "2014-02-10T23:25:55.317351+00:00",
            "id": 1209838
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/xarthisius"
                    },
                    "html": {
                        "href": "https://bitbucket.org/xarthisius/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/xarthisius/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Kacper Kowalik",
                "uuid": "{26af8f1d-35b3-46ce-9939-09915b06e31f}",
                "username": "xarthisius"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/705/comments/1229281"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/jwise77/yt:None..None?path=yt%2Fanalysis_modules%2Fhalo_finding%2Frockstar%2Frockstar.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/705/_/diff#comment-1229281"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/705/comments/1209833"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/705/_/diff#comment-1209833"
                    }
                },
                "id": 1209833
            },
            "pullrequest": {
                "title": "Rockstar restarts",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/705"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/705"
                    }
                },
                "id": 705
            },
            "content": {
                "raw": "\n```\n#!python\n\nwith open(restart_file) as restart_fh:\n    for l in restart_fh:\n```\nwould be even better ;-)",
                "html": "<div class=\"codehilite\"><pre><span></span><span class=\"k\">with</span> <span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"n\">restart_file</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">restart_fh</span><span class=\"p\">:</span>\n    <span class=\"k\">for</span> <span class=\"n\">l</span> <span class=\"ow\">in</span> <span class=\"n\">restart_fh</span><span class=\"p\">:</span>\n</pre></div>\n\n\n<p>would be even better ;-)</p>",
                "markup": "markdown"
            },
            "created_on": "2014-02-13T09:57:01.823152+00:00",
            "updated_on": "2014-02-13T09:57:01.835303+00:00",
            "inline": {
                "from": null,
                "path": "yt/analysis_modules/halo_finding/rockstar/rockstar.py",
                "to": null
            },
            "id": 1229281
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/jwise77"
                    },
                    "html": {
                        "href": "https://bitbucket.org/jwise77/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/jwise77/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "John Wise",
                "uuid": "{1268c7fc-4f69-4585-8c0c-960c8f6543f7}",
                "username": "jwise77"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/705/comments/1245063"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/705/_/diff#comment-1245063"
                }
            },
            "pullrequest": {
                "title": "Rockstar restarts",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/705"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/705"
                    }
                },
                "id": 705
            },
            "content": {
                "raw": "Thanks, @MatthewTurk and @xarthisius for the tips.  I've made these changes, but I've also included two other changesets. One works around issue #780 with \"all\" particles, and the other ignores particle HDF5 reference fields in Enzo, which caused crashes in v3.0.",
                "html": "<p>Thanks, <a href=\"/MatthewTurk/\" rel=\"nofollow\" title=\"@MatthewTurk\" class=\"mention\">Matthew Turk</a> and <a href=\"/xarthisius/\" rel=\"nofollow\" title=\"@xarthisius\" class=\"mention\">Kacper Kowalik</a> for the tips.  I've made these changes, but I've also included two other changesets. One works around issue <a href=\"/yt_analysis/yt/issues/780/particle-unions-getting-lost-in-timeseries\" rel=\"nofollow\" title=\"particle unions getting lost in TimeSeries Enzo data\"><s>#780</s></a> with \"all\" particles, and the other ignores particle HDF5 reference fields in Enzo, which caused crashes in v3.0.</p>",
                "markup": "markdown"
            },
            "created_on": "2014-02-17T00:01:03.634061+00:00",
            "updated_on": "2014-02-17T00:01:03.664118+00:00",
            "id": 1245063
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/705/comments/1245153"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/705/_/diff#comment-1245153"
                }
            },
            "pullrequest": {
                "title": "Rockstar restarts",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/705"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/705"
                    }
                },
                "id": 705
            },
            "content": {
                "raw": "All tests pass. Good job!",
                "html": "<p>All tests pass. Good job!</p>",
                "markup": "markdown"
            },
            "created_on": "2014-02-17T00:43:40.237343+00:00",
            "updated_on": "2014-02-17T00:43:40.345112+00:00",
            "id": 1245153
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/705/comments/1247185"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/705/_/diff#comment-1247185"
                }
            },
            "pullrequest": {
                "title": "Rockstar restarts",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/705"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/705"
                    }
                },
                "id": 705
            },
            "content": {
                "raw": "Looks good to me, John!  I'd like to make the checking of virtual particle types (unions and filters) a bit more natural in the future, so thank you for catching the \"all\" ptype.",
                "html": "<p>Looks good to me, John!  I'd like to make the checking of virtual particle types (unions and filters) a bit more natural in the future, so thank you for catching the \"all\" ptype.</p>",
                "markup": "markdown"
            },
            "created_on": "2014-02-17T10:52:32.840563+00:00",
            "updated_on": "2014-02-17T10:52:32.849121+00:00",
            "id": 1247185
        }
    ]
}