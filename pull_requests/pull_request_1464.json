{
    "reason": "Superseded by https://bitbucket.org/yt_analysis/yt/pull-requests/2346/fixing-ramses-time-values",
    "state": "DECLINED",
    "updated_on": "2016-08-26T21:30:38.729315+00:00",
    "comment_count": 0,
    "description": "The code RAMSES has been designed to take advantage of various patches. Which involve modifications to the main code itself to work with different physical aspects. For example, there is the RAMSES-RT code which also works with the physics of radiative transfer.\r\n\r\nWhat this PR contains at the moment is the required modifications to the RAMSES field backend to take into account of the fields in RAMSES-CH, a chemical evolution patch which myself and a collaborator often work with.\r\n\r\nI would like to extend this PR to include other RAMSES patches (e.g RT ) and maybe introduce a nice idea of being able to deal with multiple variants of the same code.\r\n\r\nEssentially. In this PR, if someone was wanting to load the RAMSES-CH fields from a RAMSES-CH snapshot, it would be as simple as doing.\r\n\r\n```\r\n#!python\r\n\r\n\r\nds = yt.load(\"output_01006/info_01006.txt\", patch=\"ch\")\r\n```\r\n\r\n\r\nThis will load the RAMSES-CH specific fields. Not including the patch will default to loading the original fields in the default way. This is the best way I can think of being able to load the relevant fields of popular RAMSES patches and I would like to extend it to include RAMSES-RT and any of the other codes. There is no trivial way of being able to identify the RAMSES variant so the best way is to allow for the user to tell YT what patch has been used\r\n",
    "created_on": "2015-02-19T18:25:50.037553+00:00",
    "task_count": 0,
    "merge_commit": null,
    "title": "[WIP] native reading of RAMSES patches ",
    "links": {
        "diff": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464/diff"
        },
        "decline": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464/decline"
        },
        "self": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464"
        },
        "activity": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464/activity"
        },
        "merge": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464/merge"
        },
        "commits": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464/commits"
        },
        "statuses": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464/statuses"
        },
        "approve": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464/approve"
        },
        "html": {
            "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1464"
        },
        "comments": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464/comments"
        }
    },
    "closed_by": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/cosmosquark"
            },
            "html": {
                "href": "https://bitbucket.org/cosmosquark/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/cosmosquark/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "Benjamin Thompson",
        "uuid": "{9e042959-0198-4a41-9f94-522b998130ed}",
        "username": "cosmosquark"
    },
    "id": 1464,
    "type": "pullrequest",
    "author": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/cosmosquark"
            },
            "html": {
                "href": "https://bitbucket.org/cosmosquark/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/cosmosquark/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "Benjamin Thompson",
        "uuid": "{9e042959-0198-4a41-9f94-522b998130ed}",
        "username": "cosmosquark"
    },
    "source": {
        "branch": {
            "name": "yt-ramses-patch"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/cosmosquark/yt-old/commit/77e1f80241ef"
                }
            },
            "hash": "77e1f80241ef"
        },
        "repository": {
            "full_name": "cosmosquark/yt-old",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/cosmosquark/yt-old"
                },
                "html": {
                    "href": "https://bitbucket.org/cosmosquark/yt-old"
                },
                "avatar": {
                    "href": "https://bitbucket.org/cosmosquark/yt-old/avatar/32/"
                }
            },
            "name": "yt-old",
            "uuid": "{3be7079e-4cb5-43fc-8abe-d5796c8e9786}"
        }
    },
    "close_source_branch": false,
    "destination": {
        "branch": {
            "name": "yt"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/c941aa457bc3"
                }
            },
            "hash": "c941aa457bc3"
        },
        "repository": {
            "full_name": "yt_analysis/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/yt_analysis/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{b73cb37c-40f2-493a-aaa9-41bc8d8974cc}"
        }
    },
    "comments": [
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464/comments/5237557"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1464/_/diff#comment-5237557"
                }
            },
            "pullrequest": {
                "title": "[WIP] native reading of RAMSES patches ",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1464"
                    }
                },
                "id": 1464
            },
            "content": {
                "raw": "Hey @cosmoquark I like this idea.  Can it be wrapped into the existing `field_list` functionality somehow?",
                "html": "<p>Hey @cosmoquark I like this idea.  Can it be wrapped into the existing <code>field_list</code> functionality somehow?</p>",
                "markup": "markdown"
            },
            "created_on": "2015-02-19T18:28:28.301607+00:00",
            "updated_on": "2015-02-19T18:28:28.313838+00:00",
            "id": 5237557
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/cosmosquark"
                    },
                    "html": {
                        "href": "https://bitbucket.org/cosmosquark/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/cosmosquark/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Ben Thompson",
                "uuid": "{9e042959-0198-4a41-9f94-522b998130ed}",
                "username": "cosmosquark"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464/comments/5237682"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/cosmosquark/yt-old:d262b89b1ef7..a209cabb1b8a?path=yt%2Ffrontends%2Framses%2Fio.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1464/_/diff#comment-5237682"
                }
            },
            "pullrequest": {
                "title": "[WIP] native reading of RAMSES patches ",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1464"
                    }
                },
                "id": 1464
            },
            "content": {
                "raw": "Just realised that this is a relic of an older version :/",
                "html": "<p>Just realised that this is a relic of an older version :/</p>",
                "markup": "markdown"
            },
            "created_on": "2015-02-19T18:34:38.731250+00:00",
            "updated_on": "2015-02-19T18:34:38.768101+00:00",
            "inline": {
                "from": null,
                "path": "yt/frontends/ramses/io.py",
                "to": 40
            },
            "id": 5237682
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/cosmosquark"
                    },
                    "html": {
                        "href": "https://bitbucket.org/cosmosquark/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/cosmosquark/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Ben Thompson",
                "uuid": "{9e042959-0198-4a41-9f94-522b998130ed}",
                "username": "cosmosquark"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464/comments/5237754"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1464/_/diff#comment-5237754"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464/comments/5237557"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1464/_/diff#comment-5237557"
                    }
                },
                "id": 5237557
            },
            "pullrequest": {
                "title": "[WIP] native reading of RAMSES patches ",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1464"
                    }
                },
                "id": 1464
            },
            "content": {
                "raw": "I will look into that soon.\n\nAnd thanks. figured it would be the best way to handle multiple variants of the same code, I should credit @brittonsmith for helping make an earlier version of this code back in November",
                "html": "<p>I will look into that soon.</p>\n<p>And thanks. figured it would be the best way to handle multiple variants of the same code, I should credit <a href=\"/brittonsmith/\" rel=\"nofollow\" title=\"@brittonsmith\" class=\"mention\">Britton Smith</a> for helping make an earlier version of this code back in November</p>",
                "markup": "markdown"
            },
            "created_on": "2015-02-19T18:37:33.092037+00:00",
            "updated_on": "2015-02-19T18:37:33.138490+00:00",
            "id": 5237754
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/cosmosquark"
                    },
                    "html": {
                        "href": "https://bitbucket.org/cosmosquark/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/cosmosquark/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Ben Thompson",
                "uuid": "{9e042959-0198-4a41-9f94-522b998130ed}",
                "username": "cosmosquark"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464/comments/5237784"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1464/_/diff#comment-5237784"
                }
            },
            "pullrequest": {
                "title": "[WIP] native reading of RAMSES patches ",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1464"
                    }
                },
                "id": 1464
            },
            "content": {
                "raw": "FYI if I recall, the RT (radiative transfer) version dumps an additional file as well.. Might see if I can get a hold of a RAMSES-RT output (or at least ask someone to provide me with the logic on how to read it in)",
                "html": "<p>FYI if I recall, the RT (radiative transfer) version dumps an additional file as well.. Might see if I can get a hold of a RAMSES-RT output (or at least ask someone to provide me with the logic on how to read it in)</p>",
                "markup": "markdown"
            },
            "created_on": "2015-02-19T18:38:42.872360+00:00",
            "updated_on": "2015-02-19T18:38:42.911303+00:00",
            "id": 5237784
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464/comments/5239300"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1464/_/diff#comment-5239300"
                }
            },
            "pullrequest": {
                "title": "[WIP] native reading of RAMSES patches ",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1464"
                    }
                },
                "id": 1464
            },
            "content": {
                "raw": "All tests pass. Good job!",
                "html": "<p>All tests pass. Good job!</p>",
                "markup": "markdown"
            },
            "created_on": "2015-02-19T19:42:55.773213+00:00",
            "updated_on": "2015-02-19T19:42:55.816546+00:00",
            "id": 5239300
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464/comments/5240900"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1464/_/diff#comment-5240900"
                }
            },
            "pullrequest": {
                "title": "[WIP] native reading of RAMSES patches ",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1464"
                    }
                },
                "id": 1464
            },
            "content": {
                "raw": "All tests pass. Good job!",
                "html": "<p>All tests pass. Good job!</p>",
                "markup": "markdown"
            },
            "created_on": "2015-02-19T20:55:58.005615+00:00",
            "updated_on": "2015-02-19T20:55:58.047113+00:00",
            "id": 5240900
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/cosmosquark"
                    },
                    "html": {
                        "href": "https://bitbucket.org/cosmosquark/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/cosmosquark/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Ben Thompson",
                "uuid": "{9e042959-0198-4a41-9f94-522b998130ed}",
                "username": "cosmosquark"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464/comments/5252066"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1464/_/diff#comment-5252066"
                }
            },
            "pullrequest": {
                "title": "[WIP] native reading of RAMSES patches ",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1464"
                    }
                },
                "id": 1464
            },
            "content": {
                "raw": "I have sent a mail to the users list. I think I might be able to get some help on the RT patch by @dsullivan_sussex \n\nI invite any other RAMSES users to fork this branch and submit a PR to this branch. @samgeen (and anyone else I have missed), this may be of interest. ",
                "html": "<p>I have sent a mail to the users list. I think I might be able to get some help on the RT patch by <a href=\"/dsullivan_sussex/\" rel=\"nofollow\" title=\"@dsullivan_sussex\" class=\"mention\">David Sullivan</a> </p>\n<p>I invite any other RAMSES users to fork this branch and submit a PR to this branch. <a href=\"/samgeen/\" rel=\"nofollow\" title=\"@samgeen\" class=\"mention\">samgeen</a> (and anyone else I have missed), this may be of interest. </p>",
                "markup": "markdown"
            },
            "created_on": "2015-02-20T12:16:23.550577+00:00",
            "updated_on": "2015-02-20T12:16:23.616255+00:00",
            "id": 5252066
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/samgeen"
                    },
                    "html": {
                        "href": "https://bitbucket.org/samgeen/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/samgeen/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "samgeen",
                "uuid": "{661e1d27-bd6c-4370-bcc5-760b030335a0}",
                "username": "samgeen"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464/comments/5252289"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1464/_/diff#comment-5252289"
                }
            },
            "pullrequest": {
                "title": "[WIP] native reading of RAMSES patches ",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1464"
                    }
                },
                "id": 1464
            },
            "content": {
                "raw": "Hi @cosmosquark ,\n\nThis is a nice approach to the issue!\n1) There are various patches that create new files with either particle or hydro structures - e.g. the sinks module creates a sink file, and the RT module creates rt files (as well as adding variables to the hydro file). I think last time I checked the frontend was hard-coded to only accept either hydro or part files, so this could be something to check.\n2) We may still have to be a little careful if people are using more than one patch as to which order the variables are written in, although in this case it might be easier if users write their own field list. Pymses's approach is to load a dictionary of fields for each file type, which works fairly well: http://irfu.cea.fr/Projets/PYMSES/ug_formats.html",
                "html": "<p>Hi <a href=\"/cosmosquark/\" rel=\"nofollow\" title=\"@cosmosquark\" class=\"mention\">Ben Thompson</a> ,</p>\n<p>This is a nice approach to the issue!\n1) There are various patches that create new files with either particle or hydro structures - e.g. the sinks module creates a sink file, and the RT module creates rt files (as well as adding variables to the hydro file). I think last time I checked the frontend was hard-coded to only accept either hydro or part files, so this could be something to check.\n2) We may still have to be a little careful if people are using more than one patch as to which order the variables are written in, although in this case it might be easier if users write their own field list. Pymses's approach is to load a dictionary of fields for each file type, which works fairly well: <a href=\"http://irfu.cea.fr/Projets/PYMSES/ug_formats.html\" rel=\"nofollow\">http://irfu.cea.fr/Projets/PYMSES/ug_formats.html</a></p>",
                "markup": "markdown"
            },
            "created_on": "2015-02-20T12:27:50.559746+00:00",
            "updated_on": "2015-02-20T12:27:50.719967+00:00",
            "id": 5252289
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/cosmosquark"
                    },
                    "html": {
                        "href": "https://bitbucket.org/cosmosquark/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/cosmosquark/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Ben Thompson",
                "uuid": "{9e042959-0198-4a41-9f94-522b998130ed}",
                "username": "cosmosquark"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464/comments/5269090"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1464/_/diff#comment-5269090"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464/comments/5252289"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1464/_/diff#comment-5252289"
                    }
                },
                "id": 5252289
            },
            "pullrequest": {
                "title": "[WIP] native reading of RAMSES patches ",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1464"
                    }
                },
                "id": 1464
            },
            "content": {
                "raw": "Hi Sam.\n\nThanks for your feedback.\n\n1) Yes I believe that the frontend right now only accepts the hydro and particle files. I think for the sink and the RT modules we could run something to check for the existance of those files (i.e if a patch keyword argument is not supplied, then it will check for the RT file, and if that exists, then it will add the RT hydro fields to the list and load in the fields from the RT file. Likewise with the sink module too.\n\n2) Yeah I agree, I like how Pymses does that. I am going to encounter a similar problem with this PR as it stands in the future. RAMSES-CH is not public right not but there is intention (I believe) to make RAMSES-CH2 public somewhere down the line, which will be designed to support more elements + customise how many elements you will want to work with (so either lots of very few hydro fields). I agree that it will be impossible to determine all the possible combinations of patches, both internally and externally so maybe the ability to look for a ramses_field_list in a config file, which could be overwritten by the submission of a keyword argument in the yt.load() method which contains a list of the additional hydro and particle fields. But at the same time, if that is not provided, then YT could try and \"guess\" what fields to load based from the submission of the patch keyword argument (e.g patch=ch would load the RAMSES-CH fields). In brief, have some \"pre-built\" field lists which are selected with the use of the patch keyword as well as allow the user to provide extra fields in a config file or kwarg submission.",
                "html": "<p>Hi Sam.</p>\n<p>Thanks for your feedback.</p>\n<p>1) Yes I believe that the frontend right now only accepts the hydro and particle files. I think for the sink and the RT modules we could run something to check for the existance of those files (i.e if a patch keyword argument is not supplied, then it will check for the RT file, and if that exists, then it will add the RT hydro fields to the list and load in the fields from the RT file. Likewise with the sink module too.</p>\n<p>2) Yeah I agree, I like how Pymses does that. I am going to encounter a similar problem with this PR as it stands in the future. RAMSES-CH is not public right not but there is intention (I believe) to make RAMSES-CH2 public somewhere down the line, which will be designed to support more elements + customise how many elements you will want to work with (so either lots of very few hydro fields). I agree that it will be impossible to determine all the possible combinations of patches, both internally and externally so maybe the ability to look for a ramses_field_list in a config file, which could be overwritten by the submission of a keyword argument in the yt.load() method which contains a list of the additional hydro and particle fields. But at the same time, if that is not provided, then YT could try and \"guess\" what fields to load based from the submission of the patch keyword argument (e.g patch=ch would load the RAMSES-CH fields). In brief, have some \"pre-built\" field lists which are selected with the use of the patch keyword as well as allow the user to provide extra fields in a config file or kwarg submission.</p>",
                "markup": "markdown"
            },
            "created_on": "2015-02-21T15:57:33.223097+00:00",
            "updated_on": "2015-02-21T15:59:01.462533+00:00",
            "id": 5269090
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464/comments/6545713"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1464/_/diff#comment-6545713"
                }
            },
            "pullrequest": {
                "title": "[WIP] native reading of RAMSES patches ",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1464"
                    }
                },
                "id": 1464
            },
            "content": {
                "raw": "@cosmosquark Having looked this over a bit, I think that `field_aliases` would work for this in some cases.  Can you look at that functionality?",
                "html": "<p><a href=\"/cosmosquark/\" rel=\"nofollow\" title=\"@cosmosquark\" class=\"mention\">Ben Thompson</a> Having looked this over a bit, I think that <code>field_aliases</code> would work for this in some cases.  Can you look at that functionality?</p>",
                "markup": "markdown"
            },
            "created_on": "2015-04-28T20:22:59.091761+00:00",
            "updated_on": "2015-04-28T20:22:59.148864+00:00",
            "id": 6545713
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/cosmosquark"
                    },
                    "html": {
                        "href": "https://bitbucket.org/cosmosquark/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/cosmosquark/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Ben Thompson",
                "uuid": "{9e042959-0198-4a41-9f94-522b998130ed}",
                "username": "cosmosquark"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464/comments/6663236"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1464/_/diff#comment-6663236"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464/comments/6545713"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1464/_/diff#comment-6545713"
                    }
                },
                "id": 6545713
            },
            "pullrequest": {
                "title": "[WIP] native reading of RAMSES patches ",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1464"
                    }
                },
                "id": 1464
            },
            "content": {
                "raw": "Yes I shall. In some cases, probably more specifically for that of RAMSES-CH that would be something important to look at.\n\nI *believe* RAMSES-RT generates another file containing radiative transfer infomation. I am going to try and get hold of a spare RAMSES-RT snapshot so it can be included within the \"patch\" framework I am proposing here.",
                "html": "<p>Yes I shall. In some cases, probably more specifically for that of RAMSES-CH that would be something important to look at.</p>\n<p>I <em>believe</em> RAMSES-RT generates another file containing radiative transfer infomation. I am going to try and get hold of a spare RAMSES-RT snapshot so it can be included within the \"patch\" framework I am proposing here.</p>",
                "markup": "markdown"
            },
            "created_on": "2015-05-05T14:47:19.705098+00:00",
            "updated_on": "2015-05-05T14:47:19.786260+00:00",
            "id": 6663236
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/samgeen"
                    },
                    "html": {
                        "href": "https://bitbucket.org/samgeen/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/samgeen/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "samgeen",
                "uuid": "{661e1d27-bd6c-4370-bcc5-760b030335a0}",
                "username": "samgeen"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464/comments/6663338"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1464/_/diff#comment-6663338"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464/comments/6663236"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1464/_/diff#comment-6663236"
                    }
                },
                "id": 6663236
            },
            "pullrequest": {
                "title": "[WIP] native reading of RAMSES patches ",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1464"
                    }
                },
                "id": 1464
            },
            "content": {
                "raw": "Hi Ben, Matthew - this is correct, RAMSES-RT generates a \"rt_\" file - the ionisation fraction is in hydro_ but the other properties are in rt_ (which has the same general structure as hydro_). I'll try to upload an example file, ping me if I forget. I can also provide a file with both RT and MHD in the same output if you like.",
                "html": "<p>Hi Ben, Matthew - this is correct, RAMSES-RT generates a \"rt_\" file - the ionisation fraction is in hydro_ but the other properties are in rt_ (which has the same general structure as hydro_). I'll try to upload an example file, ping me if I forget. I can also provide a file with both RT and MHD in the same output if you like.</p>",
                "markup": "markdown"
            },
            "created_on": "2015-05-05T14:51:00.365189+00:00",
            "updated_on": "2015-05-05T14:51:00.432652+00:00",
            "id": 6663338
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/cosmosquark"
                    },
                    "html": {
                        "href": "https://bitbucket.org/cosmosquark/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/cosmosquark/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Ben Thompson",
                "uuid": "{9e042959-0198-4a41-9f94-522b998130ed}",
                "username": "cosmosquark"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464/comments/6663693"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1464/_/diff#comment-6663693"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464/comments/6663338"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1464/_/diff#comment-6663338"
                    }
                },
                "id": 6663338
            },
            "pullrequest": {
                "title": "[WIP] native reading of RAMSES patches ",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1464"
                    }
                },
                "id": 1464
            },
            "content": {
                "raw": "That would speed things up for me. Please do so.\n\nI will look into the field alias too, but I suspect supporting the most common field combinations (e.g 3D, with or with out MHD, and the standard fields for the standard patches) would be the best approach.. and whatever is included in the field alias file will be appended to the field list.\n\nBen.",
                "html": "<p>That would speed things up for me. Please do so.</p>\n<p>I will look into the field alias too, but I suspect supporting the most common field combinations (e.g 3D, with or with out MHD, and the standard fields for the standard patches) would be the best approach.. and whatever is included in the field alias file will be appended to the field list.</p>\n<p>Ben.</p>",
                "markup": "markdown"
            },
            "created_on": "2015-05-05T15:01:30.797548+00:00",
            "updated_on": "2015-05-05T15:01:30.872473+00:00",
            "id": 6663693
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/samgeen"
                    },
                    "html": {
                        "href": "https://bitbucket.org/samgeen/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/samgeen/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "samgeen",
                "uuid": "{661e1d27-bd6c-4370-bcc5-760b030335a0}",
                "username": "samgeen"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464/comments/6663842"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1464/_/diff#comment-6663842"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464/comments/6663693"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1464/_/diff#comment-6663693"
                    }
                },
                "id": 6663693
            },
            "pullrequest": {
                "title": "[WIP] native reading of RAMSES patches ",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1464"
                    }
                },
                "id": 1464
            },
            "content": {
                "raw": "For the MHD/RT module, here's the field list (taken from my pymses code) for the hydro_ file. The B-left and B-right are the B-fields at the cell faces; just average them to find the cell-centred value. The rt_ file is unchanged by the MHD module. I'll get to uploading the data now, although it might take some time if I have to copy it to my laptop and back.\n\n---\n\nself.amr_field_descrs_by_file = \\\n    {\n    \"3D\": {\"hydro\" : [ Scalar(\"rho\", 0), Vector(\"vel\", [1, 2, 3]), \n                       Vector(\"B-left\", [4, 5, 6]), \n                       Vector(\"B-right\", [7, 8, 9]), \n                       Scalar(\"P\", 10),\n                       Scalar(\"xHII\",11), Scalar(\"xHeII\",12), Scalar(\"xHeIII\",13)]\n           }\n    }\n",
                "html": "<p>For the MHD/RT module, here's the field list (taken from my pymses code) for the hydro_ file. The B-left and B-right are the B-fields at the cell faces; just average them to find the cell-centred value. The rt_ file is unchanged by the MHD module. I'll get to uploading the data now, although it might take some time if I have to copy it to my laptop and back.</p>\n<hr />\n<p>self.amr_field_descrs_by_file = \\\n    {\n    \"3D\": {\"hydro\" : [ Scalar(\"rho\", 0), Vector(\"vel\", [1, 2, 3]), \n                       Vector(\"B-left\", [4, 5, 6]), \n                       Vector(\"B-right\", [7, 8, 9]), \n                       Scalar(\"P\", 10),\n                       Scalar(\"xHII\",11), Scalar(\"xHeII\",12), Scalar(\"xHeIII\",13)]\n           }\n    }</p>",
                "markup": "markdown"
            },
            "created_on": "2015-05-05T15:05:18.955613+00:00",
            "updated_on": "2015-05-05T15:05:19.036158+00:00",
            "id": 6663842
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/samgeen"
                    },
                    "html": {
                        "href": "https://bitbucket.org/samgeen/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/samgeen/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "samgeen",
                "uuid": "{661e1d27-bd6c-4370-bcc5-760b030335a0}",
                "username": "samgeen"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464/comments/6664318"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1464/_/diff#comment-6664318"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464/comments/6663693"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1464/_/diff#comment-6663693"
                    }
                },
                "id": 6663693
            },
            "pullrequest": {
                "title": "[WIP] native reading of RAMSES patches ",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1464"
                    }
                },
                "id": 1464
            },
            "content": {
                "raw": "OK, files uploading now to dropbox: \n\nhttps://dl.dropboxusercontent.com/u/4926754/justrt.zip\n\nhttps://dl.dropboxusercontent.com/u/4926754/mhdrt.zip\n\njustrt.zip is an ionisation front propagating from the corner of the box. mhdrt.zip shouldn't have any photons in it (it's the initial conditions of a MHD RT simulation) but is set up with a vertical magnetic field, sphere and velocity field. There's also self-gravity if you want to read that as well. No particles.\n\n \nThey're 200-300MB apiece. justrt.zip is done and mhdrt.zip should be done shortly.\n\nEDIT: mhdrt.zip is now also up. Let me know if you have problems reading them!",
                "html": "<p>OK, files uploading now to dropbox: </p>\n<p><a href=\"https://dl.dropboxusercontent.com/u/4926754/justrt.zip\" rel=\"nofollow\">https://dl.dropboxusercontent.com/u/4926754/justrt.zip</a></p>\n<p><a href=\"https://dl.dropboxusercontent.com/u/4926754/mhdrt.zip\" rel=\"nofollow\">https://dl.dropboxusercontent.com/u/4926754/mhdrt.zip</a></p>\n<p>justrt.zip is an ionisation front propagating from the corner of the box. mhdrt.zip shouldn't have any photons in it (it's the initial conditions of a MHD RT simulation) but is set up with a vertical magnetic field, sphere and velocity field. There's also self-gravity if you want to read that as well. No particles.</p>\n<p>They're 200-300MB apiece. justrt.zip is done and mhdrt.zip should be done shortly.</p>\n<p>EDIT: mhdrt.zip is now also up. Let me know if you have problems reading them!</p>",
                "markup": "markdown"
            },
            "created_on": "2015-05-05T15:16:50.667598+00:00",
            "updated_on": "2015-05-05T15:22:12.245963+00:00",
            "id": 6664318
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/cosmosquark"
                    },
                    "html": {
                        "href": "https://bitbucket.org/cosmosquark/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/cosmosquark/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Ben Thompson",
                "uuid": "{9e042959-0198-4a41-9f94-522b998130ed}",
                "username": "cosmosquark"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464/comments/6695273"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1464/_/diff#comment-6695273"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464/comments/6664318"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1464/_/diff#comment-6664318"
                    }
                },
                "id": 6664318
            },
            "pullrequest": {
                "title": "[WIP] native reading of RAMSES patches ",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1464"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1464"
                    }
                },
                "id": 1464
            },
            "content": {
                "raw": "Thanks.\n\nNext time I get a spare few hours, I will take a look at this :). Most likely this weekend.\n\nBen.",
                "html": "<p>Thanks.</p>\n<p>Next time I get a spare few hours, I will take a look at this :). Most likely this weekend.</p>\n<p>Ben.</p>",
                "markup": "markdown"
            },
            "created_on": "2015-05-06T16:07:02.020227+00:00",
            "updated_on": "2015-05-06T16:07:17.558576+00:00",
            "id": 6695273
        }
    ]
}