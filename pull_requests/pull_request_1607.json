{
    "reason": "Integrated with other PR",
    "state": "DECLINED",
    "updated_on": "2015-06-19T21:51:13.287079+00:00",
    "comment_count": 5,
    "description": "Instead of just adding a predetermined list of fields to the halo catalog by default, we can now add all fields present in a halo ds. For rockstar this means all the fields rockstar finds will be added. For hop and fof, this means that we can now view velocity information (bulk and rms).\r\n\r\nThis PR will be needed eventually for PR 1516.\r\n\r\n[Take 2, this time hopefully without screwing up with hg]",
    "created_on": "2015-06-02T16:58:50.737692+00:00",
    "task_count": 0,
    "merge_commit": null,
    "title": "[Minor Enhancement] Adding all fields from halos_ds to the halo catalog",
    "links": {
        "diff": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1607/diff"
        },
        "decline": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1607/decline"
        },
        "self": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1607"
        },
        "activity": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1607/activity"
        },
        "merge": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1607/merge"
        },
        "commits": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1607/commits"
        },
        "statuses": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1607/statuses"
        },
        "approve": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1607/approve"
        },
        "html": {
            "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1607"
        },
        "comments": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1607/comments"
        }
    },
    "closed_by": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/hegan"
            },
            "html": {
                "href": "https://bitbucket.org/hegan/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/hegan/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "Hilary Egan",
        "uuid": "{56ad7d6a-d009-4fc5-ad4f-2c4a93fb844f}",
        "username": "hegan"
    },
    "id": 1607,
    "type": "pullrequest",
    "author": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/hegan"
            },
            "html": {
                "href": "https://bitbucket.org/hegan/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/hegan/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "Hilary Egan",
        "uuid": "{56ad7d6a-d009-4fc5-ad4f-2c4a93fb844f}",
        "username": "hegan"
    },
    "source": {
        "branch": {
            "name": "yt"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/hegan/yt/commit/2b470a9454ab"
                }
            },
            "hash": "2b470a9454ab"
        },
        "repository": {
            "full_name": "hegan/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/hegan/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/hegan/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/hegan/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{8166f89d-6aca-4979-8cad-7dd933c97630}"
        }
    },
    "close_source_branch": false,
    "destination": {
        "branch": {
            "name": "yt"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/dc2467c4eae7"
                }
            },
            "hash": "dc2467c4eae7"
        },
        "repository": {
            "full_name": "yt_analysis/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/yt_analysis/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{b73cb37c-40f2-493a-aaa9-41bc8d8974cc}"
        }
    },
    "comments": [
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1607/comments/7252930"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1607/_/diff#comment-7252930"
                }
            },
            "pullrequest": {
                "title": "[Minor Enhancement] Adding all fields from halos_ds to the halo catalog",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1607"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1607"
                    }
                },
                "id": 1607
            },
            "content": {
                "raw": "All tests pass. Good job!",
                "html": "<p>All tests pass. Good job!</p>",
                "markup": "markdown"
            },
            "created_on": "2015-06-02T17:43:53.286608+00:00",
            "updated_on": "2015-06-02T17:43:53.425406+00:00",
            "id": 7252930
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/chummels"
                    },
                    "html": {
                        "href": "https://bitbucket.org/chummels/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/chummels/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Cameron Hummels",
                "uuid": "{de871bb8-32e9-450a-b8c9-2b49a1334f16}",
                "username": "chummels"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1607/comments/7255116"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1607/_/diff#comment-7255116"
                }
            },
            "pullrequest": {
                "title": "[Minor Enhancement] Adding all fields from halos_ds to the halo catalog",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1607"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1607"
                    }
                },
                "id": 1607
            },
            "content": {
                "raw": "Hey @hegan , isn't this going to make the halo objects unwieldy because they could get too big with all of the fields present?  I thought we wanted the halo objects to be portable and relatively compact, but maybe I'm off on this assessment.  What do people think?  I just fear that we may have memory issues if we have 1e6 halos identified and each one has 1e2 fields associated with it.  Oh, but I see you're only using the frontend-defined fields and not all the derived fields.  So then halo objects will be somewhat frontend dependent?  Or in this case is the frontend just rockstar?  Sorry for my confusion here.",
                "html": "<p>Hey <a href=\"/hegan/\" rel=\"nofollow\" title=\"@hegan\" class=\"mention\">Hilary Egan</a> , isn't this going to make the halo objects unwieldy because they could get too big with all of the fields present?  I thought we wanted the halo objects to be portable and relatively compact, but maybe I'm off on this assessment.  What do people think?  I just fear that we may have memory issues if we have 1e6 halos identified and each one has 1e2 fields associated with it.  Oh, but I see you're only using the frontend-defined fields and not all the derived fields.  So then halo objects will be somewhat frontend dependent?  Or in this case is the frontend just rockstar?  Sorry for my confusion here.</p>",
                "markup": "markdown"
            },
            "created_on": "2015-06-02T19:07:01.520683+00:00",
            "updated_on": "2015-06-02T19:07:01.541679+00:00",
            "id": 7255116
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/hegan"
                    },
                    "html": {
                        "href": "https://bitbucket.org/hegan/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/hegan/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Hilary Egan",
                "uuid": "{56ad7d6a-d009-4fc5-ad4f-2c4a93fb844f}",
                "username": "hegan"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1607/comments/7255551"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1607/_/diff#comment-7255551"
                }
            },
            "pullrequest": {
                "title": "[Minor Enhancement] Adding all fields from halos_ds to the halo catalog",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1607"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1607"
                    }
                },
                "id": 1607
            },
            "content": {
                "raw": "Oh whoops, I should have been more explicit it what I meant by adding all fields present! Every halo catalog has a halos_ds object which you can either load explicitly (from a past halo catalog) or create on the fly through fof/hop/rockstar. The fields present in an explicitly loaded halo catalog are just whatever you saved out. The fields present in a rockstar halos_ds object are just all the fields that rockstar gives you about each halo (bulk velocity, rms velocity, ellipticity, etc.). The fields present in a fof/hop halos_ds are just what I pass into the stream dataset created in _parse_old_halo_list, namely just the position, radius, mass, bulk velocity and rms velocity, as calculated by fof/hop. \n\nI can certainly see the case for not wanting every field for 1e6 halos (rockstar does give you quite a number of fields), but if we don't add them in by default somewhere we throw out this information for all of them. By applying a quick halo filter, these quantities are only saved to disk for the halos that pass the filter so I think this still counts as a light-weight compromise. Also, I've had requests from a couple users that they want information that they used to be able to get from hop/rockstar to be available in the halo catalog.",
                "html": "<p>Oh whoops, I should have been more explicit it what I meant by adding all fields present! Every halo catalog has a halos_ds object which you can either load explicitly (from a past halo catalog) or create on the fly through fof/hop/rockstar. The fields present in an explicitly loaded halo catalog are just whatever you saved out. The fields present in a rockstar halos_ds object are just all the fields that rockstar gives you about each halo (bulk velocity, rms velocity, ellipticity, etc.). The fields present in a fof/hop halos_ds are just what I pass into the stream dataset created in _parse_old_halo_list, namely just the position, radius, mass, bulk velocity and rms velocity, as calculated by fof/hop. </p>\n<p>I can certainly see the case for not wanting every field for 1e6 halos (rockstar does give you quite a number of fields), but if we don't add them in by default somewhere we throw out this information for all of them. By applying a quick halo filter, these quantities are only saved to disk for the halos that pass the filter so I think this still counts as a light-weight compromise. Also, I've had requests from a couple users that they want information that they used to be able to get from hop/rockstar to be available in the halo catalog.</p>",
                "markup": "markdown"
            },
            "created_on": "2015-06-02T19:21:42.408215+00:00",
            "updated_on": "2015-06-02T19:22:06.728267+00:00",
            "id": 7255551
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1607/comments/7540486"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1607/_/diff#comment-7540486"
                }
            },
            "pullrequest": {
                "title": "[Minor Enhancement] Adding all fields from halos_ds to the halo catalog",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1607"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1607"
                    }
                },
                "id": 1607
            },
            "content": {
                "raw": "All tests pass. Good job!",
                "html": "<p>All tests pass. Good job!</p>",
                "markup": "markdown"
            },
            "created_on": "2015-06-15T19:45:02.234185+00:00",
            "updated_on": "2015-06-15T19:45:02.388622+00:00",
            "id": 7540486
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1607/comments/7541047"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1607/_/diff#comment-7541047"
                }
            },
            "pullrequest": {
                "title": "[Minor Enhancement] Adding all fields from halos_ds to the halo catalog",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1607"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1607"
                    }
                },
                "id": 1607
            },
            "content": {
                "raw": "Docs were built for this PR. See http://hub.yt:8080/job/yt_docs/60/",
                "html": "<p>Docs were built for this PR. See <a href=\"http://hub.yt:8080/job/yt_docs/60/\" rel=\"nofollow\">http://hub.yt:8080/job/yt_docs/60/</a></p>",
                "markup": "markdown"
            },
            "created_on": "2015-06-15T20:11:35.101142+00:00",
            "updated_on": "2015-06-15T20:11:35.171985+00:00",
            "id": 7541047
        }
    ]
}