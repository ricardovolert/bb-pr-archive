{
    "links": {
        "decline": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/583/decline"
        },
        "approve": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/583/approve"
        },
        "html": {
            "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/583"
        },
        "activity": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/583/activity"
        },
        "self": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/583"
        },
        "commits": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/583/commits"
        },
        "merge": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/583/merge"
        },
        "statuses": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/583/statuses"
        },
        "comments": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/583/comments"
        },
        "diff": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/583/diff"
        }
    },
    "task_count": 0,
    "source": {
        "repository": {
            "full_name": "devinsilvia/yt",
            "uuid": "{1a3c6300-9eb3-481c-939b-605e9176627b}",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/devinsilvia/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/devinsilvia/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/devinsilvia/yt/avatar/32/"
                }
            },
            "name": "yt"
        },
        "commit": {
            "hash": "64762b831371",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/devinsilvia/yt/commit/64762b831371"
                }
            }
        },
        "branch": {
            "name": "yt"
        }
    },
    "closed_by": {
        "username": "MatthewTurk",
        "type": "user",
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
            },
            "html": {
                "href": "https://bitbucket.org/MatthewTurk/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
            }
        },
        "display_name": "Matt Turk",
        "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}"
    },
    "title": "Fixing the time calculation in 'yt plot' for the command line.",
    "id": 583,
    "comment_count": 8,
    "created_on": "2013-08-30T22:48:53.948368+00:00",
    "merge_commit": null,
    "comments": [
        {
            "content": {
                "markup": "markdown",
                "raw": "Hmm, so I think this is due to frontend-to-frontend differences in how pf['years'] is interpreted.\n\nOn galaxy0030:\n\n```\nIn [1]: print pf['years']\n73816133039.3\n```\n\non GasSloshing/sloshing_nomag2_hdf5_plt_cnt_0150:\n\n```\nIn [1]: print pf['years']\n3.1688087814e-08\n```\n",
                "html": "<p>Hmm, so I think this is due to frontend-to-frontend differences in how pf['years'] is interpreted.</p>\n<p>On galaxy0030:</p>\n<div class=\"codehilite\"><pre><span></span>In [1]: print pf[&#39;years&#39;]\n73816133039.3\n</pre></div>\n\n\n<p>on GasSloshing/sloshing_nomag2_hdf5_plt_cnt_0150:</p>\n<div class=\"codehilite\"><pre><span></span>In [1]: print pf[&#39;years&#39;]\n3.1688087814e-08\n</pre></div>"
            },
            "user": {
                "username": "ngoldbaum",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/583/comments/519473"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/583/_/diff#comment-519473"
                }
            },
            "created_on": "2013-08-30T22:55:40.392260+00:00",
            "updated_on": "2013-08-30T22:55:40.400295+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/583"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/583"
                    }
                },
                "title": "Fixing the time calculation in 'yt plot' for the command line.",
                "id": 583
            },
            "type": "pullrequest_comment",
            "id": 519473
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Hmm... is there consistent time unit that works across frontends?",
                "html": "<p>Hmm... is there consistent time unit that works across frontends?</p>"
            },
            "user": {
                "username": "devinsilvia",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/devinsilvia"
                    },
                    "html": {
                        "href": "https://bitbucket.org/devinsilvia/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/devinsilvia/avatar/32/"
                    }
                },
                "display_name": "Devin Silvia",
                "uuid": "{de10a23c-34a0-4f76-a031-b5ec3b2a34db}"
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/583/comments/519473"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/583/_/diff#comment-519473"
                    }
                },
                "id": 519473
            },
            "created_on": "2013-08-30T23:04:19.084010+00:00",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/583/comments/519476"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/583/_/diff#comment-519476"
                }
            },
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/583"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/583"
                    }
                },
                "title": "Fixing the time calculation in 'yt plot' for the command line.",
                "id": 583
            },
            "type": "pullrequest_comment",
            "id": 519476,
            "updated_on": "2013-08-30T23:04:19.264792+00:00"
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "pf['years'] is a conversion factor. My recollection is that one is supposed to be able to multiply all .current_time attributes by it to get current time in years. For those like Flash where it is already in seconds, this is different. However, I do also think enzo is not conformant to the yt standard, as .current_time for it is in code units, while I believe we otherwise try to set it to seconds.",
                "html": "<p>pf['years'] is a conversion factor. My recollection is that one is supposed to be able to multiply all .current_time attributes by it to get current time in years. For those like Flash where it is already in seconds, this is different. However, I do also think enzo is not conformant to the yt standard, as .current_time for it is in code units, while I believe we otherwise try to set it to seconds.</p>"
            },
            "user": {
                "username": "MatthewTurk",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "display_name": "Matt Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/583/comments/519479"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/583/_/diff#comment-519479"
                }
            },
            "created_on": "2013-08-30T23:13:04.111576+00:00",
            "updated_on": "2013-08-30T23:13:04.119161+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/583"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/583"
                    }
                },
                "title": "Fixing the time calculation in 'yt plot' for the command line.",
                "id": 583
            },
            "type": "pullrequest_comment",
            "id": 519479
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "pf['years'] is a conversion factor. My recollection is that one is supposed\nto be able to multiply all .current_time attributes by it to get current\ntime in years. For those like Flash where it is already in seconds, this is\ndifferent. However, I do also think enzo is not conformant to the yt\nstandard, as .current_time for it is in code units, while I believe we\notherwise try to set it to seconds.",
                "html": "<p>pf['years'] is a conversion factor. My recollection is that one is supposed\nto be able to multiply all .current_time attributes by it to get current\ntime in years. For those like Flash where it is already in seconds, this is\ndifferent. However, I do also think enzo is not conformant to the yt\nstandard, as .current_time for it is in code units, while I believe we\notherwise try to set it to seconds.</p>"
            },
            "user": {
                "username": "MatthewTurk",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "display_name": "Matt Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}"
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/583/comments/519476"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/583/_/diff#comment-519476"
                    }
                },
                "id": 519476
            },
            "created_on": "2013-08-30T23:15:06.349562+00:00",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/583/comments/519480"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/583/_/diff#comment-519480"
                }
            },
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/583"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/583"
                    }
                },
                "title": "Fixing the time calculation in 'yt plot' for the command line.",
                "id": 583
            },
            "type": "pullrequest_comment",
            "id": 519480,
            "updated_on": "2013-08-30T23:15:06.383769+00:00"
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "So, is there a clear solution to this or does there need to be an across the board decision on how to handle time for all codes, first?  Is this just a matter of tweaking things in the various frontends to make things consistent for the user once the data is loaded in?",
                "html": "<p>So, is there a clear solution to this or does there need to be an across the board decision on how to handle time for all codes, first?  Is this just a matter of tweaking things in the various frontends to make things consistent for the user once the data is loaded in?</p>"
            },
            "user": {
                "username": "devinsilvia",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/devinsilvia"
                    },
                    "html": {
                        "href": "https://bitbucket.org/devinsilvia/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/devinsilvia/avatar/32/"
                    }
                },
                "display_name": "Devin Silvia",
                "uuid": "{de10a23c-34a0-4f76-a031-b5ec3b2a34db}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/583/comments/522618"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/583/_/diff#comment-522618"
                }
            },
            "created_on": "2013-09-02T12:32:46.249619+00:00",
            "updated_on": "2013-09-02T12:32:46.364288+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/583"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/583"
                    }
                },
                "title": "Fixing the time calculation in 'yt plot' for the command line.",
                "id": 583
            },
            "type": "pullrequest_comment",
            "id": 522618
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "I took a closer look at this and I think Matt is right and the current code is wrong.  FLASH is already in CGS units, so `pf['Time'] = 1.0`. In Enzo, pf['years'] already includes the conversion factor from code units to CGS, so multiplying by `pf['Time']` again is simply incorrect.\n\nThanks for the fix Devin!",
                "html": "<p>I took a closer look at this and I think Matt is right and the current code is wrong.  FLASH is already in CGS units, so <code>pf['Time'] = 1.0</code>. In Enzo, pf['years'] already includes the conversion factor from code units to CGS, so multiplying by <code>pf['Time']</code> again is simply incorrect.</p>\n<p>Thanks for the fix Devin!</p>"
            },
            "user": {
                "username": "ngoldbaum",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}"
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/583/comments/522618"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/583/_/diff#comment-522618"
                    }
                },
                "id": 522618
            },
            "created_on": "2013-09-02T20:57:04.599622+00:00",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/583/comments/523510"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/583/_/diff#comment-523510"
                }
            },
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/583"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/583"
                    }
                },
                "title": "Fixing the time calculation in 'yt plot' for the command line.",
                "id": 583
            },
            "type": "pullrequest_comment",
            "id": 523510,
            "updated_on": "2013-09-02T20:57:04.607849+00:00"
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Looking at the 3.0 codebase, it does look like there's some code-to-code variation:\n\n```\n./flash/data_structures.py:\n  464 :         self.current_time = self.parameters[\"time\"]\n./gdf/data_structures.py:\n  255 :         self.current_time = sp[\"current_time\"]\n./orion/data_structures.py:\n  605 :         self.current_time = float(lines[3+n_fields])\n./ramses/data_structures.py:\n  459 :         self.current_time = self.parameters['time'] * self.parameters['unit_t']\n./sph/data_structures.py:\n  216 :             self.current_time = hvals[\"Time\"] * sec_conversion[\"Gyr\"]\n  224 :             self.current_time = cosmo.UniverseAge(self.current_redshift)\n  298 :         self.current_time = hvals[\"Time_GYR\"] * sec_conversion[\"Gyr\"]\n  883 :         self.current_time = self.parameters[\"InitialTime\"]\n./art/data_structures.py:\n  425 :         self.current_time = b2t(self.parameters['t']) * sec_per_Gyr\n./artio/data_structures.py:\n  570 :         self.current_time = b2t(self.artio_parameters[\"tl\"][0])\n```\n\nIt's well beyond the scope of this PR to do so, but I think this will need to be standardized.",
                "html": "<p>Looking at the 3.0 codebase, it does look like there's some code-to-code variation:</p>\n<div class=\"codehilite\"><pre><span></span>./flash/data_structures.py:\n  464 :         self.current_time = self.parameters[&quot;time&quot;]\n./gdf/data_structures.py:\n  255 :         self.current_time = sp[&quot;current_time&quot;]\n./orion/data_structures.py:\n  605 :         self.current_time = float(lines[3+n_fields])\n./ramses/data_structures.py:\n  459 :         self.current_time = self.parameters[&#39;time&#39;] * self.parameters[&#39;unit_t&#39;]\n./sph/data_structures.py:\n  216 :             self.current_time = hvals[&quot;Time&quot;] * sec_conversion[&quot;Gyr&quot;]\n  224 :             self.current_time = cosmo.UniverseAge(self.current_redshift)\n  298 :         self.current_time = hvals[&quot;Time_GYR&quot;] * sec_conversion[&quot;Gyr&quot;]\n  883 :         self.current_time = self.parameters[&quot;InitialTime&quot;]\n./art/data_structures.py:\n  425 :         self.current_time = b2t(self.parameters[&#39;t&#39;]) * sec_per_Gyr\n./artio/data_structures.py:\n  570 :         self.current_time = b2t(self.artio_parameters[&quot;tl&quot;][0])\n</pre></div>\n\n\n<p>It's well beyond the scope of this PR to do so, but I think this will need to be standardized.</p>"
            },
            "user": {
                "username": "ngoldbaum",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}"
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/583/comments/519479"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/583/_/diff#comment-519479"
                    }
                },
                "id": 519479
            },
            "created_on": "2013-09-02T21:08:53.622599+00:00",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/583/comments/523519"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/583/_/diff#comment-523519"
                }
            },
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/583"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/583"
                    }
                },
                "title": "Fixing the time calculation in 'yt plot' for the command line.",
                "id": 583
            },
            "type": "pullrequest_comment",
            "id": 523519,
            "updated_on": "2013-09-02T21:08:53.633335+00:00"
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "I will standardize behavior between frontends in 3.0 this week. Probably\ntomorrow. But this looks good to me!",
                "html": "<p>I will standardize behavior between frontends in 3.0 this week. Probably\ntomorrow. But this looks good to me!</p>"
            },
            "user": {
                "username": "MatthewTurk",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "display_name": "Matt Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}"
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/583/comments/523519"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/583/_/diff#comment-523519"
                    }
                },
                "id": 523519
            },
            "created_on": "2013-09-02T21:20:06.382924+00:00",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/583/comments/523524"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/583/_/diff#comment-523524"
                }
            },
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/583"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/583"
                    }
                },
                "title": "Fixing the time calculation in 'yt plot' for the command line.",
                "id": 583
            },
            "type": "pullrequest_comment",
            "id": 523524,
            "updated_on": "2013-09-02T21:20:06.399470+00:00"
        }
    ],
    "reason": "",
    "type": "pullrequest",
    "close_source_branch": false,
    "state": "MERGED",
    "description": "there was a double counting on the time conversion happening.",
    "author": {
        "username": "devinsilvia",
        "type": "user",
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/devinsilvia"
            },
            "html": {
                "href": "https://bitbucket.org/devinsilvia/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/devinsilvia/avatar/32/"
            }
        },
        "display_name": "Devin Silvia",
        "uuid": "{de10a23c-34a0-4f76-a031-b5ec3b2a34db}"
    },
    "updated_on": "2013-09-03T15:00:12.147113+00:00",
    "destination": {
        "repository": {
            "full_name": "yt_analysis/yt",
            "uuid": "{b73cb37c-40f2-493a-aaa9-41bc8d8974cc}",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/yt_analysis/yt/avatar/32/"
                }
            },
            "name": "yt"
        },
        "commit": {
            "hash": "e820b67495dc",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/e820b67495dc"
                }
            }
        },
        "branch": {
            "name": "yt"
        }
    }
}