{
    "reason": "",
    "state": "OPEN",
    "updated_on": "2017-04-21T11:37:03.994828+00:00",
    "comment_count": 0,
    "description": "If ds.index.grids exist, use them to get left/right edges, levels. Otherwise the .blocks is too slow to get masks for all grids.  ",
    "created_on": "2015-03-18T07:05:51.204052+00:00",
    "task_count": 0,
    "merge_commit": null,
    "title": "Speed up AMRKDTree if .grids exist",
    "links": {
        "diff": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1514/diff"
        },
        "decline": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1514/decline"
        },
        "self": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1514"
        },
        "activity": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1514/activity"
        },
        "merge": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1514/merge"
        },
        "commits": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1514/commits"
        },
        "statuses": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1514/statuses"
        },
        "approve": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1514/approve"
        },
        "html": {
            "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1514"
        },
        "comments": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1514/comments"
        }
    },
    "closed_by": null,
    "id": 1514,
    "type": "pullrequest",
    "author": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/samskillman"
            },
            "html": {
                "href": "https://bitbucket.org/samskillman/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/samskillman/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "Sam Skillman",
        "uuid": "{b03f9d96-1c52-4f21-bbdc-72f8e2a97a81}",
        "username": "samskillman"
    },
    "source": {
        "branch": {
            "name": "yt"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/samskillman/yt/commit/4eb960c3f995"
                }
            },
            "hash": "4eb960c3f995"
        },
        "repository": {
            "full_name": "samskillman/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/samskillman/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/samskillman/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/samskillman/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{f1df6f31-13ed-4d98-a11d-1954f1f1fdfa}"
        }
    },
    "close_source_branch": false,
    "destination": {
        "branch": {
            "name": "yt"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/634cc55bf066"
                }
            },
            "hash": "634cc55bf066"
        },
        "repository": {
            "full_name": "yt_analysis/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/yt_analysis/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{b73cb37c-40f2-493a-aaa9-41bc8d8974cc}"
        }
    },
    "comments": [
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1514/comments/5724484"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1514/_/diff#comment-5724484"
                }
            },
            "pullrequest": {
                "title": "Speed up AMRKDTree if .grids exist",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1514"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1514"
                    }
                },
                "id": 1514
            },
            "content": {
                "raw": "Something went wrong, you should checkout http://hub.yt:8080/job/yt_testsuite/104/",
                "html": "<p>Something went wrong, you should checkout <a href=\"http://hub.yt:8080/job/yt_testsuite/104/\" rel=\"nofollow\">http://hub.yt:8080/job/yt_testsuite/104/</a></p>",
                "markup": "markdown"
            },
            "created_on": "2015-03-18T07:20:54.460287+00:00",
            "updated_on": "2015-03-18T07:20:54.502782+00:00",
            "id": 5724484
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/samskillman"
                    },
                    "html": {
                        "href": "https://bitbucket.org/samskillman/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/samskillman/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Sam Skillman",
                "uuid": "{b03f9d96-1c52-4f21-bbdc-72f8e2a97a81}",
                "username": "samskillman"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1514/comments/5724581"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1514/_/diff#comment-5724581"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1514/comments/5724484"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1514/_/diff#comment-5724484"
                    }
                },
                "id": 5724484
            },
            "pullrequest": {
                "title": "Speed up AMRKDTree if .grids exist",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1514"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1514"
                    }
                },
                "id": 1514
            },
            "content": {
                "raw": "Seems like a broken fido. No treat for you.",
                "html": "<p>Seems like a broken fido. No treat for you.</p>",
                "markup": "markdown"
            },
            "created_on": "2015-03-18T07:29:03.495211+00:00",
            "updated_on": "2015-03-18T07:29:03.502283+00:00",
            "id": 5724581
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1514/comments/5735166"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1514/_/diff#comment-5735166"
                }
            },
            "pullrequest": {
                "title": "Speed up AMRKDTree if .grids exist",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1514"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1514"
                    }
                },
                "id": 1514
            },
            "content": {
                "raw": "Something went wrong, you should checkout http://hub.yt:8080/job/yt_testsuite/107/",
                "html": "<p>Something went wrong, you should checkout <a href=\"http://hub.yt:8080/job/yt_testsuite/107/\" rel=\"nofollow\">http://hub.yt:8080/job/yt_testsuite/107/</a></p>",
                "markup": "markdown"
            },
            "created_on": "2015-03-18T14:57:15.412164+00:00",
            "updated_on": "2015-03-18T14:57:15.534901+00:00",
            "id": 5735166
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1514/comments/5736771"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1514/_/diff#comment-5736771"
                }
            },
            "pullrequest": {
                "title": "Speed up AMRKDTree if .grids exist",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1514"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1514"
                    }
                },
                "id": 1514
            },
            "content": {
                "raw": "Something went wrong, you should checkout http://hub.yt:8080/job/yt_testsuite/108/",
                "html": "<p>Something went wrong, you should checkout <a href=\"http://hub.yt:8080/job/yt_testsuite/108/\" rel=\"nofollow\">http://hub.yt:8080/job/yt_testsuite/108/</a></p>",
                "markup": "markdown"
            },
            "created_on": "2015-03-18T15:40:40.573816+00:00",
            "updated_on": "2015-03-18T15:40:40.743788+00:00",
            "id": 5736771
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1514/comments/5911950"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1514/_/diff#comment-5911950"
                }
            },
            "pullrequest": {
                "title": "Speed up AMRKDTree if .grids exist",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1514"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1514"
                    }
                },
                "id": 1514
            },
            "content": {
                "raw": "@xarthisius can you re-run the tests for this?",
                "html": "<p><a href=\"/xarthisius/\" rel=\"nofollow\" title=\"@xarthisius\" class=\"mention\">Kacper Kowalik</a> can you re-run the tests for this?</p>",
                "markup": "markdown"
            },
            "created_on": "2015-03-26T20:08:38.981499+00:00",
            "updated_on": "2015-03-26T20:08:38.990902+00:00",
            "id": 5911950
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1514/comments/5913190"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1514/_/diff#comment-5913190"
                }
            },
            "pullrequest": {
                "title": "Speed up AMRKDTree if .grids exist",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1514"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1514"
                    }
                },
                "id": 1514
            },
            "content": {
                "raw": "Something went wrong, you should checkout http://hub.yt:8080/job/yt_testsuite/155/",
                "html": "<p>Something went wrong, you should checkout <a href=\"http://hub.yt:8080/job/yt_testsuite/155/\" rel=\"nofollow\">http://hub.yt:8080/job/yt_testsuite/155/</a></p>",
                "markup": "markdown"
            },
            "created_on": "2015-03-26T21:03:04.424406+00:00",
            "updated_on": "2015-03-26T21:03:04.469012+00:00",
            "id": 5913190
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1514/comments/5982297"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1514/_/diff#comment-5982297"
                }
            },
            "pullrequest": {
                "title": "Speed up AMRKDTree if .grids exist",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1514"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1514"
                    }
                },
                "id": 1514
            },
            "content": {
                "raw": "Looks like this is a genuine failure.  :disappointed: ",
                "html": "<p>Looks like this is a genuine failure.  <img src=\"https://d301sr5gafysq2.cloudfront.net/1fcbca467d92/emoji/img/disappointed.svg\" alt=\"disappointed\" title=\"disappointed\" class=\"emoji\"> </p>",
                "markup": "markdown"
            },
            "created_on": "2015-03-31T11:26:38.593806+00:00",
            "updated_on": "2015-03-31T11:26:38.605212+00:00",
            "id": 5982297
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1514/comments/6545403"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1514/_/diff#comment-6545403"
                }
            },
            "pullrequest": {
                "title": "Speed up AMRKDTree if .grids exist",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1514"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1514"
                    }
                },
                "id": 1514
            },
            "content": {
                "raw": "I think this can be fixed with a change like this:\n\n```\n#!python\ngrids = []\nfor chunk in self.data_source.chunk([], \"all\"):\n    grids += chunk._current_chunk.objs\ngrids = np.array(grids, dtype=\"object\")\n```\n\nWhat I think is happening is that it's over-included things.",
                "html": "<p>I think this can be fixed with a change like this:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">grids</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n<span class=\"k\">for</span> <span class=\"n\">chunk</span> <span class=\"ow\">in</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">data_source</span><span class=\"o\">.</span><span class=\"n\">chunk</span><span class=\"p\">([],</span> <span class=\"s2\">&quot;all&quot;</span><span class=\"p\">):</span>\n    <span class=\"n\">grids</span> <span class=\"o\">+=</span> <span class=\"n\">chunk</span><span class=\"o\">.</span><span class=\"n\">_current_chunk</span><span class=\"o\">.</span><span class=\"n\">objs</span>\n<span class=\"n\">grids</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">(</span><span class=\"n\">grids</span><span class=\"p\">,</span> <span class=\"n\">dtype</span><span class=\"o\">=</span><span class=\"s2\">&quot;object&quot;</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>What I think is happening is that it's over-included things.</p>",
                "markup": "markdown"
            },
            "created_on": "2015-04-28T20:09:06.883751+00:00",
            "updated_on": "2015-04-28T20:09:06.897160+00:00",
            "id": 6545403
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/samskillman"
                    },
                    "html": {
                        "href": "https://bitbucket.org/samskillman/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/samskillman/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Sam Skillman",
                "uuid": "{b03f9d96-1c52-4f21-bbdc-72f8e2a97a81}",
                "username": "samskillman"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1514/comments/6564791"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1514/_/diff#comment-6564791"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1514/comments/6545403"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1514/_/diff#comment-6545403"
                    }
                },
                "id": 6545403
            },
            "pullrequest": {
                "title": "Speed up AMRKDTree if .grids exist",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1514"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1514"
                    }
                },
                "id": 1514
            },
            "content": {
                "raw": "Is there a way to get a given level's grids through that interface? I think we need to add a level at a time.  If so, feel free to push up to my repo.",
                "html": "<p>Is there a way to get a given level's grids through that interface? I think we need to add a level at a time.  If so, feel free to push up to my repo.</p>",
                "markup": "markdown"
            },
            "created_on": "2015-04-29T14:38:43.146398+00:00",
            "updated_on": "2015-04-29T14:38:43.156376+00:00",
            "id": 6564791
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1514/comments/6572427"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1514/_/diff#comment-6572427"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1514/comments/6564791"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1514/_/diff#comment-6564791"
                    }
                },
                "id": 6564791
            },
            "pullrequest": {
                "title": "Speed up AMRKDTree if .grids exist",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1514"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1514"
                    }
                },
                "id": 1514
            },
            "content": {
                "raw": "Yes -- probably just need to put a level iteration inside the `for chunk`, since `for chunk` will always have length 1.",
                "html": "<p>Yes -- probably just need to put a level iteration inside the <code>for chunk</code>, since <code>for chunk</code> will always have length 1.</p>",
                "markup": "markdown"
            },
            "created_on": "2015-04-29T18:57:06.743267+00:00",
            "updated_on": "2015-04-29T18:57:06.932693+00:00",
            "id": 6572427
        }
    ]
}