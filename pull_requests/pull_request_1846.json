{
    "reason": "",
    "state": "MERGED",
    "updated_on": "2015-11-09T19:24:04.415722+00:00",
    "comment_count": 6,
    "description": "When the gt array was empty, gt.size was returning (0, ) and not 0, so this wasn't getting caught.",
    "created_on": "2015-11-04T16:37:27.988456+00:00",
    "task_count": 0,
    "merge_commit": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/11079ba03a6d"
            }
        },
        "hash": "11079ba03a6d"
    },
    "title": "[bugfix] Fixing bug in ray \"dts\" and \"t\" fields (closes Issue #1141)",
    "links": {
        "diff": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1846/diff"
        },
        "decline": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1846/decline"
        },
        "self": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1846"
        },
        "activity": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1846/activity"
        },
        "merge": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1846/merge"
        },
        "commits": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1846/commits"
        },
        "statuses": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1846/statuses"
        },
        "approve": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1846/approve"
        },
        "html": {
            "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1846"
        },
        "comments": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1846/comments"
        }
    },
    "closed_by": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
            },
            "html": {
                "href": "https://bitbucket.org/ngoldbaum/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "Nathan Goldbaum",
        "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
        "username": "ngoldbaum"
    },
    "id": 1846,
    "type": "pullrequest",
    "author": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/brittonsmith"
            },
            "html": {
                "href": "https://bitbucket.org/brittonsmith/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/brittonsmith/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "Britton Smith",
        "uuid": "{94333901-a436-4c2c-8322-8d09e387eece}",
        "username": "brittonsmith"
    },
    "source": {
        "branch": {
            "name": "yt"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/brittonsmith/yt/commit/6ddc28b38230"
                }
            },
            "hash": "6ddc28b38230"
        },
        "repository": {
            "full_name": "brittonsmith/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/brittonsmith/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/brittonsmith/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/brittonsmith/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{a3a98ec1-6936-4db5-8667-658e17c1eaca}"
        }
    },
    "close_source_branch": false,
    "destination": {
        "branch": {
            "name": "yt"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/ce128db22c39"
                }
            },
            "hash": "ce128db22c39"
        },
        "repository": {
            "full_name": "yt_analysis/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/yt_analysis/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{b73cb37c-40f2-493a-aaa9-41bc8d8974cc}"
        }
    },
    "comments": [
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1846/comments/11472794"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1846/_/diff#comment-11472794"
                }
            },
            "pullrequest": {
                "title": "[bugfix] Fixing bug in ray \"dts\" and \"t\" fields (closes Issue #1141)",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1846"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1846"
                    }
                },
                "id": 1846
            },
            "content": {
                "raw": "Any chance we can get a test in `yt/data_objects/tests/test_rays.py`?",
                "html": "<p>Any chance we can get a test in <code>yt/data_objects/tests/test_rays.py</code>?</p>",
                "markup": "markdown"
            },
            "created_on": "2015-11-04T16:38:53.088740+00:00",
            "updated_on": "2015-11-04T16:38:53.092787+00:00",
            "id": 11472794
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/brittonsmith"
                    },
                    "html": {
                        "href": "https://bitbucket.org/brittonsmith/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/brittonsmith/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Britton Smith",
                "uuid": "{94333901-a436-4c2c-8322-8d09e387eece}",
                "username": "brittonsmith"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1846/comments/11472924"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1846/_/diff#comment-11472924"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1846/comments/11472794"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1846/_/diff#comment-11472794"
                    }
                },
                "id": 11472794
            },
            "pullrequest": {
                "title": "[bugfix] Fixing bug in ray \"dts\" and \"t\" fields (closes Issue #1141)",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1846"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1846"
                    }
                },
                "id": 1846
            },
            "content": {
                "raw": "I'll have a look.  This may have been a lucky ray, but it's possible this happens when a ray starts on a grid cell boundary.  I'll check.",
                "html": "<p>I'll have a look.  This may have been a lucky ray, but it's possible this happens when a ray starts on a grid cell boundary.  I'll check.</p>",
                "markup": "markdown"
            },
            "created_on": "2015-11-04T16:41:25.484917+00:00",
            "updated_on": "2015-11-04T16:41:25.487519+00:00",
            "id": 11472924
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/brittonsmith"
                    },
                    "html": {
                        "href": "https://bitbucket.org/brittonsmith/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/brittonsmith/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Britton Smith",
                "uuid": "{94333901-a436-4c2c-8322-8d09e387eece}",
                "username": "brittonsmith"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1846/comments/11475312"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1846/_/diff#comment-11475312"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1846/comments/11472924"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1846/_/diff#comment-11472924"
                    }
                },
                "id": 11472924
            },
            "pullrequest": {
                "title": "[bugfix] Fixing bug in ray \"dts\" and \"t\" fields (closes Issue #1141)",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1846"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1846"
                    }
                },
                "id": 1846
            },
            "content": {
                "raw": "Unfortunately, I'm not able to reproduce this in a ``fake_random_ds`` to make a test.  My hunch is that it requires a domain that goes from -width/2 to width/2 so that (0,0,0) is in the middle and is a grid patch boundary.  Then, I think you need the length units to be very large and have the ray go from something like 0 to tiny_number in one direction.  This could cause the calculation of which grids belong in the ray to get confused by roundoff error and mistakenly include grids that shouldn't be there.\n\nThese are basically the conditions of the dataset that triggered the error, but currently ``fake_random_ds`` does not have a way of specifying the domain corners.  However, I really don't have any more time to work on this.  Maybe we can create an issue to try and create a test for this later?",
                "html": "<p>Unfortunately, I'm not able to reproduce this in a <code>fake_random_ds</code> to make a test.  My hunch is that it requires a domain that goes from -width/2 to width/2 so that (0,0,0) is in the middle and is a grid patch boundary.  Then, I think you need the length units to be very large and have the ray go from something like 0 to tiny_number in one direction.  This could cause the calculation of which grids belong in the ray to get confused by roundoff error and mistakenly include grids that shouldn't be there.</p>\n<p>These are basically the conditions of the dataset that triggered the error, but currently <code>fake_random_ds</code> does not have a way of specifying the domain corners.  However, I really don't have any more time to work on this.  Maybe we can create an issue to try and create a test for this later?</p>",
                "markup": "markdown"
            },
            "created_on": "2015-11-04T17:33:10.195789+00:00",
            "updated_on": "2015-11-04T17:33:10.198876+00:00",
            "id": 11475312
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1846/comments/11475384"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1846/_/diff#comment-11475384"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1846/comments/11475312"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1846/_/diff#comment-11475312"
                    }
                },
                "id": 11475312
            },
            "pullrequest": {
                "title": "[bugfix] Fixing bug in ray \"dts\" and \"t\" fields (closes Issue #1141)",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1846"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1846"
                    }
                },
                "id": 1846
            },
            "content": {
                "raw": "It's also ok to load a test dataset so long as the test function is decorated with `@requires_file`, but fair enough...",
                "html": "<p>It's also ok to load a test dataset so long as the test function is decorated with <code>@requires_file</code>, but fair enough...</p>",
                "markup": "markdown"
            },
            "created_on": "2015-11-04T17:35:21.344532+00:00",
            "updated_on": "2015-11-04T17:35:21.355559+00:00",
            "id": 11475384
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1846/comments/11476384"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1846/_/diff#comment-11476384"
                }
            },
            "pullrequest": {
                "title": "[bugfix] Fixing bug in ray \"dts\" and \"t\" fields (closes Issue #1141)",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1846"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1846"
                    }
                },
                "id": 1846
            },
            "content": {
                "raw": "All tests pass. Good job!",
                "html": "<p>All tests pass. Good job!</p>",
                "markup": "markdown"
            },
            "created_on": "2015-11-04T18:02:06.393795+00:00",
            "updated_on": "2015-11-04T18:02:06.562153+00:00",
            "id": 11476384
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1846/comments/11485327"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1846/_/diff#comment-11485327"
                }
            },
            "pullrequest": {
                "title": "[bugfix] Fixing bug in ray \"dts\" and \"t\" fields (closes Issue #1141)",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1846"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1846"
                    }
                },
                "id": 1846
            },
            "content": {
                "raw": "All tests pass. Good job!",
                "html": "<p>All tests pass. Good job!</p>",
                "markup": "markdown"
            },
            "created_on": "2015-11-04T22:32:03.955299+00:00",
            "updated_on": "2015-11-04T22:32:04.018440+00:00",
            "id": 11485327
        }
    ]
}