{
    "reason": "",
    "state": "MERGED",
    "updated_on": "2014-05-01T22:40:35.899003+00:00",
    "comment_count": 8,
    "description": "This is a minor cleanup of the `get_sanitized_width` function.\r\n\r\n1. Allows a YTQuantity to be passed and handles it appropriately.\r\n\r\n2. Do not rely on assertions for validating input since asserts can be disabled at runtime.\r\n\r\n3. Reduce nesting, make logic clearer, eliminate code duplication.",
    "created_on": "2014-05-01T04:33:09.286860+00:00",
    "task_count": 0,
    "merge_commit": null,
    "title": "Cleaning up handling plot widths in plot_window.",
    "links": {
        "diff": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/861/diff"
        },
        "decline": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/861/decline"
        },
        "self": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/861"
        },
        "activity": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/861/activity"
        },
        "merge": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/861/merge"
        },
        "commits": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/861/commits"
        },
        "statuses": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/861/statuses"
        },
        "approve": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/861/approve"
        },
        "html": {
            "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/861"
        },
        "comments": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/861/comments"
        }
    },
    "closed_by": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
            },
            "html": {
                "href": "https://bitbucket.org/MatthewTurk/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "Matt Turk",
        "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
        "username": "MatthewTurk"
    },
    "id": 861,
    "type": "pullrequest",
    "author": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
            },
            "html": {
                "href": "https://bitbucket.org/ngoldbaum/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "Nathan Goldbaum",
        "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
        "username": "ngoldbaum"
    },
    "source": {
        "branch": {
            "name": "yt-3.0"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/ngoldbaum/yt/commit/f228e5bea67d"
                }
            },
            "hash": "f228e5bea67d"
        },
        "repository": {
            "full_name": "ngoldbaum/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/ngoldbaum/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/ngoldbaum/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/ngoldbaum/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{cb18d7d9-ab77-4e80-81ed-8d32a945e0ef}"
        }
    },
    "close_source_branch": false,
    "destination": {
        "branch": {
            "name": "yt-3.0"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/5affa74d80f3"
                }
            },
            "hash": "5affa74d80f3"
        },
        "repository": {
            "full_name": "yt_analysis/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/yt_analysis/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{b73cb37c-40f2-493a-aaa9-41bc8d8974cc}"
        }
    },
    "comments": [
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/861/comments/1777690"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/861/_/diff#comment-1777690"
                }
            },
            "pullrequest": {
                "title": "Cleaning up handling plot widths in plot_window.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/861"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/861"
                    }
                },
                "id": 861
            },
            "content": {
                "raw": "All tests pass. Good job!",
                "html": "<p>All tests pass. Good job!</p>",
                "markup": "markdown"
            },
            "created_on": "2014-05-01T05:01:48.763270+00:00",
            "updated_on": "2014-05-01T05:01:48.888129+00:00",
            "id": 1777690
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/861/comments/1779819"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/861/_/diff#comment-1779819"
                }
            },
            "pullrequest": {
                "title": "Cleaning up handling plot widths in plot_window.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/861"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/861"
                    }
                },
                "id": 861
            },
            "content": {
                "raw": "I think this looks good -- do you think this refactor will make it easier to do non-cartesian?",
                "html": "<p>I think this looks good -- do you think this refactor will make it easier to do non-cartesian?</p>",
                "markup": "markdown"
            },
            "created_on": "2014-05-01T13:22:19.219469+00:00",
            "updated_on": "2014-05-01T13:22:19.229930+00:00",
            "id": 1779819
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/861/comments/1782331"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/861/_/diff#comment-1782331"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/861/comments/1779819"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/861/_/diff#comment-1779819"
                    }
                },
                "id": 1779819
            },
            "pullrequest": {
                "title": "Cleaning up handling plot widths in plot_window.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/861"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/861"
                    }
                },
                "id": 861
            },
            "content": {
                "raw": "I think the input handling for widths should be the same for all coordinate systems since we're going to present cartesian windows and cartesian axes.  Let me know if that's not the case.",
                "html": "<p>I think the input handling for widths should be the same for all coordinate systems since we're going to present cartesian windows and cartesian axes.  Let me know if that's not the case.</p>",
                "markup": "markdown"
            },
            "created_on": "2014-05-01T18:33:50.509763+00:00",
            "updated_on": "2014-05-01T18:33:50.517187+00:00",
            "id": 1782331
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/861/comments/1782343"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/861/_/diff#comment-1782343"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/861/comments/1782331"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/861/_/diff#comment-1782331"
                    }
                },
                "id": 1782331
            },
            "pullrequest": {
                "title": "Cleaning up handling plot widths in plot_window.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/861"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/861"
                    }
                },
                "id": 861
            },
            "content": {
                "raw": "Well, it depends on the API -- @jsoishi and @jzuhone were going to think about it a bit.  In some sense, I actually think we ought to be more flexible (it makes more sense sometimes to give r rather than x,y!) but since that's still undecided, we can leave it for now.",
                "html": "<p>Well, it depends on the API -- <a href=\"/jsoishi/\" rel=\"nofollow\" title=\"@jsoishi\" class=\"mention\">J. S. Oishi</a> and <a href=\"/jzuhone/\" rel=\"nofollow\" title=\"@jzuhone\" class=\"mention\">John ZuHone</a> were going to think about it a bit.  In some sense, I actually think we ought to be more flexible (it makes more sense sometimes to give r rather than x,y!) but since that's still undecided, we can leave it for now.</p>",
                "markup": "markdown"
            },
            "created_on": "2014-05-01T18:35:02.211995+00:00",
            "updated_on": "2014-05-01T18:35:02.229034+00:00",
            "id": 1782343
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/jzuhone"
                    },
                    "html": {
                        "href": "https://bitbucket.org/jzuhone/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/jzuhone/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "John ZuHone",
                "uuid": "{0c51edfa-e317-432f-bbef-7401c6e2aa8a}",
                "username": "jzuhone"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/861/comments/1783698"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/861/_/diff#comment-1783698"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/861/comments/1782343"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/861/_/diff#comment-1782343"
                    }
                },
                "id": 1782343
            },
            "pullrequest": {
                "title": "Cleaning up handling plot widths in plot_window.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/861"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/861"
                    }
                },
                "id": 861
            },
            "content": {
                "raw": "The other problem that we should address is that even for cartesian axes we might have code length of wildly different scales on each axis. For example, in a FITS dataset I'm looking at:\n\n`ds.domain_width = YTArray([   325.        ,    357.        ,  90115.20385742]) code_length`\n\nand:\n\n`ds.index.select_grids(ds.index.grid_levels.max())[0].dds[:] = YTArray([   1.        ,    1.        ,  212.53585815]) code_length`\n\nand I can't figure out how to get a plot that is nevertheless roughly square from this dataset. ",
                "html": "<p>The other problem that we should address is that even for cartesian axes we might have code length of wildly different scales on each axis. For example, in a FITS dataset I'm looking at:</p>\n<p><code>ds.domain_width = YTArray([   325.        ,    357.        ,  90115.20385742]) code_length</code></p>\n<p>and:</p>\n<p><code>ds.index.select_grids(ds.index.grid_levels.max())[0].dds[:] = YTArray([   1.        ,    1.        ,  212.53585815]) code_length</code></p>\n<p>and I can't figure out how to get a plot that is nevertheless roughly square from this dataset. </p>",
                "markup": "markdown"
            },
            "created_on": "2014-05-01T21:08:45.537597+00:00",
            "updated_on": "2014-05-01T21:09:55.609667+00:00",
            "id": 1783698
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/861/comments/1783714"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/861/_/diff#comment-1783714"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/861/comments/1783698"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/861/_/diff#comment-1783698"
                    }
                },
                "id": 1783698
            },
            "pullrequest": {
                "title": "Cleaning up handling plot widths in plot_window.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/861"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/861"
                    }
                },
                "id": 861
            },
            "content": {
                "raw": "@jzuhone you need to set the aspect to something sensible.  See this stackoverflow question I asked when I was originally thinking about this for PlotWindow: http://stackoverflow.com/questions/13384653/imshow-extent-and-aspect",
                "html": "<p><a href=\"/jzuhone/\" rel=\"nofollow\" title=\"@jzuhone\" class=\"mention\">John ZuHone</a> you need to set the aspect to something sensible.  See this stackoverflow question I asked when I was originally thinking about this for PlotWindow: <a href=\"http://stackoverflow.com/questions/13384653/imshow-extent-and-aspect\" rel=\"nofollow\">http://stackoverflow.com/questions/13384653/imshow-extent-and-aspect</a></p>",
                "markup": "markdown"
            },
            "created_on": "2014-05-01T21:12:36.321435+00:00",
            "updated_on": "2014-05-01T21:12:36.332928+00:00",
            "id": 1783714
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/jzuhone"
                    },
                    "html": {
                        "href": "https://bitbucket.org/jzuhone/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/jzuhone/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "John ZuHone",
                "uuid": "{0c51edfa-e317-432f-bbef-7401c6e2aa8a}",
                "username": "jzuhone"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/861/comments/1784079"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/861/_/diff#comment-1784079"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/861/comments/1783714"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/861/_/diff#comment-1783714"
                    }
                },
                "id": 1783714
            },
            "pullrequest": {
                "title": "Cleaning up handling plot widths in plot_window.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/861"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/861"
                    }
                },
                "id": 861
            },
            "content": {
                "raw": "But I presume we don't have a way to set the aspect by hand in PlotWindow plots...",
                "html": "<p>But I presume we don't have a way to set the aspect by hand in PlotWindow plots...</p>",
                "markup": "markdown"
            },
            "created_on": "2014-05-01T22:08:34.680437+00:00",
            "updated_on": "2014-05-01T22:08:34.687494+00:00",
            "id": 1784079
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/861/comments/1784239"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/861/_/diff#comment-1784239"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/861/comments/1784079"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/861/_/diff#comment-1784079"
                    }
                },
                "id": 1784079
            },
            "pullrequest": {
                "title": "Cleaning up handling plot widths in plot_window.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/861"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/861"
                    }
                },
                "id": 861
            },
            "content": {
                "raw": "Not at the moment, no.  Presumably this logic will have to be generalized if we want to have better support for non-spatial dimensions.",
                "html": "<p>Not at the moment, no.  Presumably this logic will have to be generalized if we want to have better support for non-spatial dimensions.</p>",
                "markup": "markdown"
            },
            "created_on": "2014-05-01T22:40:35.871658+00:00",
            "updated_on": "2014-05-01T22:40:35.879600+00:00",
            "id": 1784239
        }
    ]
}