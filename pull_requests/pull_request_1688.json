{
    "reason": "",
    "state": "OPEN",
    "updated_on": "2017-04-21T11:37:01.752543+00:00",
    "comment_count": 21,
    "description": "This adds the ability to use the radmc-3d exporter with SPH datasets. It needs to be tested better before it's ready to be included. ",
    "created_on": "2015-08-10T01:35:01.153755+00:00",
    "task_count": 0,
    "merge_commit": null,
    "title": "[WIP] Adding support for Octree-style output files in the RadMC-3D exporter",
    "links": {
        "diff": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688/diff"
        },
        "decline": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688/decline"
        },
        "self": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688"
        },
        "activity": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688/activity"
        },
        "merge": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688/merge"
        },
        "commits": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688/commits"
        },
        "statuses": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688/statuses"
        },
        "approve": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688/approve"
        },
        "html": {
            "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688"
        },
        "comments": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688/comments"
        }
    },
    "closed_by": null,
    "id": 1688,
    "type": "pullrequest",
    "author": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/atmyers"
            },
            "html": {
                "href": "https://bitbucket.org/atmyers/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/atmyers/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "Andrew Myers",
        "uuid": "{651c5647-b78f-4cd9-8d9a-5d6e8c9ac8d3}",
        "username": "atmyers"
    },
    "source": {
        "branch": {
            "name": "yt"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/atmyers/yt/commit/15e9319fdc20"
                }
            },
            "hash": "15e9319fdc20"
        },
        "repository": {
            "full_name": "atmyers/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/atmyers/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/atmyers/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/atmyers/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{14866916-6c53-4d06-95e1-89d30c798c08}"
        }
    },
    "close_source_branch": false,
    "destination": {
        "branch": {
            "name": "yt"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/634cc55bf066"
                }
            },
            "hash": "634cc55bf066"
        },
        "repository": {
            "full_name": "yt_analysis/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/yt_analysis/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{b73cb37c-40f2-493a-aaa9-41bc8d8974cc}"
        }
    },
    "comments": [
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688/comments/8927682"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688/_/diff#comment-8927682"
                }
            },
            "pullrequest": {
                "title": "[WIP] Adding support for Octree-style output files in the RadMC-3D exporter",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688"
                    }
                },
                "id": 1688
            },
            "content": {
                "raw": "All tests pass. Good job!",
                "html": "<p>All tests pass. Good job!</p>",
                "markup": "markdown"
            },
            "created_on": "2015-08-10T03:06:55.758096+00:00",
            "updated_on": "2015-08-10T03:06:55.807124+00:00",
            "id": 8927682
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/keflavich"
                    },
                    "html": {
                        "href": "https://bitbucket.org/keflavich/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/keflavich/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Adam Ginsburg",
                "uuid": "{f5c2fa81-d2e1-4412-8b7e-6182c7adf729}",
                "username": "keflavich"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688/comments/8989644"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688/_/diff#comment-8989644"
                }
            },
            "pullrequest": {
                "title": "[WIP] Adding support for Octree-style output files in the RadMC-3D exporter",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688"
                    }
                },
                "id": 1688
            },
            "content": {
                "raw": "I tried this, and ended up at a traceback:\n```\nTraceback (most recent call last):\n  File \"/Users/adam/work/jimsims/code/radmc_jim.py\", line 39, in <module>\n    writer = RadMC3DWriter(ds)\n  File \"/Users/adam/anaconda/envs/astropy27/lib/python2.7/site-packages/yt-3.2dev-py2.7-macosx-10.5-x86_64.egg/yt/analysis_modules/radmc3d_export/RadMC3DInterface.py\", line 148, in __init__\n    sorted_grids = sorted(ds.index.grids, key=lambda x: x.Level)\nAttributeError: 'StreamParticleIndex' object has no attribute 'grids'\n```\n\nany tips on what I'm doing wrong?",
                "html": "<p>I tried this, and ended up at a traceback:</p>\n<div class=\"codehilite\"><pre><span></span>Traceback (most recent call last):\n  File &quot;/Users/adam/work/jimsims/code/radmc_jim.py&quot;, line 39, in &lt;module&gt;\n    writer = RadMC3DWriter(ds)\n  File &quot;/Users/adam/anaconda/envs/astropy27/lib/python2.7/site-packages/yt-3.2dev-py2.7-macosx-10.5-x86_64.egg/yt/analysis_modules/radmc3d_export/RadMC3DInterface.py&quot;, line 148, in __init__\n    sorted_grids = sorted(ds.index.grids, key=lambda x: x.Level)\nAttributeError: &#39;StreamParticleIndex&#39; object has no attribute &#39;grids&#39;\n</pre></div>\n\n\n<p>any tips on what I'm doing wrong?</p>",
                "markup": "markdown"
            },
            "created_on": "2015-08-11T16:03:15.109521+00:00",
            "updated_on": "2015-08-11T16:03:15.183522+00:00",
            "id": 8989644
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688/comments/8989881"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688/_/diff#comment-8989881"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688/comments/8989644"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688/_/diff#comment-8989644"
                    }
                },
                "id": 8989644
            },
            "pullrequest": {
                "title": "[WIP] Adding support for Octree-style output files in the RadMC-3D exporter",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688"
                    }
                },
                "id": 1688
            },
            "content": {
                "raw": "It looks like you're running a version of yt without Andrew's patch applied. Let me know if you need help with the mercurial commands necessary to pull in Andrew's PR locally.",
                "html": "<p>It looks like you're running a version of yt without Andrew's patch applied. Let me know if you need help with the mercurial commands necessary to pull in Andrew's PR locally.</p>",
                "markup": "markdown"
            },
            "created_on": "2015-08-11T16:08:39.507467+00:00",
            "updated_on": "2015-08-11T16:08:39.517744+00:00",
            "id": 8989881
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/atmyers"
                    },
                    "html": {
                        "href": "https://bitbucket.org/atmyers/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/atmyers/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Andrew Myers",
                "uuid": "{651c5647-b78f-4cd9-8d9a-5d6e8c9ac8d3}",
                "username": "atmyers"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688/comments/8991795"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688/_/diff#comment-8991795"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688/comments/8989644"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688/_/diff#comment-8989644"
                    }
                },
                "id": 8989644
            },
            "pullrequest": {
                "title": "[WIP] Adding support for Octree-style output files in the RadMC-3D exporter",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688"
                    }
                },
                "id": 1688
            },
            "content": {
                "raw": "I think line 148 should be something else with the patch applied. The incantation for getting this into your local yt is: \n\n1. Make sure yt is activated\n2. cd $YT_DEST/src/yt-hg/ \n3. hg pull -r fa856f1 https://bitbucket.org/atmyers/yt\n4. hg update -C fa856f1\n5. python setup.py develop\n\nThe \"-C\" option to hg update will wipe any uncommited changes in your working copy, so be wary. ",
                "html": "<p>I think line 148 should be something else with the patch applied. The incantation for getting this into your local yt is: </p>\n<ol>\n<li>Make sure yt is activated</li>\n<li>cd $YT_DEST/src/yt-hg/ </li>\n<li>hg pull -r <a href=\"/yt_analysis/yt/commits/fa856f1\" rel=\"nofollow\">fa856f1</a> <a href=\"https://bitbucket.org/atmyers/yt\" rel=\"nofollow\">https://bitbucket.org/atmyers/yt</a></li>\n<li>hg update -C <a href=\"/yt_analysis/yt/commits/fa856f1\" rel=\"nofollow\">fa856f1</a></li>\n<li>python setup.py develop</li>\n</ol>\n<p>The \"-C\" option to hg update will wipe any uncommited changes in your working copy, so be wary. </p>",
                "markup": "markdown"
            },
            "created_on": "2015-08-11T17:05:34.861258+00:00",
            "updated_on": "2015-08-11T17:05:34.870831+00:00",
            "id": 8991795
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688/comments/9071048"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688/_/diff#comment-9071048"
                }
            },
            "pullrequest": {
                "title": "[WIP] Adding support for Octree-style output files in the RadMC-3D exporter",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688"
                    }
                },
                "id": 1688
            },
            "content": {
                "raw": "@keflavich have you had any success testing this out?",
                "html": "<p><a href=\"/keflavich/\" rel=\"nofollow\" title=\"@keflavich\" class=\"mention\">Adam Ginsburg</a> have you had any success testing this out?</p>",
                "markup": "markdown"
            },
            "created_on": "2015-08-13T16:48:04.846828+00:00",
            "updated_on": "2015-08-13T16:48:04.916307+00:00",
            "id": 9071048
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/keflavich"
                    },
                    "html": {
                        "href": "https://bitbucket.org/keflavich/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/keflavich/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Adam Ginsburg",
                "uuid": "{f5c2fa81-d2e1-4412-8b7e-6182c7adf729}",
                "username": "keflavich"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688/comments/9071188"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688/_/diff#comment-9071188"
                }
            },
            "pullrequest": {
                "title": "[WIP] Adding support for Octree-style output files in the RadMC-3D exporter",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688"
                    }
                },
                "id": 1688
            },
            "content": {
                "raw": "ngoldbaum - no, I got stuck at pulling in the gas temperature and density into the appropriate deposited fields, essentially as stated in https://bitbucket.org/yt_analysis/yt/issues/1062/add-example-for-loading-an-sph-dataset",
                "html": "<p>ngoldbaum - no, I got stuck at pulling in the gas temperature and density into the appropriate deposited fields, essentially as stated in <a href=\"https://bitbucket.org/yt_analysis/yt/issues/1062/add-example-for-loading-an-sph-dataset\" rel=\"nofollow\">https://bitbucket.org/yt_analysis/yt/issues/1062/add-example-for-loading-an-sph-dataset</a></p>",
                "markup": "markdown"
            },
            "created_on": "2015-08-13T16:52:04.139957+00:00",
            "updated_on": "2015-08-13T16:52:04.200595+00:00",
            "id": 9071188
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688/comments/9071290"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688/_/diff#comment-9071290"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688/comments/9071188"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688/_/diff#comment-9071188"
                    }
                },
                "id": 9071188
            },
            "pullrequest": {
                "title": "[WIP] Adding support for Octree-style output files in the RadMC-3D exporter",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688"
                    }
                },
                "id": 1688
            },
            "content": {
                "raw": "What about using CIC deposited temperature?",
                "html": "<p>What about using CIC deposited temperature?</p>",
                "markup": "markdown"
            },
            "created_on": "2015-08-13T16:54:55.887379+00:00",
            "updated_on": "2015-08-13T16:54:55.898804+00:00",
            "id": 9071290
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/keflavich"
                    },
                    "html": {
                        "href": "https://bitbucket.org/keflavich/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/keflavich/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Adam Ginsburg",
                "uuid": "{f5c2fa81-d2e1-4412-8b7e-6182c7adf729}",
                "username": "keflavich"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688/comments/9071424"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688/_/diff#comment-9071424"
                }
            },
            "pullrequest": {
                "title": "[WIP] Adding support for Octree-style output files in the RadMC-3D exporter",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688"
                    }
                },
                "id": 1688
            },
            "content": {
                "raw": "I'm evidently using that incorrectly, because I still get `yt.utilities.exceptions.YTFieldNotFound: Could not find field '('gas', 'temperature')' in ParticleData.`\nI tried doing this:\n```\nds.add_deposited_particle_field(('all', 'particle_temperature'), 'cic')\nds.add_field(('gas', 'temperature'), lambda x,y: y[('deposit', 'all_cic_temperature')], units='K')\n```",
                "html": "<p>I'm evidently using that incorrectly, because I still get <code>yt.utilities.exceptions.YTFieldNotFound: Could not find field '('gas', 'temperature')' in ParticleData.</code>\nI tried doing this:</p>\n<div class=\"codehilite\"><pre><span></span>ds.add_deposited_particle_field((&#39;all&#39;, &#39;particle_temperature&#39;), &#39;cic&#39;)\nds.add_field((&#39;gas&#39;, &#39;temperature&#39;), lambda x,y: y[(&#39;deposit&#39;, &#39;all_cic_temperature&#39;)], units=&#39;K&#39;)\n</pre></div>",
                "markup": "markdown"
            },
            "created_on": "2015-08-13T16:58:53.129978+00:00",
            "updated_on": "2015-08-13T16:58:53.257501+00:00",
            "id": 9071424
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688/comments/9072453"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688/_/diff#comment-9072453"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688/comments/9071424"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688/_/diff#comment-9071424"
                    }
                },
                "id": 9071424
            },
            "pullrequest": {
                "title": "[WIP] Adding support for Octree-style output files in the RadMC-3D exporter",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688"
                    }
                },
                "id": 1688
            },
            "content": {
                "raw": "Ah ok, is the radmc exporter expecting the dataset to have a `('gas', 'temperature')` field? Maybe that could be pluggable?\n\nI'm a little surprised that the way you've defined the alias there doesn't work. I'll take a look at that later if I have some time....",
                "html": "<p>Ah ok, is the radmc exporter expecting the dataset to have a <code>('gas', 'temperature')</code> field? Maybe that could be pluggable?</p>\n<p>I'm a little surprised that the way you've defined the alias there doesn't work. I'll take a look at that later if I have some time....</p>",
                "markup": "markdown"
            },
            "created_on": "2015-08-13T17:33:05.913568+00:00",
            "updated_on": "2015-08-13T17:33:05.920314+00:00",
            "id": 9072453
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/atmyers"
                    },
                    "html": {
                        "href": "https://bitbucket.org/atmyers/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/atmyers/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Andrew Myers",
                "uuid": "{651c5647-b78f-4cd9-8d9a-5d6e8c9ac8d3}",
                "username": "atmyers"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688/comments/9073414"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688/_/diff#comment-9073414"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688/comments/9071424"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688/_/diff#comment-9071424"
                    }
                },
                "id": 9071424
            },
            "pullrequest": {
                "title": "[WIP] Adding support for Octree-style output files in the RadMC-3D exporter",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688"
                    }
                },
                "id": 1688
            },
            "content": {
                "raw": "I'm afraid I don't know too much about setting up SPH fields. But, the radmc3d exporter doesn't need it to be called ('gas', 'temperature') - you should be able to do \n\n\n```\n#!python\n\nwriter.write_dust_file(('deposit', 'all_cic_temperature'), \"dust_temperature.dat\")\n```\n\ndirectly. Another option would be to specify the positions of the sources and have radmc-3d compute the dust temperature for you, as described [here](http://yt-project.org/docs/3.2/analyzing/analysis_modules/radmc3d_export.html#continuum-emission).",
                "html": "<p>I'm afraid I don't know too much about setting up SPH fields. But, the radmc3d exporter doesn't need it to be called ('gas', 'temperature') - you should be able to do </p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">writer</span><span class=\"o\">.</span><span class=\"n\">write_dust_file</span><span class=\"p\">((</span><span class=\"s1\">&#39;deposit&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;all_cic_temperature&#39;</span><span class=\"p\">),</span> <span class=\"s2\">&quot;dust_temperature.dat&quot;</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>directly. Another option would be to specify the positions of the sources and have radmc-3d compute the dust temperature for you, as described <a href=\"http://yt-project.org/docs/3.2/analyzing/analysis_modules/radmc3d_export.html#continuum-emission\">here</a>.</p>",
                "markup": "markdown"
            },
            "created_on": "2015-08-13T18:03:01.639755+00:00",
            "updated_on": "2015-08-13T18:03:01.650814+00:00",
            "id": 9073414
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/keflavich"
                    },
                    "html": {
                        "href": "https://bitbucket.org/keflavich/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/keflavich/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Adam Ginsburg",
                "uuid": "{f5c2fa81-d2e1-4412-8b7e-6182c7adf729}",
                "username": "keflavich"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688/comments/9087976"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688/_/diff#comment-9087976"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688/comments/9073414"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688/_/diff#comment-9073414"
                    }
                },
                "id": 9073414
            },
            "pullrequest": {
                "title": "[WIP] Adding support for Octree-style output files in the RadMC-3D exporter",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688"
                    }
                },
                "id": 1688
            },
            "content": {
                "raw": "Good point, that's what I was doing anyway.  If I skip the temperature writing part, other things work, but then I hit an exception here:\n```\nvelocity_fields = [\"velocity_x\", \"velocity_y\", \"velocity_z\"]\nwriter.write_line_file(velocity_fields, \"gas_velocity.inp\")\n```\nTraceback:\n```\nTraceback (most recent call last):\n  File \"radmc_jim.py\", line 55, in <module>\n    writer.write_line_file(velocity_fields, \"gas_velocity.inp\")\n  File \"/Users/adam/repos/yt/yt/analysis_modules/radmc3d_export/RadMC3DInterface.py\", line 234, in write_line_file\n    data = ad[field]\n  File \"/Users/adam/repos/yt/yt/data_objects/data_containers.py\", line 246, in __getitem__\n    f = self._determine_fields([key])[0]\n  File \"/Users/adam/repos/yt/yt/data_objects/data_containers.py\", line 555, in _determine_fields\n    finfo = self.ds._get_field_info(\"unknown\", fname)\n  File \"/Users/adam/repos/yt/yt/data_objects/static_output.py\", line 515, in _get_field_info\n    if field in self.field_info:\n  File \"/Users/adam/repos/yt/yt/fields/field_info_container.py\", line 298, in __contains__\n    if dict.__contains__(self, key): return True\nTypeError: unhashable type: 'list'\n```\n\nThis worked previously on a grid sim, so perhaps this is a legit bug?",
                "html": "<p>Good point, that's what I was doing anyway.  If I skip the temperature writing part, other things work, but then I hit an exception here:</p>\n<div class=\"codehilite\"><pre><span></span>velocity_fields = [&quot;velocity_x&quot;, &quot;velocity_y&quot;, &quot;velocity_z&quot;]\nwriter.write_line_file(velocity_fields, &quot;gas_velocity.inp&quot;)\n</pre></div>\n\n\n<p>Traceback:</p>\n<div class=\"codehilite\"><pre><span></span>Traceback (most recent call last):\n  File &quot;radmc_jim.py&quot;, line 55, in &lt;module&gt;\n    writer.write_line_file(velocity_fields, &quot;gas_velocity.inp&quot;)\n  File &quot;/Users/adam/repos/yt/yt/analysis_modules/radmc3d_export/RadMC3DInterface.py&quot;, line 234, in write_line_file\n    data = ad[field]\n  File &quot;/Users/adam/repos/yt/yt/data_objects/data_containers.py&quot;, line 246, in __getitem__\n    f = self._determine_fields([key])[0]\n  File &quot;/Users/adam/repos/yt/yt/data_objects/data_containers.py&quot;, line 555, in _determine_fields\n    finfo = self.ds._get_field_info(&quot;unknown&quot;, fname)\n  File &quot;/Users/adam/repos/yt/yt/data_objects/static_output.py&quot;, line 515, in _get_field_info\n    if field in self.field_info:\n  File &quot;/Users/adam/repos/yt/yt/fields/field_info_container.py&quot;, line 298, in __contains__\n    if dict.__contains__(self, key): return True\nTypeError: unhashable type: &#39;list&#39;\n</pre></div>\n\n\n<p>This worked previously on a grid sim, so perhaps this is a legit bug?</p>",
                "markup": "markdown"
            },
            "created_on": "2015-08-14T05:53:52.144745+00:00",
            "updated_on": "2015-08-14T05:53:52.346829+00:00",
            "id": 9087976
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/atmyers"
                    },
                    "html": {
                        "href": "https://bitbucket.org/atmyers/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/atmyers/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Andrew Myers",
                "uuid": "{651c5647-b78f-4cd9-8d9a-5d6e8c9ac8d3}",
                "username": "atmyers"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688/comments/9090535"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688/_/diff#comment-9090535"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688/comments/9087976"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688/_/diff#comment-9087976"
                    }
                },
                "id": 9087976
            },
            "pullrequest": {
                "title": "[WIP] Adding support for Octree-style output files in the RadMC-3D exporter",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688"
                    }
                },
                "id": 1688
            },
            "content": {
                "raw": "Yeah, that looks like a legit bug - thanks for catching it. Could you try it now? You'll need to recompile the cython.",
                "html": "<p>Yeah, that looks like a legit bug - thanks for catching it. Could you try it now? You'll need to recompile the cython.</p>",
                "markup": "markdown"
            },
            "created_on": "2015-08-14T07:49:22.785230+00:00",
            "updated_on": "2015-08-14T07:49:22.794540+00:00",
            "id": 9090535
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688/comments/9091752"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688/_/diff#comment-9091752"
                }
            },
            "pullrequest": {
                "title": "[WIP] Adding support for Octree-style output files in the RadMC-3D exporter",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688"
                    }
                },
                "id": 1688
            },
            "content": {
                "raw": "All tests pass. Good job!",
                "html": "<p>All tests pass. Good job!</p>",
                "markup": "markdown"
            },
            "created_on": "2015-08-14T08:33:37.635404+00:00",
            "updated_on": "2015-08-14T08:33:37.690807+00:00",
            "id": 9091752
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688/comments/10521714"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688/_/diff#comment-10521714"
                }
            },
            "pullrequest": {
                "title": "[WIP] Adding support for Octree-style output files in the RadMC-3D exporter",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688"
                    }
                },
                "id": 1688
            },
            "content": {
                "raw": "All tests pass. Good job!",
                "html": "<p>All tests pass. Good job!</p>",
                "markup": "markdown"
            },
            "created_on": "2015-10-06T02:26:23.401641+00:00",
            "updated_on": "2015-10-06T02:26:23.450312+00:00",
            "id": 10521714
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688/comments/10608479"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688/_/diff#comment-10608479"
                }
            },
            "pullrequest": {
                "title": "[WIP] Adding support for Octree-style output files in the RadMC-3D exporter",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688"
                    }
                },
                "id": 1688
            },
            "content": {
                "raw": "All tests pass. Good job!",
                "html": "<p>All tests pass. Good job!</p>",
                "markup": "markdown"
            },
            "created_on": "2015-10-07T20:41:00.295657+00:00",
            "updated_on": "2015-10-07T20:41:00.469472+00:00",
            "id": 10608479
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/keflavich"
                    },
                    "html": {
                        "href": "https://bitbucket.org/keflavich/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/keflavich/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Adam Ginsburg",
                "uuid": "{f5c2fa81-d2e1-4412-8b7e-6182c7adf729}",
                "username": "keflavich"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688/comments/14460164"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688/_/diff#comment-14460164"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688/comments/9090535"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688/_/diff#comment-9090535"
                    }
                },
                "id": 9090535
            },
            "pullrequest": {
                "title": "[WIP] Adding support for Octree-style output files in the RadMC-3D exporter",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688"
                    }
                },
                "id": 1688
            },
            "content": {
                "raw": "Sorry about the long delay.  It looks like we got past that issue, but now:\n\n```\n#!python\n\n\nTraceback (most recent call last):\n  File \"/Users/adam/work/jimsims/code/radmc_jim.py\", line 55, in <module>\n    writer.write_line_file(velocity_fields, \"gas_velocity.inp\")\n  File \"/Users/adam/anaconda/envs/astropy27/lib/python2.7/site-packages/yt-3.3.dev0-py2.7-macosx-10.5-x86_64.egg/yt/analysis_modules/radmc3d_export/RadMC3DInterface.py\", line 243, in write_line_file\n    data_x = ad[field[0]]\n  File \"/Users/adam/anaconda/envs/astropy27/lib/python2.7/site-packages/yt-3.3.dev0-py2.7-macosx-10.5-x86_64.egg/yt/data_objects/data_containers.py\", line 246, in __getitem__\n    f = self._determine_fields([key])[0]\n  File \"/Users/adam/anaconda/envs/astropy27/lib/python2.7/site-packages/yt-3.3.dev0-py2.7-macosx-10.5-x86_64.egg/yt/data_objects/data_containers.py\", line 555, in _determine_fields\n    finfo = self.ds._get_field_info(\"unknown\", fname)\n  File \"/Users/adam/anaconda/envs/astropy27/lib/python2.7/site-packages/yt-3.3.dev0-py2.7-macosx-10.5-x86_64.egg/yt/data_objects/static_output.py\", line 543, in _get_field_info\n    raise YTFieldNotFound((ftype, fname), self)\nYTFieldNotFound: Could not find field '('all', 'velocity_x')' in ParticleData.\n```\n",
                "html": "<p>Sorry about the long delay.  It looks like we got past that issue, but now:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">Traceback</span> <span class=\"p\">(</span><span class=\"n\">most</span> <span class=\"n\">recent</span> <span class=\"n\">call</span> <span class=\"n\">last</span><span class=\"p\">):</span>\n  <span class=\"n\">File</span> <span class=\"s2\">&quot;/Users/adam/work/jimsims/code/radmc_jim.py&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">55</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"o\">&lt;</span><span class=\"n\">module</span><span class=\"o\">&gt;</span>\n    <span class=\"n\">writer</span><span class=\"o\">.</span><span class=\"n\">write_line_file</span><span class=\"p\">(</span><span class=\"n\">velocity_fields</span><span class=\"p\">,</span> <span class=\"s2\">&quot;gas_velocity.inp&quot;</span><span class=\"p\">)</span>\n  <span class=\"n\">File</span> <span class=\"s2\">&quot;/Users/adam/anaconda/envs/astropy27/lib/python2.7/site-packages/yt-3.3.dev0-py2.7-macosx-10.5-x86_64.egg/yt/analysis_modules/radmc3d_export/RadMC3DInterface.py&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">243</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"n\">write_line_file</span>\n    <span class=\"n\">data_x</span> <span class=\"o\">=</span> <span class=\"n\">ad</span><span class=\"p\">[</span><span class=\"n\">field</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]]</span>\n  <span class=\"n\">File</span> <span class=\"s2\">&quot;/Users/adam/anaconda/envs/astropy27/lib/python2.7/site-packages/yt-3.3.dev0-py2.7-macosx-10.5-x86_64.egg/yt/data_objects/data_containers.py&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">246</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"n\">__getitem__</span>\n    <span class=\"n\">f</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_determine_fields</span><span class=\"p\">([</span><span class=\"n\">key</span><span class=\"p\">])[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n  <span class=\"n\">File</span> <span class=\"s2\">&quot;/Users/adam/anaconda/envs/astropy27/lib/python2.7/site-packages/yt-3.3.dev0-py2.7-macosx-10.5-x86_64.egg/yt/data_objects/data_containers.py&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">555</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"n\">_determine_fields</span>\n    <span class=\"n\">finfo</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">ds</span><span class=\"o\">.</span><span class=\"n\">_get_field_info</span><span class=\"p\">(</span><span class=\"s2\">&quot;unknown&quot;</span><span class=\"p\">,</span> <span class=\"n\">fname</span><span class=\"p\">)</span>\n  <span class=\"n\">File</span> <span class=\"s2\">&quot;/Users/adam/anaconda/envs/astropy27/lib/python2.7/site-packages/yt-3.3.dev0-py2.7-macosx-10.5-x86_64.egg/yt/data_objects/static_output.py&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">543</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"n\">_get_field_info</span>\n    <span class=\"k\">raise</span> <span class=\"n\">YTFieldNotFound</span><span class=\"p\">((</span><span class=\"n\">ftype</span><span class=\"p\">,</span> <span class=\"n\">fname</span><span class=\"p\">),</span> <span class=\"bp\">self</span><span class=\"p\">)</span>\n<span class=\"n\">YTFieldNotFound</span><span class=\"p\">:</span> <span class=\"n\">Could</span> <span class=\"ow\">not</span> <span class=\"n\">find</span> <span class=\"n\">field</span> <span class=\"s1\">&#39;(&#39;</span><span class=\"nb\">all</span><span class=\"s1\">&#39;, &#39;</span><span class=\"n\">velocity_x</span><span class=\"s1\">&#39;)&#39;</span> <span class=\"ow\">in</span> <span class=\"n\">ParticleData</span><span class=\"o\">.</span>\n</pre></div>",
                "markup": "markdown"
            },
            "created_on": "2016-02-11T13:39:47.990179+00:00",
            "updated_on": "2016-02-11T13:39:48.076428+00:00",
            "id": 14460164
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/atmyers"
                    },
                    "html": {
                        "href": "https://bitbucket.org/atmyers/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/atmyers/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Andrew Myers",
                "uuid": "{651c5647-b78f-4cd9-8d9a-5d6e8c9ac8d3}",
                "username": "atmyers"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688/comments/14881089"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688/_/diff#comment-14881089"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688/comments/14460164"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688/_/diff#comment-14460164"
                    }
                },
                "id": 14460164
            },
            "pullrequest": {
                "title": "[WIP] Adding support for Octree-style output files in the RadMC-3D exporter",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688"
                    }
                },
                "id": 1688
            },
            "content": {
                "raw": "It looks like the sph frontends don't have ('all', 'velocity_x'), and so on. What happens if you use:\n\n```\n#!python\n\nvelocity_fields = [(\"gas\", \"velocity_x\"), (\"gas\", \"velocity_y\"), (\"gas\", \"velocity_z\")]\n```",
                "html": "<p>It looks like the sph frontends don't have ('all', 'velocity_x'), and so on. What happens if you use:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">velocity_fields</span> <span class=\"o\">=</span> <span class=\"p\">[(</span><span class=\"s2\">&quot;gas&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;velocity_x&quot;</span><span class=\"p\">),</span> <span class=\"p\">(</span><span class=\"s2\">&quot;gas&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;velocity_y&quot;</span><span class=\"p\">),</span> <span class=\"p\">(</span><span class=\"s2\">&quot;gas&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;velocity_z&quot;</span><span class=\"p\">)]</span>\n</pre></div>",
                "markup": "markdown"
            },
            "created_on": "2016-02-23T03:00:29.069820+00:00",
            "updated_on": "2016-02-23T03:00:29.072082+00:00",
            "id": 14881089
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/keflavich"
                    },
                    "html": {
                        "href": "https://bitbucket.org/keflavich/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/keflavich/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Adam Ginsburg",
                "uuid": "{f5c2fa81-d2e1-4412-8b7e-6182c7adf729}",
                "username": "keflavich"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688/comments/14886303"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688/_/diff#comment-14886303"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688/comments/14881089"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688/_/diff#comment-14881089"
                    }
                },
                "id": 14881089
            },
            "pullrequest": {
                "title": "[WIP] Adding support for Octree-style output files in the RadMC-3D exporter",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688"
                    }
                },
                "id": 1688
            },
            "content": {
                "raw": "```\nTraceback (most recent call last):\n  File \"radmc_jim.py\", line 56, in <module>\n    writer.write_line_file(velocity_fields, \"gas_velocity.inp\")\n  File \"/Users/adam/anaconda/envs/astropy27/lib/python2.7/site-packages/yt-3.3.dev0-py2.7-macosx-10.5-x86_64.egg/yt/analysis_modules/radmc3d_export/RadMC3DInterface.py\", line 243, in write_line_file\n    data_x = ad[field[0]]\n  File \"/Users/adam/anaconda/envs/astropy27/lib/python2.7/site-packages/yt-3.3.dev0-py2.7-macosx-10.5-x86_64.egg/yt/data_objects/data_containers.py\", line 246, in __getitem__\n    f = self._determine_fields([key])[0]\n  File \"/Users/adam/anaconda/envs/astropy27/lib/python2.7/site-packages/yt-3.3.dev0-py2.7-macosx-10.5-x86_64.egg/yt/data_objects/data_containers.py\", line 552, in _determine_fields\n    finfo = self.ds._get_field_info(ftype, fname)\n  File \"/Users/adam/anaconda/envs/astropy27/lib/python2.7/site-packages/yt-3.3.dev0-py2.7-macosx-10.5-x86_64.egg/yt/data_objects/static_output.py\", line 543, in _get_field_info\n    raise YTFieldNotFound((ftype, fname), self)\nyt.utilities.exceptions.YTFieldNotFound: Could not find field '('gas', 'velocity_x')' in ParticleData.\n```",
                "html": "<div class=\"codehilite\"><pre><span></span>Traceback (most recent call last):\n  File &quot;radmc_jim.py&quot;, line 56, in &lt;module&gt;\n    writer.write_line_file(velocity_fields, &quot;gas_velocity.inp&quot;)\n  File &quot;/Users/adam/anaconda/envs/astropy27/lib/python2.7/site-packages/yt-3.3.dev0-py2.7-macosx-10.5-x86_64.egg/yt/analysis_modules/radmc3d_export/RadMC3DInterface.py&quot;, line 243, in write_line_file\n    data_x = ad[field[0]]\n  File &quot;/Users/adam/anaconda/envs/astropy27/lib/python2.7/site-packages/yt-3.3.dev0-py2.7-macosx-10.5-x86_64.egg/yt/data_objects/data_containers.py&quot;, line 246, in __getitem__\n    f = self._determine_fields([key])[0]\n  File &quot;/Users/adam/anaconda/envs/astropy27/lib/python2.7/site-packages/yt-3.3.dev0-py2.7-macosx-10.5-x86_64.egg/yt/data_objects/data_containers.py&quot;, line 552, in _determine_fields\n    finfo = self.ds._get_field_info(ftype, fname)\n  File &quot;/Users/adam/anaconda/envs/astropy27/lib/python2.7/site-packages/yt-3.3.dev0-py2.7-macosx-10.5-x86_64.egg/yt/data_objects/static_output.py&quot;, line 543, in _get_field_info\n    raise YTFieldNotFound((ftype, fname), self)\nyt.utilities.exceptions.YTFieldNotFound: Could not find field &#39;(&#39;gas&#39;, &#39;velocity_x&#39;)&#39; in ParticleData.\n</pre></div>",
                "markup": "markdown"
            },
            "created_on": "2016-02-23T07:59:17.862306+00:00",
            "updated_on": "2016-02-23T07:59:17.953311+00:00",
            "id": 14886303
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/atmyers"
                    },
                    "html": {
                        "href": "https://bitbucket.org/atmyers/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/atmyers/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Andrew Myers",
                "uuid": "{651c5647-b78f-4cd9-8d9a-5d6e8c9ac8d3}",
                "username": "atmyers"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688/comments/14917774"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688/_/diff#comment-14917774"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688/comments/14881089"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688/_/diff#comment-14881089"
                    }
                },
                "id": 14881089
            },
            "pullrequest": {
                "title": "[WIP] Adding support for Octree-style output files in the RadMC-3D exporter",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688"
                    }
                },
                "id": 1688
            },
            "content": {
                "raw": "Okay, what if you try to use the CIC deposited velocity fields, which I think will be set up automatically by load_particles: \n\n\n```\n#!python\n\n ('deposit', 'all_cic_velocity_x'), \n``` \netc.",
                "html": "<p>Okay, what if you try to use the CIC deposited velocity fields, which I think will be set up automatically by load_particles: </p>\n<div class=\"codehilite\"><pre><span></span> <span class=\"p\">(</span><span class=\"s1\">&#39;deposit&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;all_cic_velocity_x&#39;</span><span class=\"p\">),</span> \n</pre></div>\n\n\n<p>etc.</p>",
                "markup": "markdown"
            },
            "created_on": "2016-02-23T18:36:03.888889+00:00",
            "updated_on": "2016-02-23T18:36:03.891405+00:00",
            "id": 14917774
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688/comments/14917865"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688/_/diff#comment-14917865"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688/comments/14886303"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688/_/diff#comment-14886303"
                    }
                },
                "id": 14886303
            },
            "pullrequest": {
                "title": "[WIP] Adding support for Octree-style output files in the RadMC-3D exporter",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688"
                    }
                },
                "id": 1688
            },
            "content": {
                "raw": "I'm a little surprised this doesn't work, since GadgetDiskGalaxy has these fields.",
                "html": "<p>I'm a little surprised this doesn't work, since GadgetDiskGalaxy has these fields.</p>",
                "markup": "markdown"
            },
            "created_on": "2016-02-23T18:37:48.522890+00:00",
            "updated_on": "2016-02-23T18:37:48.525103+00:00",
            "id": 14917865
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/keflavich"
                    },
                    "html": {
                        "href": "https://bitbucket.org/keflavich/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/keflavich/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Adam Ginsburg",
                "uuid": "{f5c2fa81-d2e1-4412-8b7e-6182c7adf729}",
                "username": "keflavich"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688/comments/14919865"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688/_/diff#comment-14919865"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688/comments/14917774"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688/_/diff#comment-14917774"
                    }
                },
                "id": 14917774
            },
            "pullrequest": {
                "title": "[WIP] Adding support for Octree-style output files in the RadMC-3D exporter",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1688"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1688"
                    }
                },
                "id": 1688
            },
            "content": {
                "raw": "Looks like that worked.  At least the crash in my code has moved outside of yt.  I can't yet confirm whether the resulting files work with radmc3d, but we're past the simple crashing stage.\n\nEDIT: actually, I see this error from radmc3d: ` ERROR while reading grid: base grid is not regularly cubically spaced.`",
                "html": "<p>Looks like that worked.  At least the crash in my code has moved outside of yt.  I can't yet confirm whether the resulting files work with radmc3d, but we're past the simple crashing stage.</p>\n<p>EDIT: actually, I see this error from radmc3d: <code>ERROR while reading grid: base grid is not regularly cubically spaced.</code></p>",
                "markup": "markdown"
            },
            "created_on": "2016-02-23T19:25:48.553926+00:00",
            "updated_on": "2016-02-23T19:26:16.487370+00:00",
            "id": 14919865
        }
    ]
}