{
    "reason": "",
    "state": "MERGED",
    "updated_on": "2013-08-08T07:27:17.506332+00:00",
    "comment_count": 3,
    "description": "I believe this is the source of the breakage reported by @astrofrog in #620.  It's not clear to me how to make a tarball like the one available on pypi so I haven't tested this.  @xarthisius, do you know the magic invocation?\r\n\r\nWe should probably backport this to stable and issue a new 2.5.4 tarball since the current one is broken.  Sorry for introducing this bug in the first place!\r\n\r\nUpdate: Adding missing empty `__init__.py` files.  Thanks @xarthisius for the advice.  I've tested this on my laptop and the `sdist` tarball now builds a working yt distribution that passes all of the unit tests.\r\n\r\nUpdate 2: Including fortran kdtree sources as well.",
    "created_on": "2013-08-06T21:57:02.318170+00:00",
    "task_count": 0,
    "merge_commit": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/d33be33da703"
            }
        },
        "hash": "d33be33da703"
    },
    "title": "Fixing an error that breaks source distributions.  Closes #620.",
    "links": {
        "diff": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/563/diff"
        },
        "decline": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/563/decline"
        },
        "self": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/563"
        },
        "activity": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/563/activity"
        },
        "merge": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/563/merge"
        },
        "commits": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/563/commits"
        },
        "statuses": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/563/statuses"
        },
        "approve": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/563/approve"
        },
        "html": {
            "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/563"
        },
        "comments": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/563/comments"
        }
    },
    "closed_by": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/xarthisius"
            },
            "html": {
                "href": "https://bitbucket.org/xarthisius/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/xarthisius/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "Kacper Kowalik",
        "uuid": "{26af8f1d-35b3-46ce-9939-09915b06e31f}",
        "username": "xarthisius"
    },
    "id": 563,
    "type": "pullrequest",
    "author": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
            },
            "html": {
                "href": "https://bitbucket.org/ngoldbaum/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "Nathan Goldbaum",
        "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
        "username": "ngoldbaum"
    },
    "source": {
        "branch": {
            "name": "yt"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/ngoldbaum/yt/commit/aac8c2b8ff0b"
                }
            },
            "hash": "aac8c2b8ff0b"
        },
        "repository": {
            "full_name": "ngoldbaum/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/ngoldbaum/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/ngoldbaum/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/ngoldbaum/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{cb18d7d9-ab77-4e80-81ed-8d32a945e0ef}"
        }
    },
    "close_source_branch": false,
    "destination": {
        "branch": {
            "name": "yt"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/8bf918bc58e7"
                }
            },
            "hash": "8bf918bc58e7"
        },
        "repository": {
            "full_name": "yt_analysis/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/yt_analysis/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{b73cb37c-40f2-493a-aaa9-41bc8d8974cc}"
        }
    },
    "comments": [
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/xarthisius"
                    },
                    "html": {
                        "href": "https://bitbucket.org/xarthisius/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/xarthisius/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Kacper Kowalik",
                "uuid": "{26af8f1d-35b3-46ce-9939-09915b06e31f}",
                "username": "xarthisius"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/563/comments/445322"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/563/_/diff#comment-445322"
                }
            },
            "pullrequest": {
                "title": "Fixing an error that breaks source distributions.  Closes #620.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/563"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/563"
                    }
                },
                "id": 563
            },
            "content": {
                "raw": "The command to build tarball is: `python setup.py sdist`. It should create file in *dist* directory. \nTo fix this for every `config.add_subpackage(DIR)`, *DIR* requires empty `__init__.py`. There are multiple places that needs to be fixed.",
                "html": "<p>The command to build tarball is: <code>python setup.py sdist</code>. It should create file in <em>dist</em> directory. \nTo fix this for every <code>config.add_subpackage(DIR)</code>, <em>DIR</em> requires empty <code>__init__.py</code>. There are multiple places that needs to be fixed.</p>",
                "markup": "markdown"
            },
            "created_on": "2013-08-07T07:13:46.205838+00:00",
            "updated_on": "2013-08-07T07:13:46.212831+00:00",
            "id": 445322
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/xarthisius"
                    },
                    "html": {
                        "href": "https://bitbucket.org/xarthisius/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/xarthisius/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Kacper Kowalik",
                "uuid": "{26af8f1d-35b3-46ce-9939-09915b06e31f}",
                "username": "xarthisius"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/563/comments/445560"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/563/_/diff#comment-445560"
                }
            },
            "pullrequest": {
                "title": "Fixing an error that breaks source distributions.  Closes #620.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/563"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/563"
                    }
                },
                "id": 563
            },
            "content": {
                "raw": "Apart from changes so far I've need:\n````\n--- a/MANIFEST.in\tWed Aug 07 00:46:51 2013 -0700\n+++ b/MANIFEST.in\tWed Aug 07 10:04:19 2013 +0200\n@@ -1,3 +1,4 @@\n include distribute_setup.py README* CREDITS FUNDING LICENSE.txt\n recursive-include yt/gui/reason/html *.html *.png *.ico *.js\n recursive-include yt *.pyx *.pxd *.hh *.h README*\n+recursive-include yt/utilities/kdtree *.f90 *.v Makefile LICENSE\n````\n\nI've also prepared jenkins test for the tarball (`py2.7-yt-2.x_sdist`) so the situation won't happen again. ",
                "html": "<p>Apart from changes so far I've need:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gd\">--- a/MANIFEST.in   Wed Aug 07 00:46:51 2013 -0700</span>\n<span class=\"gi\">+++ b/MANIFEST.in   Wed Aug 07 10:04:19 2013 +0200</span>\n<span class=\"gu\">@@ -1,3 +1,4 @@</span>\n include distribute_setup.py README* CREDITS FUNDING LICENSE.txt\n recursive-include yt/gui/reason/html *.html *.png *.ico *.js\n recursive-include yt *.pyx *.pxd *.hh *.h README*\n<span class=\"gi\">+recursive-include yt/utilities/kdtree *.f90 *.v Makefile LICENSE</span>\n</pre></div>\n\n\n<p>I've also prepared jenkins test for the tarball (<code>py2.7-yt-2.x_sdist</code>) so the situation won't happen again. </p>",
                "markup": "markdown"
            },
            "created_on": "2013-08-07T08:59:55.382832+00:00",
            "updated_on": "2013-08-07T08:59:55.394160+00:00",
            "id": 445560
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/563/comments/447390"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/563/_/diff#comment-447390"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/563/comments/445560"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/563/_/diff#comment-445560"
                    }
                },
                "id": 445560
            },
            "pullrequest": {
                "title": "Fixing an error that breaks source distributions.  Closes #620.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/563"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/563"
                    }
                },
                "id": 563
            },
            "content": {
                "raw": "Good catch, I didn't have forthon installed on my laptop so I missed this.",
                "html": "<p>Good catch, I didn't have forthon installed on my laptop so I missed this.</p>",
                "markup": "markdown"
            },
            "created_on": "2013-08-07T16:37:51.914279+00:00",
            "updated_on": "2013-08-07T16:37:51.922205+00:00",
            "id": 447390
        }
    ]
}