{
    "reason": "",
    "state": "MERGED",
    "updated_on": "2011-10-27T16:33:23.012660+00:00",
    "comment_count": 4,
    "description": "Hi Jeff, Stephen, John, Sam, whoever else might be interested,\r\n\r\nThis set of changes should make the AdaptiveRayCamera work properly.  This script demonstrates the usage:\r\n\r\nhttp://paste.yt-project.org/show/1895/\r\n\r\nNote that the min/max should be equal to 1.0 in this; it calculates a projection out 0.25, normalized to 1.0, through the Ones field.  So any divergence from that indicates a ray is being lost.\r\n\r\nRight now I do not have a plotting solution.  Any comments or suggestions -- or any problems you notice! -- would be greatly appreciated.\r\n\r\nI think it works and I'd appreciate a pull into the source, particularly as the code that is presently there does not work correctly.\r\n\r\n-Matt\r\n\r\n**UPDATE**\r\n\r\nThanks to Stephen, I identified both a memory leak and a condition where inside a unigrid or any grid where you terminate inside the first grid (or terminate when you refine) you'd never exit the appropriate loop.  This update fixes that.",
    "created_on": "2011-10-26T21:24:53.047029+00:00",
    "task_count": 0,
    "merge_commit": null,
    "title": "HEALPix adaptive ray tracing",
    "links": {
        "diff": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/13/diff"
        },
        "decline": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/13/decline"
        },
        "self": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/13"
        },
        "activity": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/13/activity"
        },
        "merge": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/13/merge"
        },
        "commits": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/13/commits"
        },
        "statuses": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/13/statuses"
        },
        "approve": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/13/approve"
        },
        "html": {
            "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/13"
        },
        "comments": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/13/comments"
        }
    },
    "closed_by": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/sskory"
            },
            "html": {
                "href": "https://bitbucket.org/sskory/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/sskory/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "Stephen Skory",
        "uuid": "{11787434-dea2-42d8-b94d-88d347eb151a}",
        "username": "sskory"
    },
    "id": 13,
    "type": "pullrequest",
    "author": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
            },
            "html": {
                "href": "https://bitbucket.org/MatthewTurk/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "Matt Turk",
        "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
        "username": "MatthewTurk"
    },
    "source": {
        "branch": {
            "name": "yt"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/MatthewTurk/yt/commit/0eb936dbc343"
                }
            },
            "hash": "0eb936dbc343"
        },
        "repository": {
            "full_name": "MatthewTurk/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/MatthewTurk/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/MatthewTurk/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/MatthewTurk/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{b5dfa70b-707c-4330-92a8-e3ea1bee18b3}"
        }
    },
    "close_source_branch": false,
    "destination": {
        "branch": {
            "name": "yt"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/00bbf52e0a59"
                }
            },
            "hash": "00bbf52e0a59"
        },
        "repository": {
            "full_name": "yt_analysis/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/yt_analysis/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{b73cb37c-40f2-493a-aaa9-41bc8d8974cc}"
        }
    },
    "comments": [
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/sskory"
                    },
                    "html": {
                        "href": "https://bitbucket.org/sskory/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/sskory/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Stephen Skory",
                "uuid": "{11787434-dea2-42d8-b94d-88d347eb151a}",
                "username": "sskory"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/13/comments/611"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/13/_/diff#comment-611"
                }
            },
            "pullrequest": {
                "title": "HEALPix adaptive ray tracing",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/13"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/13"
                    }
                },
                "id": 13
            },
            "content": {
                "raw": "Hi Matt,\n\nI tried this and it looks like there's a run-away loop. I see the memory just go up and up and the progress bar doesn't get past 0%. I killed it once it had gotten to 1.3GB in private memory when running on a 40^3 unigrid dataset, so I guessed something was up. Any ideas what's up?",
                "html": "<p>Hi Matt,</p>\n<p>I tried this and it looks like there's a run-away loop. I see the memory just go up and up and the progress bar doesn't get past 0%. I killed it once it had gotten to 1.3GB in private memory when running on a 40^3 unigrid dataset, so I guessed something was up. Any ideas what's up?</p>\n",
                "markup": "creole"
            },
            "created_on": "2011-10-26T23:08:39.977422+00:00",
            "updated_on": "2011-10-26T23:08:40.001253+00:00",
            "id": 611
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/13/comments/646"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/13/_/diff#comment-646"
                }
            },
            "pullrequest": {
                "title": "HEALPix adaptive ray tracing",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/13"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/13"
                    }
                },
                "id": 13
            },
            "content": {
                "raw": "Looks like there's a particular case I didn't run into.  If you could supply the items I need to reproduce, I'm happy to take a look and update the pull request.",
                "html": "<p>Looks like there's a particular case I didn't run into.  If you could supply the items I need to reproduce, I'm happy to take a look and update the pull request.</p>\n",
                "markup": "creole"
            },
            "created_on": "2011-10-27T12:07:50.184081+00:00",
            "updated_on": "2011-10-27T12:07:50.201841+00:00",
            "id": 646
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/sskory"
                    },
                    "html": {
                        "href": "https://bitbucket.org/sskory/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/sskory/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Stephen Skory",
                "uuid": "{11787434-dea2-42d8-b94d-88d347eb151a}",
                "username": "sskory"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/13/comments/657"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/13/_/diff#comment-657"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/13/comments/646"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/13/_/diff#comment-646"
                    }
                },
                "id": 646
            },
            "pullrequest": {
                "title": "HEALPix adaptive ray tracing",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/13"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/13"
                    }
                },
                "id": 13
            },
            "content": {
                "raw": "I've put the dataset I tried it on here: http://stephenskory.com/DD0030.zip. 6.5MB. Let me know if you can't reproduce and I'll do some more work on it on my end.",
                "html": "<p>I've put the dataset I tried it on here: <a href=\"http://stephenskory.com/DD0030.zip\">http://stephenskory.com/DD0030.zip</a>. 6.5MB. Let me know if you can't reproduce and I'll do some more work on it on my end.</p>\n",
                "markup": "creole"
            },
            "created_on": "2011-10-27T16:09:31.652441+00:00",
            "updated_on": "2011-10-27T16:09:31.673703+00:00",
            "id": 657
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/sskory"
                    },
                    "html": {
                        "href": "https://bitbucket.org/sskory/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/sskory/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Stephen Skory",
                "uuid": "{11787434-dea2-42d8-b94d-88d347eb151a}",
                "username": "sskory"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/13/comments/658"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/13/_/diff#comment-658"
                }
            },
            "pullrequest": {
                "title": "HEALPix adaptive ray tracing",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/13"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/13"
                    }
                },
                "id": 13
            },
            "content": {
                "raw": "With Matt's update things work for me. Awesome. Pulling!",
                "html": "<p>With Matt's update things work for me. Awesome. Pulling!</p>\n",
                "markup": "creole"
            },
            "created_on": "2011-10-27T16:33:15.713040+00:00",
            "updated_on": "2011-10-27T16:33:15.732558+00:00",
            "id": 658
        }
    ]
}