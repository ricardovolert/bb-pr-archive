{
    "reason": "",
    "state": "MERGED",
    "updated_on": "2016-04-06T18:13:42.940492+00:00",
    "comment_count": 0,
    "description": "This fixes a fatal error that is generated by installing from a source distribution of yt right now:\r\n\r\n\r\n```\r\n#!python\r\n\r\n  Failed building wheel for yt\r\n  Running setup.py clean for yt\r\nFailed to build yt\r\nInstalling collected packages: yt\r\n  Running setup.py install for yt ... error\r\n    Complete output from command /usr/local/opt/python/bin/python2.7 -u -c \"import setuptools, tokenize;__file__='/var/folders/cl/fjcd0k5x6ync0fwnzvs80q_w0000gn/T/pip-Alkz4i-build/setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" install --record /var/folders/cl/fjcd0k5x6ync0fwnzvs80q_w0000gn/T/pip-NShbOZ-record/install-record.txt --single-version-externally-managed --compile:\r\n    EMBREE_DIR not set. Attempting to read embree.cfg\r\n    Reading Embree location from embree.cfg failed.\r\n    If compilation fails, please place the base directory\r\n    of your Embree install in embree.cfg and restart.\r\n    running install\r\n    running build\r\n    running build_py\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"/var/folders/cl/fjcd0k5x6ync0fwnzvs80q_w0000gn/T/pip-Alkz4i-build/setup.py\", line 389, in <module>\r\n        ext_modules=cython_extensions + extensions\r\n      File \"/usr/local/Cellar/python/2.7.10_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/distutils/core.py\", line 151, in setup\r\n        dist.run_commands()\r\n      File \"/usr/local/Cellar/python/2.7.10_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/distutils/dist.py\", line 953, in run_commands\r\n        self.run_command(cmd)\r\n      File \"/usr/local/Cellar/python/2.7.10_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/distutils/dist.py\", line 972, in run_command\r\n        cmd_obj.run()\r\n      File \"/usr/local/lib/python2.7/site-packages/setuptools/command/install.py\", line 61, in run\r\n        return orig.install.run(self)\r\n      File \"/usr/local/Cellar/python/2.7.10_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/distutils/command/install.py\", line 563, in run\r\n        self.run_command('build')\r\n      File \"/usr/local/Cellar/python/2.7.10_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/distutils/cmd.py\", line 326, in run_command\r\n        self.distribution.run_command(command)\r\n      File \"/usr/local/Cellar/python/2.7.10_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/distutils/dist.py\", line 972, in run_command\r\n        cmd_obj.run()\r\n      File \"/usr/local/Cellar/python/2.7.10_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/distutils/command/build.py\", line 127, in run\r\n        self.run_command(cmd_name)\r\n      File \"/usr/local/Cellar/python/2.7.10_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/distutils/cmd.py\", line 326, in run_command\r\n        self.distribution.run_command(command)\r\n      File \"/usr/local/Cellar/python/2.7.10_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/distutils/dist.py\", line 972, in run_command\r\n        cmd_obj.run()\r\n      File \"/var/folders/cl/fjcd0k5x6ync0fwnzvs80q_w0000gn/T/pip-Alkz4i-build/setup.py\", line 314, in run\r\n        changeset = get_mercurial_changeset_id(src_dir)\r\n      File \"/private/var/folders/cl/fjcd0k5x6ync0fwnzvs80q_w0000gn/T/pip-Alkz4i-build/setupext.py\", line 98, in get_mercurial_changeset_id\r\n        with hglib.open(target_dir) as repo:\r\n      File \"/usr/local/lib/python2.7/site-packages/hglib/__init__.py\", line 11, in open\r\n        return client.hgclient(path, encoding, configs)\r\n      File \"/usr/local/lib/python2.7/site-packages/hglib/client.py\", line 63, in __init__\r\n        self.open()\r\n      File \"/usr/local/lib/python2.7/site-packages/hglib/client.py\", line 193, in open\r\n        self._readhello()\r\n      File \"/usr/local/lib/python2.7/site-packages/hglib/client.py\", line 75, in _readhello\r\n        ch, msg = self._readchannel()\r\n      File \"/usr/local/lib/python2.7/site-packages/hglib/client.py\", line 99, in _readchannel\r\n        raise error.ServerError()\r\n    hglib.error.ServerError\r\n\r\n```\r\n",
    "created_on": "2016-04-04T15:25:02.607610+00:00",
    "task_count": 0,
    "merge_commit": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/9488a6181a06"
            }
        },
        "hash": "9488a6181a06"
    },
    "title": "Be more defensive about guessing that we're installing from a repository.",
    "links": {
        "diff": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2108/diff"
        },
        "decline": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2108/decline"
        },
        "self": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2108"
        },
        "activity": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2108/activity"
        },
        "merge": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2108/merge"
        },
        "commits": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2108/commits"
        },
        "statuses": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2108/statuses"
        },
        "approve": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2108/approve"
        },
        "html": {
            "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2108"
        },
        "comments": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2108/comments"
        }
    },
    "closed_by": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
            },
            "html": {
                "href": "https://bitbucket.org/ngoldbaum/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "Nathan Goldbaum",
        "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
        "username": "ngoldbaum"
    },
    "id": 2108,
    "type": "pullrequest",
    "author": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
            },
            "html": {
                "href": "https://bitbucket.org/ngoldbaum/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "Nathan Goldbaum",
        "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
        "username": "ngoldbaum"
    },
    "source": {
        "branch": {
            "name": "yt"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/ngoldbaum/yt/commit/a1c151222bf8"
                }
            },
            "hash": "a1c151222bf8"
        },
        "repository": {
            "full_name": "ngoldbaum/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/ngoldbaum/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/ngoldbaum/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/ngoldbaum/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{cb18d7d9-ab77-4e80-81ed-8d32a945e0ef}"
        }
    },
    "close_source_branch": false,
    "destination": {
        "branch": {
            "name": "yt"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/b446990d1ee3"
                }
            },
            "hash": "b446990d1ee3"
        },
        "repository": {
            "full_name": "yt_analysis/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/yt_analysis/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{b73cb37c-40f2-493a-aaa9-41bc8d8974cc}"
        }
    },
    "comments": []
}