{
    "links": {
        "decline": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2266/decline"
        },
        "approve": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2266/approve"
        },
        "html": {
            "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2266"
        },
        "activity": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2266/activity"
        },
        "self": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2266"
        },
        "commits": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2266/commits"
        },
        "merge": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2266/merge"
        },
        "statuses": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2266/statuses"
        },
        "comments": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2266/comments"
        },
        "diff": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2266/diff"
        }
    },
    "task_count": 0,
    "source": {
        "repository": {
            "full_name": "ngoldbaum/yt",
            "uuid": "{cb18d7d9-ab77-4e80-81ed-8d32a945e0ef}",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/ngoldbaum/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/ngoldbaum/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/ngoldbaum/yt/avatar/32/"
                }
            },
            "name": "yt"
        },
        "commit": {
            "hash": "3eeedb1db582",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/ngoldbaum/yt/commit/3eeedb1db582"
                }
            }
        },
        "branch": {
            "name": "yt"
        }
    },
    "closed_by": {
        "username": "xarthisius",
        "type": "user",
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/xarthisius"
            },
            "html": {
                "href": "https://bitbucket.org/xarthisius/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/xarthisius/avatar/32/"
            }
        },
        "display_name": "Kacper Kowalik",
        "uuid": "{26af8f1d-35b3-46ce-9939-09915b06e31f}"
    },
    "title": "Volume Source refactor",
    "id": 2266,
    "comment_count": 12,
    "created_on": "2016-07-08T21:47:49.290358+00:00",
    "merge_commit": {
        "hash": "e7aabcd61165",
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/e7aabcd61165"
            }
        }
    },
    "comments": [
        {
            "content": {
                "markup": "markdown",
                "raw": "Something went wrong, you should checkout https://tests.yt-project.org/job/yt_docs/969/",
                "html": "<p>Something went wrong, you should checkout <a href=\"https://tests.yt-project.org/job/yt_docs/969/\" rel=\"nofollow\">https://tests.yt-project.org/job/yt_docs/969/</a></p>"
            },
            "user": {
                "username": "yt-fido",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2266/comments/20803990"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2266/_/diff#comment-20803990"
                }
            },
            "created_on": "2016-07-09T06:08:34.861294+00:00",
            "updated_on": "2016-07-09T06:08:34.928483+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2266"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2266"
                    }
                },
                "title": "Volume Source refactor",
                "id": 2266
            },
            "type": "pullrequest_comment",
            "id": 20803990
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Docs were built for this PR. See https://tests.yt-project.org/job/yt_docs/970/\nDocs build visible at https://tests.yt-project.org/job/yt_docs/970/artifact/sandbox/doc/build/html/index.html",
                "html": "<p>Docs were built for this PR. See <a href=\"https://tests.yt-project.org/job/yt_docs/970/\" rel=\"nofollow\">https://tests.yt-project.org/job/yt_docs/970/</a>\nDocs build visible at <a href=\"https://tests.yt-project.org/job/yt_docs/970/artifact/sandbox/doc/build/html/index.html\" rel=\"nofollow\">https://tests.yt-project.org/job/yt_docs/970/artifact/sandbox/doc/build/html/index.html</a></p>"
            },
            "user": {
                "username": "yt-fido",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2266/comments/20805985"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2266/_/diff#comment-20805985"
                }
            },
            "created_on": "2016-07-09T17:33:47.502615+00:00",
            "updated_on": "2016-07-09T17:33:47.571368+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2266"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2266"
                    }
                },
                "title": "Volume Source refactor",
                "id": 2266
            },
            "type": "pullrequest_comment",
            "id": 20805985
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Hi @ngoldbaum , in general this looks good to me, and should reduce the complexity a bit. I was never completely happy with what 'auto' does. I think we used a similar invalidation mechanism on the camera object. One issue that I can't quite tell if it exists is whether or not the expensive bits in set_field that happens after the invalidation is called (like taking the log of a bunch of brick data) would happen multiple times if you did something like set the field, then set the log-edness, then set the using of the ghost zones. I think right now it would end up calling set_field multiple times. Ideally when needed just before traversing the data, the set fields would get run and any invalidation at that time would occur.I'm not quite sure where to put that invalidation code at the moment. Maybe on the AMRKDTree itself, then during the traverse call it could check to see if it is valid. If not it goes through the bits in set_field to recalc the logged/ghost zoned data. Let me know if that makes sense. A good test would just be timing the old setup doing one render setting the loggedness back and forth to True/False one after another vs the new way.",
                "html": "<p>Hi <a href=\"/ngoldbaum/\" rel=\"nofollow\" title=\"@ngoldbaum\" class=\"mention\">Nathan Goldbaum</a> , in general this looks good to me, and should reduce the complexity a bit. I was never completely happy with what 'auto' does. I think we used a similar invalidation mechanism on the camera object. One issue that I can't quite tell if it exists is whether or not the expensive bits in set_field that happens after the invalidation is called (like taking the log of a bunch of brick data) would happen multiple times if you did something like set the field, then set the log-edness, then set the using of the ghost zones. I think right now it would end up calling set_field multiple times. Ideally when needed just before traversing the data, the set fields would get run and any invalidation at that time would occur.I'm not quite sure where to put that invalidation code at the moment. Maybe on the AMRKDTree itself, then during the traverse call it could check to see if it is valid. If not it goes through the bits in set_field to recalc the logged/ghost zoned data. Let me know if that makes sense. A good test would just be timing the old setup doing one render setting the loggedness back and forth to True/False one after another vs the new way.</p>"
            },
            "user": {
                "username": "samskillman",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/samskillman"
                    },
                    "html": {
                        "href": "https://bitbucket.org/samskillman/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/samskillman/avatar/32/"
                    }
                },
                "display_name": "Sam Skillman",
                "uuid": "{b03f9d96-1c52-4f21-bbdc-72f8e2a97a81}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2266/comments/20812327"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2266/_/diff#comment-20812327"
                }
            },
            "created_on": "2016-07-11T00:07:04.783591+00:00",
            "updated_on": "2016-07-11T00:07:04.793038+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2266"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2266"
                    }
                },
                "title": "Volume Source refactor",
                "id": 2266
            },
            "type": "pullrequest_comment",
            "id": 20812327
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Thanks for looking this over! Your comment about lazily calling `volume.set_fields` as well is well-taken. The latest updates to the PR should address that concern: I've added a `validate_volume` decorator which right now is only applied to `VolumeSource.render`. This is the only place the volume's `set_field` method is called, however a number of places can set `_volume_valid` to `False`, which triggers the `set_field` call.",
                "html": "<p>Thanks for looking this over! Your comment about lazily calling <code>volume.set_fields</code> as well is well-taken. The latest updates to the PR should address that concern: I've added a <code>validate_volume</code> decorator which right now is only applied to <code>VolumeSource.render</code>. This is the only place the volume's <code>set_field</code> method is called, however a number of places can set <code>_volume_valid</code> to <code>False</code>, which triggers the <code>set_field</code> call.</p>"
            },
            "user": {
                "username": "ngoldbaum",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}"
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2266/comments/20812327"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2266/_/diff#comment-20812327"
                    }
                },
                "id": 20812327
            },
            "created_on": "2016-07-11T02:02:20.997488+00:00",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2266/comments/20813509"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2266/_/diff#comment-20813509"
                }
            },
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2266"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2266"
                    }
                },
                "title": "Volume Source refactor",
                "id": 2266
            },
            "type": "pullrequest_comment",
            "id": 20813509,
            "updated_on": "2016-07-11T02:02:20.999399+00:00"
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Docs were built for this PR. See https://tests.yt-project.org/job/yt_docs/976/\nDocs build visible at https://tests.yt-project.org/job/yt_docs/976/artifact/sandbox/doc/build/html/index.html",
                "html": "<p>Docs were built for this PR. See <a href=\"https://tests.yt-project.org/job/yt_docs/976/\" rel=\"nofollow\">https://tests.yt-project.org/job/yt_docs/976/</a>\nDocs build visible at <a href=\"https://tests.yt-project.org/job/yt_docs/976/artifact/sandbox/doc/build/html/index.html\" rel=\"nofollow\">https://tests.yt-project.org/job/yt_docs/976/artifact/sandbox/doc/build/html/index.html</a></p>"
            },
            "user": {
                "username": "yt-fido",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2266/comments/20815968"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2266/_/diff#comment-20815968"
                }
            },
            "created_on": "2016-07-11T05:26:20.188702+00:00",
            "updated_on": "2016-07-11T05:26:20.250705+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2266"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2266"
                    }
                },
                "title": "Volume Source refactor",
                "id": 2266
            },
            "type": "pullrequest_comment",
            "id": 20815968
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Docs were built for this PR. See https://tests.yt-project.org/job/yt_docs/977/\nDocs build visible at https://tests.yt-project.org/job/yt_docs/977/artifact/sandbox/doc/build/html/index.html",
                "html": "<p>Docs were built for this PR. See <a href=\"https://tests.yt-project.org/job/yt_docs/977/\" rel=\"nofollow\">https://tests.yt-project.org/job/yt_docs/977/</a>\nDocs build visible at <a href=\"https://tests.yt-project.org/job/yt_docs/977/artifact/sandbox/doc/build/html/index.html\" rel=\"nofollow\">https://tests.yt-project.org/job/yt_docs/977/artifact/sandbox/doc/build/html/index.html</a></p>"
            },
            "user": {
                "username": "yt-fido",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2266/comments/20817262"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2266/_/diff#comment-20817262"
                }
            },
            "created_on": "2016-07-11T06:36:51.180584+00:00",
            "updated_on": "2016-07-11T06:36:51.252189+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2266"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2266"
                    }
                },
                "title": "Volume Source refactor",
                "id": 2266
            },
            "type": "pullrequest_comment",
            "id": 20817262
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "I've added expanded documentation including several new examples that make use of functionality added by this pull request.\n\nThis should be ready to be reviewed and merged now, although I'd like to see if there are any bugs in the scripts i've added to the docs build first.",
                "html": "<p>I've added expanded documentation including several new examples that make use of functionality added by this pull request.</p>\n<p>This should be ready to be reviewed and merged now, although I'd like to see if there are any bugs in the scripts i've added to the docs build first.</p>"
            },
            "user": {
                "username": "ngoldbaum",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2266/comments/20862611"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2266/_/diff#comment-20862611"
                }
            },
            "created_on": "2016-07-11T21:20:15.521354+00:00",
            "updated_on": "2016-07-11T21:20:15.523139+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2266"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2266"
                    }
                },
                "title": "Volume Source refactor",
                "id": 2266
            },
            "type": "pullrequest_comment",
            "id": 20862611
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "I looked this over, and I also pulled in the changes and tried it on a couple of renderings. Everything looks great to me.",
                "html": "<p>I looked this over, and I also pulled in the changes and tried it on a couple of renderings. Everything looks great to me.</p>"
            },
            "user": {
                "username": "atmyers",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/atmyers"
                    },
                    "html": {
                        "href": "https://bitbucket.org/atmyers/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/atmyers/avatar/32/"
                    }
                },
                "display_name": "Andrew Myers",
                "uuid": "{651c5647-b78f-4cd9-8d9a-5d6e8c9ac8d3}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2266/comments/20864312"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2266/_/diff#comment-20864312"
                }
            },
            "created_on": "2016-07-11T22:08:57.836394+00:00",
            "updated_on": "2016-07-11T22:08:57.838428+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2266"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2266"
                    }
                },
                "title": "Volume Source refactor",
                "id": 2266
            },
            "type": "pullrequest_comment",
            "id": 20864312
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Docs were built for this PR. See https://tests.yt-project.org/job/yt_docs/981/\nDocs build visible at https://tests.yt-project.org/job/yt_docs/981/artifact/sandbox/doc/build/html/index.html",
                "html": "<p>Docs were built for this PR. See <a href=\"https://tests.yt-project.org/job/yt_docs/981/\" rel=\"nofollow\">https://tests.yt-project.org/job/yt_docs/981/</a>\nDocs build visible at <a href=\"https://tests.yt-project.org/job/yt_docs/981/artifact/sandbox/doc/build/html/index.html\" rel=\"nofollow\">https://tests.yt-project.org/job/yt_docs/981/artifact/sandbox/doc/build/html/index.html</a></p>"
            },
            "user": {
                "username": "yt-fido",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2266/comments/20867779"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2266/_/diff#comment-20867779"
                }
            },
            "created_on": "2016-07-12T00:34:21.229679+00:00",
            "updated_on": "2016-07-12T00:34:21.308130+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2266"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2266"
                    }
                },
                "title": "Volume Source refactor",
                "id": 2266
            },
            "type": "pullrequest_comment",
            "id": 20867779
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "The changes to this file may bear a close look. I think that calling `render()` or `save_annotated()` demonstrates a pretty clear intention to regenerate the rendering, so we should invalidate the cache in these cases.",
                "html": "<p>The changes to this file may bear a close look. I think that calling <code>render()</code> or <code>save_annotated()</code> demonstrates a pretty clear intention to regenerate the rendering, so we should invalidate the cache in these cases.</p>"
            },
            "user": {
                "username": "ngoldbaum",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2266/comments/20868483"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2266/_/diff#comment-20868483"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/ngoldbaum/yt:3eeedb1db582..b58837b96e9d?path=yt%2Fvisualization%2Fvolume_rendering%2Fscene.py"
                }
            },
            "created_on": "2016-07-12T01:09:14.408919+00:00",
            "updated_on": "2016-07-12T01:09:14.413356+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2266"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2266"
                    }
                },
                "title": "Volume Source refactor",
                "id": 2266
            },
            "inline": {
                "to": null,
                "path": "yt/visualization/volume_rendering/scene.py",
                "from": null
            },
            "type": "pullrequest_comment",
            "id": 20868483
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Docs were built for this PR. See https://tests.yt-project.org/job/yt_docs/985/\nDocs build visible at https://tests.yt-project.org/job/yt_docs/985/artifact/sandbox/doc/build/html/index.html",
                "html": "<p>Docs were built for this PR. See <a href=\"https://tests.yt-project.org/job/yt_docs/985/\" rel=\"nofollow\">https://tests.yt-project.org/job/yt_docs/985/</a>\nDocs build visible at <a href=\"https://tests.yt-project.org/job/yt_docs/985/artifact/sandbox/doc/build/html/index.html\" rel=\"nofollow\">https://tests.yt-project.org/job/yt_docs/985/artifact/sandbox/doc/build/html/index.html</a></p>"
            },
            "user": {
                "username": "yt-fido",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2266/comments/20872783"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2266/_/diff#comment-20872783"
                }
            },
            "created_on": "2016-07-12T05:27:11.986757+00:00",
            "updated_on": "2016-07-12T05:27:12.056319+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2266"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2266"
                    }
                },
                "title": "Volume Source refactor",
                "id": 2266
            },
            "type": "pullrequest_comment",
            "id": 20872783
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Docs were built for this PR. See https://tests.yt-project.org/job/yt_docs/986/\nDocs build visible at https://tests.yt-project.org/job/yt_docs/986/artifact/sandbox/doc/build/html/index.html",
                "html": "<p>Docs were built for this PR. See <a href=\"https://tests.yt-project.org/job/yt_docs/986/\" rel=\"nofollow\">https://tests.yt-project.org/job/yt_docs/986/</a>\nDocs build visible at <a href=\"https://tests.yt-project.org/job/yt_docs/986/artifact/sandbox/doc/build/html/index.html\" rel=\"nofollow\">https://tests.yt-project.org/job/yt_docs/986/artifact/sandbox/doc/build/html/index.html</a></p>"
            },
            "user": {
                "username": "yt-fido",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2266/comments/20875189"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2266/_/diff#comment-20875189"
                }
            },
            "created_on": "2016-07-12T06:56:57.281835+00:00",
            "updated_on": "2016-07-12T06:56:57.344580+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2266"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2266"
                    }
                },
                "title": "Volume Source refactor",
                "id": 2266
            },
            "type": "pullrequest_comment",
            "id": 20875189
        }
    ],
    "reason": "",
    "type": "pullrequest",
    "close_source_branch": false,
    "state": "MERGED",
    "description": "This substantially refactors the VolumeSource to rely on properties. It also removes the `auto` keyword argument from the `VolumeSource` initializer, instead relying on lazily generating the KDTree and transfer function when they are needed. This should make it more robust and avoid repeated, unnecessary computation.\r\n\r\nI've also made a couple other minor changes to the `VolumeSource` API:\r\n\r\n* Added a new `log_field` property and `set_log` member function. This allows user control over whether the rendering happens in log space or linear space.\r\n* Changed `no_ghost` to `use_ghost_zones`.\r\n* Changed `set_fields` to `set_field`, added a `weight_field` property and a `set_weight_field` function that is currently only used by off-axis projections. In principle we could expand this for other types of multivariate renderings.\r\n* The volume is now generated based on the value of a private boolean attribute named `_volume_valid`. Methods that invalidate the volume are decorated with `invalidate_volume`, which deletes the volume if it exists and sets `_validate_volume` to False. Now only the method `validate_volume` does the expensive `volume.set_fields` call. Currently only the `render` method is decorated with `validate_volume`.",
    "author": {
        "username": "ngoldbaum",
        "type": "user",
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
            },
            "html": {
                "href": "https://bitbucket.org/ngoldbaum/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
            }
        },
        "display_name": "Nathan Goldbaum",
        "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}"
    },
    "updated_on": "2016-07-16T16:25:08.016701+00:00",
    "destination": {
        "repository": {
            "full_name": "yt_analysis/yt",
            "uuid": "{b73cb37c-40f2-493a-aaa9-41bc8d8974cc}",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/yt_analysis/yt/avatar/32/"
                }
            },
            "name": "yt"
        },
        "commit": {
            "hash": "b58837b96e9d",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/b58837b96e9d"
                }
            }
        },
        "branch": {
            "name": "yt"
        }
    }
}