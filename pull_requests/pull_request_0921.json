{
    "reason": "",
    "state": "MERGED",
    "updated_on": "2014-05-24T04:13:33.957153+00:00",
    "comment_count": 11,
    "description": "I've created this notebook to show off the new functionality:\r\n\r\nhttp://nbviewer.ipython.org/gist/ngoldbaum/23dc651ff18a3536b9c5\r\n\r\nUpdate: Updated to reflect Sam's comments.  I've also updated the notebook link above.  I now recreate the profile when setting the x limits for ProfilePlot and the x and y limits for PhasePlot.  Since these are bin fields they have to be treated differently than the PhasePlot z limits.  @sleitner thanks for the excellent suggestion - this is a much more useful approach, I think.\r\n\r\nUpdate2: Had to reissue this PR due to some corruption caused by auto-updating a pull request. I'm getting really tired of this.\r\n\r\nUpdate3: Need to cache units as well when recreating profiles.",
    "created_on": "2014-05-22T20:38:17.240051+00:00",
    "task_count": 0,
    "merge_commit": null,
    "title": "Adding set_xlim and set_ylim to ProfilePlot and PhasePlot.",
    "links": {
        "diff": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/921/diff"
        },
        "decline": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/921/decline"
        },
        "self": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/921"
        },
        "activity": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/921/activity"
        },
        "merge": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/921/merge"
        },
        "commits": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/921/commits"
        },
        "statuses": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/921/statuses"
        },
        "approve": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/921/approve"
        },
        "html": {
            "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/921"
        },
        "comments": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/921/comments"
        }
    },
    "closed_by": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/jzuhone"
            },
            "html": {
                "href": "https://bitbucket.org/jzuhone/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/jzuhone/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "John ZuHone",
        "uuid": "{0c51edfa-e317-432f-bbef-7401c6e2aa8a}",
        "username": "jzuhone"
    },
    "id": 921,
    "type": "pullrequest",
    "author": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
            },
            "html": {
                "href": "https://bitbucket.org/ngoldbaum/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "Nathan Goldbaum",
        "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
        "username": "ngoldbaum"
    },
    "source": {
        "branch": {
            "name": "yt-3.0"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/ngoldbaum/yt/commit/4702092b7f7d"
                }
            },
            "hash": "4702092b7f7d"
        },
        "repository": {
            "full_name": "ngoldbaum/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/ngoldbaum/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/ngoldbaum/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/ngoldbaum/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{cb18d7d9-ab77-4e80-81ed-8d32a945e0ef}"
        }
    },
    "close_source_branch": false,
    "destination": {
        "branch": {
            "name": "yt-3.0"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/6f681b19224f"
                }
            },
            "hash": "6f681b19224f"
        },
        "repository": {
            "full_name": "yt_analysis/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/yt_analysis/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{b73cb37c-40f2-493a-aaa9-41bc8d8974cc}"
        }
    },
    "comments": [
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/sleitner"
                    },
                    "html": {
                        "href": "https://bitbucket.org/sleitner/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/sleitner/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Sam  Leitner",
                "uuid": "{53dabc1b-74ac-4a0d-94da-9d659d5ff464}",
                "username": "sleitner"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/921/comments/1951522"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/921/_/diff#comment-1951522"
                }
            },
            "pullrequest": {
                "title": "Adding set_xlim and set_ylim to ProfilePlot and PhasePlot.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/921"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/921"
                    }
                },
                "id": 921
            },
            "content": {
                "raw": "When I pulled earlier I lost the rescaling if I set_units() to something new. Can you double check this?",
                "html": "<p>When I pulled earlier I lost the rescaling if I set_units() to something new. Can you double check this?</p>",
                "markup": "markdown"
            },
            "created_on": "2014-05-22T20:56:36.708948+00:00",
            "updated_on": "2014-05-22T20:56:36.850290+00:00",
            "id": 1951522
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/921/comments/1952674"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/921/_/diff#comment-1952674"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/921/comments/1951522"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/921/_/diff#comment-1951522"
                    }
                },
                "id": 1951522
            },
            "pullrequest": {
                "title": "Adding set_xlim and set_ylim to ProfilePlot and PhasePlot.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/921"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/921"
                    }
                },
                "id": 921
            },
            "content": {
                "raw": "Try again now.",
                "html": "<p>Try again now.</p>",
                "markup": "markdown"
            },
            "created_on": "2014-05-23T00:15:30.968017+00:00",
            "updated_on": "2014-05-23T00:15:30.974861+00:00",
            "id": 1952674
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/sleitner"
                    },
                    "html": {
                        "href": "https://bitbucket.org/sleitner/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/sleitner/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Sam  Leitner",
                "uuid": "{53dabc1b-74ac-4a0d-94da-9d659d5ff464}",
                "username": "sleitner"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/921/comments/1958981"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/921/_/diff#comment-1958981"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/921/comments/1952674"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/921/_/diff#comment-1952674"
                    }
                },
                "id": 1952674
            },
            "pullrequest": {
                "title": "Adding set_xlim and set_ylim to ProfilePlot and PhasePlot.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/921"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/921"
                    }
                },
                "id": 921
            },
            "content": {
                "raw": "Better! But this breaks the PR #917 set_unit fix for the color bar.",
                "html": "<p>Better! But this breaks the PR <a href=\"/yt_analysis/yt/issues/917/cloud-in-cell-deposition-doesnt-do-the\" rel=\"nofollow\" title=\"Cloud in cell deposition doesn&#39;t do the right thing at grid boundaries\">#917</a> set_unit fix for the color bar.</p>",
                "markup": "markdown"
            },
            "created_on": "2014-05-23T15:43:20.400983+00:00",
            "updated_on": "2014-05-23T15:43:20.531027+00:00",
            "id": 1958981
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/921/comments/1959850"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/921/_/diff#comment-1959850"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/921/comments/1958981"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/921/_/diff#comment-1958981"
                    }
                },
                "id": 1958981
            },
            "pullrequest": {
                "title": "Adding set_xlim and set_ylim to ProfilePlot and PhasePlot.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/921"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/921"
                    }
                },
                "id": 921
            },
            "content": {
                "raw": "That should be fixed now.  Thanks for helping me shake this out.",
                "html": "<p>That should be fixed now.  Thanks for helping me shake this out.</p>",
                "markup": "markdown"
            },
            "created_on": "2014-05-23T17:19:00.692944+00:00",
            "updated_on": "2014-05-23T17:19:00.699787+00:00",
            "id": 1959850
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/921/comments/1960944"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/921/_/diff#comment-1960944"
                }
            },
            "pullrequest": {
                "title": "Adding set_xlim and set_ylim to ProfilePlot and PhasePlot.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/921"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/921"
                    }
                },
                "id": 921
            },
            "content": {
                "raw": "All tests pass. Good job!",
                "html": "<p>All tests pass. Good job!</p>",
                "markup": "markdown"
            },
            "created_on": "2014-05-23T19:32:04.254898+00:00",
            "updated_on": "2014-05-23T19:32:04.401709+00:00",
            "id": 1960944
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/sleitner"
                    },
                    "html": {
                        "href": "https://bitbucket.org/sleitner/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/sleitner/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Sam  Leitner",
                "uuid": "{53dabc1b-74ac-4a0d-94da-9d659d5ff464}",
                "username": "sleitner"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/921/comments/1960969"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/921/_/diff#comment-1960969"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/921/comments/1959850"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/921/_/diff#comment-1959850"
                    }
                },
                "id": 1959850
            },
            "pullrequest": {
                "title": "Adding set_xlim and set_ylim to ProfilePlot and PhasePlot.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/921"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/921"
                    }
                },
                "id": 921
            },
            "content": {
                "raw": "Sure, thanks for improving this. The color bar now scales to the new units, but it looks like the unit label and field values don't change.",
                "html": "<p>Sure, thanks for improving this. The color bar now scales to the new units, but it looks like the unit label and field values don't change.</p>",
                "markup": "markdown"
            },
            "created_on": "2014-05-23T19:35:56.092327+00:00",
            "updated_on": "2014-05-23T19:35:56.227326+00:00",
            "id": 1960969
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/921/comments/1961475"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/921/_/diff#comment-1961475"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/921/comments/1960969"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/921/_/diff#comment-1960969"
                    }
                },
                "id": 1960969
            },
            "pullrequest": {
                "title": "Adding set_xlim and set_ylim to ProfilePlot and PhasePlot.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/921"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/921"
                    }
                },
                "id": 921
            },
            "content": {
                "raw": "Hey Sam,\n\nI'm not seeing that.  I'm using this test script:\n\n\n```\n#!python\n\nfrom yt.mods import *\nds = load('IsolatedGalaxy/galaxy0030/galaxy0030')\ndd = ds.all_data()\nplot = PhasePlot(dd, 'density', 'temperature', 'cell_mass')\nplot.set_unit('temperature', '1e4*K')\nplot.set_unit('cell_mass', 'Msun')\nplot.save()\n```\n\nWhich produces the following image:\n\n![galaxy0030_2d-Profile_density_temperature_cell_mass.png](https://bitbucket.org/repo/BXbAb/images/2159952464-galaxy0030_2d-Profile_density_temperature_cell_mass.png)\n\nCan you share a script that produces the buggy behavior you're referring to?",
                "html": "<p>Hey Sam,</p>\n<p>I'm not seeing that.  I'm using this test script:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kn\">from</span> <span class=\"nn\">yt.mods</span> <span class=\"kn\">import</span> <span class=\"o\">*</span>\n<span class=\"n\">ds</span> <span class=\"o\">=</span> <span class=\"n\">load</span><span class=\"p\">(</span><span class=\"s1\">&#39;IsolatedGalaxy/galaxy0030/galaxy0030&#39;</span><span class=\"p\">)</span>\n<span class=\"n\">dd</span> <span class=\"o\">=</span> <span class=\"n\">ds</span><span class=\"o\">.</span><span class=\"n\">all_data</span><span class=\"p\">()</span>\n<span class=\"n\">plot</span> <span class=\"o\">=</span> <span class=\"n\">PhasePlot</span><span class=\"p\">(</span><span class=\"n\">dd</span><span class=\"p\">,</span> <span class=\"s1\">&#39;density&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;temperature&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;cell_mass&#39;</span><span class=\"p\">)</span>\n<span class=\"n\">plot</span><span class=\"o\">.</span><span class=\"n\">set_unit</span><span class=\"p\">(</span><span class=\"s1\">&#39;temperature&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;1e4*K&#39;</span><span class=\"p\">)</span>\n<span class=\"n\">plot</span><span class=\"o\">.</span><span class=\"n\">set_unit</span><span class=\"p\">(</span><span class=\"s1\">&#39;cell_mass&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Msun&#39;</span><span class=\"p\">)</span>\n<span class=\"n\">plot</span><span class=\"o\">.</span><span class=\"n\">save</span><span class=\"p\">()</span>\n</pre></div>\n\n\n<p>Which produces the following image:</p>\n<p><img alt=\"galaxy0030_2d-Profile_density_temperature_cell_mass.png\" src=\"https://bitbucket.org/repo/BXbAb/images/2159952464-galaxy0030_2d-Profile_density_temperature_cell_mass.png\" /></p>\n<p>Can you share a script that produces the buggy behavior you're referring to?</p>",
                "markup": "markdown"
            },
            "created_on": "2014-05-23T20:47:11.576802+00:00",
            "updated_on": "2014-05-23T20:47:11.584100+00:00",
            "id": 1961475
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/sleitner"
                    },
                    "html": {
                        "href": "https://bitbucket.org/sleitner/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/sleitner/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Sam  Leitner",
                "uuid": "{53dabc1b-74ac-4a0d-94da-9d659d5ff464}",
                "username": "sleitner"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/921/comments/1962339"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/921/_/diff#comment-1962339"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/921/comments/1961475"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/921/_/diff#comment-1961475"
                    }
                },
                "id": 1961475
            },
            "pullrequest": {
                "title": "Adding set_xlim and set_ylim to ProfilePlot and PhasePlot.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/921"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/921"
                    }
                },
                "id": 921
            },
            "content": {
                "raw": "\n```\n#!python\n\nimport matplotlib\nmatplotlib.use('Agg')\nfrom yt.mods import *\n\npf = load('stuffyt/sizmbhloz-clref04SNth-rs9_a0.9011.art')\n\ncenter = np.array([64.0,64.0,64.0])*pf.quan(1,'code_length')\nrvir = 1e2*pf.quan(1e-3,'Mpccm/h')\ncenter = center.in_units('code_length')\nrvir = rvir.in_units('code_length')\n\nmy_sphere = pf.sphere(center, rvir)\nfplot = PhasePlot(my_sphere, \"density\", \"temperature\", \"cell_mass\",\n                  weight_field=None)\nfplot.set_unit('density', 'Msun/pc**3')\nfplot.set_xlim(1e-5,1e5)\nfplot.set_ylim(1,1e7)\nfplot.save('unscaled.png')\n\nfplot = PhasePlot(my_sphere, \"density\", \"temperature\", \"cell_mass\",\n                  weight_field=None)\nfplot.set_unit('density', 'Msun/pc**3')\nfplot.set_unit('cell_mass', 'Msun')\nfplot.set_xlim(1e-5,1e5)\nfplot.set_ylim(1,1e7)\nfplot.save('rescaled.png')\n```\n\n![rescaled.png](https://bitbucket.org/repo/BXbAb/images/2576065346-rescaled.png)\n![unscaled.png](https://bitbucket.org/repo/BXbAb/images/1180083369-unscaled.png)",
                "html": "<div class=\"codehilite\"><pre><span></span><span class=\"kn\">import</span> <span class=\"nn\">matplotlib</span>\n<span class=\"n\">matplotlib</span><span class=\"o\">.</span><span class=\"n\">use</span><span class=\"p\">(</span><span class=\"s1\">&#39;Agg&#39;</span><span class=\"p\">)</span>\n<span class=\"kn\">from</span> <span class=\"nn\">yt.mods</span> <span class=\"kn\">import</span> <span class=\"o\">*</span>\n\n<span class=\"n\">pf</span> <span class=\"o\">=</span> <span class=\"n\">load</span><span class=\"p\">(</span><span class=\"s1\">&#39;stuffyt/sizmbhloz-clref04SNth-rs9_a0.9011.art&#39;</span><span class=\"p\">)</span>\n\n<span class=\"n\">center</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([</span><span class=\"mf\">64.0</span><span class=\"p\">,</span><span class=\"mf\">64.0</span><span class=\"p\">,</span><span class=\"mf\">64.0</span><span class=\"p\">])</span><span class=\"o\">*</span><span class=\"n\">pf</span><span class=\"o\">.</span><span class=\"n\">quan</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"s1\">&#39;code_length&#39;</span><span class=\"p\">)</span>\n<span class=\"n\">rvir</span> <span class=\"o\">=</span> <span class=\"mf\">1e2</span><span class=\"o\">*</span><span class=\"n\">pf</span><span class=\"o\">.</span><span class=\"n\">quan</span><span class=\"p\">(</span><span class=\"mf\">1e-3</span><span class=\"p\">,</span><span class=\"s1\">&#39;Mpccm/h&#39;</span><span class=\"p\">)</span>\n<span class=\"n\">center</span> <span class=\"o\">=</span> <span class=\"n\">center</span><span class=\"o\">.</span><span class=\"n\">in_units</span><span class=\"p\">(</span><span class=\"s1\">&#39;code_length&#39;</span><span class=\"p\">)</span>\n<span class=\"n\">rvir</span> <span class=\"o\">=</span> <span class=\"n\">rvir</span><span class=\"o\">.</span><span class=\"n\">in_units</span><span class=\"p\">(</span><span class=\"s1\">&#39;code_length&#39;</span><span class=\"p\">)</span>\n\n<span class=\"n\">my_sphere</span> <span class=\"o\">=</span> <span class=\"n\">pf</span><span class=\"o\">.</span><span class=\"n\">sphere</span><span class=\"p\">(</span><span class=\"n\">center</span><span class=\"p\">,</span> <span class=\"n\">rvir</span><span class=\"p\">)</span>\n<span class=\"n\">fplot</span> <span class=\"o\">=</span> <span class=\"n\">PhasePlot</span><span class=\"p\">(</span><span class=\"n\">my_sphere</span><span class=\"p\">,</span> <span class=\"s2\">&quot;density&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;temperature&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;cell_mass&quot;</span><span class=\"p\">,</span>\n                  <span class=\"n\">weight_field</span><span class=\"o\">=</span><span class=\"bp\">None</span><span class=\"p\">)</span>\n<span class=\"n\">fplot</span><span class=\"o\">.</span><span class=\"n\">set_unit</span><span class=\"p\">(</span><span class=\"s1\">&#39;density&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Msun/pc**3&#39;</span><span class=\"p\">)</span>\n<span class=\"n\">fplot</span><span class=\"o\">.</span><span class=\"n\">set_xlim</span><span class=\"p\">(</span><span class=\"mf\">1e-5</span><span class=\"p\">,</span><span class=\"mf\">1e5</span><span class=\"p\">)</span>\n<span class=\"n\">fplot</span><span class=\"o\">.</span><span class=\"n\">set_ylim</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mf\">1e7</span><span class=\"p\">)</span>\n<span class=\"n\">fplot</span><span class=\"o\">.</span><span class=\"n\">save</span><span class=\"p\">(</span><span class=\"s1\">&#39;unscaled.png&#39;</span><span class=\"p\">)</span>\n\n<span class=\"n\">fplot</span> <span class=\"o\">=</span> <span class=\"n\">PhasePlot</span><span class=\"p\">(</span><span class=\"n\">my_sphere</span><span class=\"p\">,</span> <span class=\"s2\">&quot;density&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;temperature&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;cell_mass&quot;</span><span class=\"p\">,</span>\n                  <span class=\"n\">weight_field</span><span class=\"o\">=</span><span class=\"bp\">None</span><span class=\"p\">)</span>\n<span class=\"n\">fplot</span><span class=\"o\">.</span><span class=\"n\">set_unit</span><span class=\"p\">(</span><span class=\"s1\">&#39;density&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Msun/pc**3&#39;</span><span class=\"p\">)</span>\n<span class=\"n\">fplot</span><span class=\"o\">.</span><span class=\"n\">set_unit</span><span class=\"p\">(</span><span class=\"s1\">&#39;cell_mass&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Msun&#39;</span><span class=\"p\">)</span>\n<span class=\"n\">fplot</span><span class=\"o\">.</span><span class=\"n\">set_xlim</span><span class=\"p\">(</span><span class=\"mf\">1e-5</span><span class=\"p\">,</span><span class=\"mf\">1e5</span><span class=\"p\">)</span>\n<span class=\"n\">fplot</span><span class=\"o\">.</span><span class=\"n\">set_ylim</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mf\">1e7</span><span class=\"p\">)</span>\n<span class=\"n\">fplot</span><span class=\"o\">.</span><span class=\"n\">save</span><span class=\"p\">(</span><span class=\"s1\">&#39;rescaled.png&#39;</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p><img alt=\"rescaled.png\" src=\"https://bitbucket.org/repo/BXbAb/images/2576065346-rescaled.png\" />\n<img alt=\"unscaled.png\" src=\"https://bitbucket.org/repo/BXbAb/images/1180083369-unscaled.png\" /></p>",
                "markup": "markdown"
            },
            "created_on": "2014-05-24T00:27:54.357885+00:00",
            "updated_on": "2014-05-24T00:27:54.556239+00:00",
            "id": 1962339
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/921/comments/1962447"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/921/_/diff#comment-1962447"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/921/comments/1962339"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/921/_/diff#comment-1962339"
                    }
                },
                "id": 1962339
            },
            "pullrequest": {
                "title": "Adding set_xlim and set_ylim to ProfilePlot and PhasePlot.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/921"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/921"
                    }
                },
                "id": 921
            },
            "content": {
                "raw": "Alright, I think I've finally got this working properly.  Try one more time?",
                "html": "<p>Alright, I think I've finally got this working properly.  Try one more time?</p>",
                "markup": "markdown"
            },
            "created_on": "2014-05-24T01:26:56.592195+00:00",
            "updated_on": "2014-05-24T01:26:56.600577+00:00",
            "id": 1962447
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/sleitner"
                    },
                    "html": {
                        "href": "https://bitbucket.org/sleitner/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/sleitner/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Sam  Leitner",
                "uuid": "{53dabc1b-74ac-4a0d-94da-9d659d5ff464}",
                "username": "sleitner"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/921/comments/1962458"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/921/_/diff#comment-1962458"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/921/comments/1962447"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/921/_/diff#comment-1962447"
                    }
                },
                "id": 1962447
            },
            "pullrequest": {
                "title": "Adding set_xlim and set_ylim to ProfilePlot and PhasePlot.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/921"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/921"
                    }
                },
                "id": 921
            },
            "content": {
                "raw": "success!",
                "html": "<p>success!</p>",
                "markup": "markdown"
            },
            "created_on": "2014-05-24T01:41:44.137167+00:00",
            "updated_on": "2014-05-24T01:41:44.249494+00:00",
            "id": 1962458
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/921/comments/1962462"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/921/_/diff#comment-1962462"
                }
            },
            "pullrequest": {
                "title": "Adding set_xlim and set_ylim to ProfilePlot and PhasePlot.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/921"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/921"
                    }
                },
                "id": 921
            },
            "content": {
                "raw": "All tests pass. Good job!",
                "html": "<p>All tests pass. Good job!</p>",
                "markup": "markdown"
            },
            "created_on": "2014-05-24T01:47:16.764334+00:00",
            "updated_on": "2014-05-24T01:47:16.879129+00:00",
            "id": 1962462
        }
    ]
}