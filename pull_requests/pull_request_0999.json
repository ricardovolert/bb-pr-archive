{
    "reason": "",
    "state": "MERGED",
    "updated_on": "2014-07-09T15:59:02.115371+00:00",
    "comment_count": 5,
    "description": "This contains two changes, one tiny but possibly controversial, one somewhat bigger but definitely not controversial.\r\n\r\nFirst, I've modified the layout constants for `PlotWindow` to leave a bit more space for bulky axis labels.  I noticed this first when working with `PlotWindowWCS`, where the behavior is particularly bad.\r\n\r\nHere's an example that exhibits this:\r\n\r\n\r\n```\r\n#!python\r\n\r\n%matplotlib inline\r\nimport yt\r\n\r\nds = yt.load(\"/pfs/goldbaum/m33_fits/m33_hi.fits\", nan_mask=0.0, z_axis_decomp=True)\r\n\r\nds.field_list\r\nfrom yt.frontends.fits.misc import PlotWindowWCS\r\n\r\n#prj = yt.ProjectionPlot(ds, 'z', 'intensity', proj_style='sum')\r\n\r\nprj = yt.SlicePlot(ds, 'z', 'intensity')\r\n\r\nPlotWindowWCS(prj)['intensity']\r\n```\r\n\r\nWhen run in a notebook, I get back the following image:\r\n\r\nhttp://imgur.com/ebV9oCT\r\n\r\nWith this patch, I get:\r\n\r\nhttp://imgur.com/imSZCsd\r\n\r\nWhile I first saw this working with `PlotWindowWCS`, I was able to reproduce the issue using regular `PlotWindow` plots using the following script:\r\n\r\n\r\n```\r\n#!python\r\n\r\nimport yt\r\n\r\nds = yt.load('IsolatedGalaxy/galaxy0030/galaxy0030')\r\n\r\nyt.SlicePlot(ds, 2, 'density', width=(1e3, '1000*pc'))\r\n```\r\n\r\nhttp://imgur.com/fvsIRks  (the y-axis label is ever so slightly cut off).\r\n\r\nWhile this is a somewhat contrived example, things like this can also happen when someone makes a plot with custom fonts or are plotting a field or using a unit that takes up a lot of space.\r\n\r\nI totally understand that people don't want to change how our plots look.  Then again, this sort of visual artifact is very distracting and it's not necessarily obvious to a user how to fix it.  I'd prefer to leave a bit more white space in our plots to avoid this situation.\r\n\r\nAdditionally, I've added `_repr_html_` to `PlotWindowWCS`.  This makes it play a bit nicer in the notebook.  I've also changed `PlotWindowWCS.show` to use this new `_repr_html_`.  This makes it possible to `show` one of these plots without first doing `%matplotlib inline`.  I've added John as a reviewer to look this over.",
    "created_on": "2014-07-07T22:33:06.485994+00:00",
    "task_count": 0,
    "merge_commit": null,
    "title": "Leave more room for axis labels in PlotWindow plots, adding _repr_html to PlotWindowWCS",
    "links": {
        "diff": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/999/diff"
        },
        "decline": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/999/decline"
        },
        "self": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/999"
        },
        "activity": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/999/activity"
        },
        "merge": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/999/merge"
        },
        "commits": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/999/commits"
        },
        "statuses": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/999/statuses"
        },
        "approve": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/999/approve"
        },
        "html": {
            "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/999"
        },
        "comments": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/999/comments"
        }
    },
    "closed_by": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/jzuhone"
            },
            "html": {
                "href": "https://bitbucket.org/jzuhone/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/jzuhone/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "John ZuHone",
        "uuid": "{0c51edfa-e317-432f-bbef-7401c6e2aa8a}",
        "username": "jzuhone"
    },
    "id": 999,
    "type": "pullrequest",
    "author": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
            },
            "html": {
                "href": "https://bitbucket.org/ngoldbaum/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "Nathan Goldbaum",
        "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
        "username": "ngoldbaum"
    },
    "source": {
        "branch": {
            "name": "yt-3.0"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/ngoldbaum/yt/commit/c6b09204f3e7"
                }
            },
            "hash": "c6b09204f3e7"
        },
        "repository": {
            "full_name": "ngoldbaum/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/ngoldbaum/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/ngoldbaum/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/ngoldbaum/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{cb18d7d9-ab77-4e80-81ed-8d32a945e0ef}"
        }
    },
    "close_source_branch": false,
    "destination": {
        "branch": {
            "name": "yt-3.0"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/92e343ce7927"
                }
            },
            "hash": "92e343ce7927"
        },
        "repository": {
            "full_name": "yt_analysis/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/yt_analysis/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{b73cb37c-40f2-493a-aaa9-41bc8d8974cc}"
        }
    },
    "comments": [
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/jzuhone"
                    },
                    "html": {
                        "href": "https://bitbucket.org/jzuhone/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/jzuhone/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "John ZuHone",
                "uuid": "{0c51edfa-e317-432f-bbef-7401c6e2aa8a}",
                "username": "jzuhone"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/999/comments/2335595"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/999/_/diff#comment-2335595"
                }
            },
            "pullrequest": {
                "title": "Leave more room for axis labels in PlotWindow plots, adding _repr_html to PlotWindowWCS",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/999"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/999"
                    }
                },
                "id": 999
            },
            "content": {
                "raw": "Looks good to me!",
                "html": "<p>Looks good to me!</p>",
                "markup": "markdown"
            },
            "created_on": "2014-07-07T22:37:15.962907+00:00",
            "updated_on": "2014-07-07T22:37:15.974188+00:00",
            "id": 2335595
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/999/comments/2335794"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/999/_/diff#comment-2335794"
                }
            },
            "pullrequest": {
                "title": "Leave more room for axis labels in PlotWindow plots, adding _repr_html to PlotWindowWCS",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/999"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/999"
                    }
                },
                "id": 999
            },
            "content": {
                "raw": "Definite improvement in the images.  Will review code ASAP.",
                "html": "<p>Definite improvement in the images.  Will review code ASAP.</p>",
                "markup": "markdown"
            },
            "created_on": "2014-07-07T23:10:09.475119+00:00",
            "updated_on": "2014-07-07T23:10:09.484784+00:00",
            "id": 2335794
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/999/comments/2335843"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/999/_/diff#comment-2335843"
                }
            },
            "pullrequest": {
                "title": "Leave more room for axis labels in PlotWindow plots, adding _repr_html to PlotWindowWCS",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/999"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/999"
                    }
                },
                "id": 999
            },
            "content": {
                "raw": "Something went wrong, you should checkout http://tests.yt-project.org/job/py2.7-yt-3.0_testing/844/",
                "html": "<p>Something went wrong, you should checkout <a href=\"http://tests.yt-project.org/job/py2.7-yt-3.0_testing/844/\" rel=\"nofollow\">http://tests.yt-project.org/job/py2.7-yt-3.0_testing/844/</a></p>",
                "markup": "markdown"
            },
            "created_on": "2014-07-07T23:19:41.207413+00:00",
            "updated_on": "2014-07-07T23:19:41.371336+00:00",
            "id": 2335843
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/999/comments/2337118"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/999/_/diff#comment-2337118"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/999/comments/2335843"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/999/_/diff#comment-2335843"
                    }
                },
                "id": 2335843
            },
            "pullrequest": {
                "title": "Leave more room for axis labels in PlotWindow plots, adding _repr_html to PlotWindowWCS",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/999"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/999"
                    }
                },
                "id": 999
            },
            "content": {
                "raw": "I've verified that these failures are all in the `PlotWindow` answer tests and are expected since the plots are not pixel-identical.  Given that this is an improvement in the way the plots are laid out, I think we just need to regenerate the answers upon merging this PR in.",
                "html": "<p>I've verified that these failures are all in the <code>PlotWindow</code> answer tests and are expected since the plots are not pixel-identical.  Given that this is an improvement in the way the plots are laid out, I think we just need to regenerate the answers upon merging this PR in.</p>",
                "markup": "markdown"
            },
            "created_on": "2014-07-08T02:32:07.966703+00:00",
            "updated_on": "2014-07-08T02:32:18.501897+00:00",
            "id": 2337118
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/jzuhone"
                    },
                    "html": {
                        "href": "https://bitbucket.org/jzuhone/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/jzuhone/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "John ZuHone",
                "uuid": "{0c51edfa-e317-432f-bbef-7401c6e2aa8a}",
                "username": "jzuhone"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/999/comments/2358090"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/999/_/diff#comment-2358090"
                }
            },
            "pullrequest": {
                "title": "Leave more room for axis labels in PlotWindow plots, adding _repr_html to PlotWindowWCS",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/999"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/999"
                    }
                },
                "id": 999
            },
            "content": {
                "raw": "I'm going to go ahead and merge. ",
                "html": "<p>I'm going to go ahead and merge. </p>",
                "markup": "markdown"
            },
            "created_on": "2014-07-09T15:58:45.117833+00:00",
            "updated_on": "2014-07-09T15:58:45.130075+00:00",
            "id": 2358090
        }
    ]
}