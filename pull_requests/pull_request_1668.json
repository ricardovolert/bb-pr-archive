{
    "reason": "",
    "state": "MERGED",
    "updated_on": "2015-09-15T03:55:00.761343+00:00",
    "comment_count": 43,
    "description": "Certain Tipsy outputs generated by Gadget converter were not being correctly read in because the units were incorrect.\r\n\r\n* Generalizing Tipsy reader to accept cosmological Gadget outputs\r\n\r\n* Fixed bug wherein unit_base was not working for Tipsy frontend\r\n\r\n* Updated documentation for Tipsy frontend",
    "created_on": "2015-07-31T14:56:26.804413+00:00",
    "task_count": 0,
    "merge_commit": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/4979406431c6"
            }
        },
        "hash": "4979406431c6"
    },
    "title": "Fixing Tipsy frontend",
    "links": {
        "diff": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/diff"
        },
        "decline": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/decline"
        },
        "self": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668"
        },
        "activity": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/activity"
        },
        "merge": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/merge"
        },
        "commits": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/commits"
        },
        "statuses": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/statuses"
        },
        "approve": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/approve"
        },
        "html": {
            "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668"
        },
        "comments": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments"
        }
    },
    "closed_by": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/xarthisius"
            },
            "html": {
                "href": "https://bitbucket.org/xarthisius/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/xarthisius/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "Kacper Kowalik",
        "uuid": "{26af8f1d-35b3-46ce-9939-09915b06e31f}",
        "username": "xarthisius"
    },
    "id": 1668,
    "type": "pullrequest",
    "author": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/nmearl"
            },
            "html": {
                "href": "https://bitbucket.org/nmearl/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/nmearl/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "Nicholas Earl",
        "uuid": "{0ff93803-6abd-4e52-9a0d-bee442512b47}",
        "username": "nmearl"
    },
    "source": {
        "branch": {
            "name": "yt"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/nmearl/yt/commit/4012042d1eca"
                }
            },
            "hash": "4012042d1eca"
        },
        "repository": {
            "full_name": "nmearl/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/nmearl/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/nmearl/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/nmearl/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{8a736e65-f669-420d-a122-3f2267b56e01}"
        }
    },
    "close_source_branch": false,
    "destination": {
        "branch": {
            "name": "yt"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/43e11e9fc943"
                }
            },
            "hash": "43e11e9fc943"
        },
        "repository": {
            "full_name": "yt_analysis/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/yt_analysis/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{b73cb37c-40f2-493a-aaa9-41bc8d8974cc}"
        }
    },
    "comments": [
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/chummels"
                    },
                    "html": {
                        "href": "https://bitbucket.org/chummels/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/chummels/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Cameron Hummels",
                "uuid": "{de871bb8-32e9-450a-b8c9-2b49a1334f16}",
                "username": "chummels"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/8703950"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-8703950"
                }
            },
            "pullrequest": {
                "title": "Fixing Tipsy frontend",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668"
                    }
                },
                "id": 1668
            },
            "content": {
                "raw": "Nice first PR!",
                "html": "<p>Nice first PR!</p>",
                "markup": "markdown"
            },
            "created_on": "2015-07-31T15:10:46.857516+00:00",
            "updated_on": "2015-07-31T15:10:46.864277+00:00",
            "id": 8703950
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/peeples"
                    },
                    "html": {
                        "href": "https://bitbucket.org/peeples/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/peeples/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Molly Peeples",
                "uuid": "{103263b1-882e-48da-b653-db7de4be84c4}",
                "username": "peeples"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/8704649"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-8704649"
                }
            },
            "pullrequest": {
                "title": "Fixing Tipsy frontend",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668"
                    }
                },
                "id": 1668
            },
            "content": {
                "raw": "So does this make Nick #100?",
                "html": "<p>So does this make Nick <a href=\"/yt_analysis/yt/issues/100/particle-callbacks-in-gui\" rel=\"nofollow\" title=\"Particle callbacks in GUI\"><s>#100</s></a>?</p>",
                "markup": "markdown"
            },
            "created_on": "2015-07-31T15:29:51.005823+00:00",
            "updated_on": "2015-07-31T15:29:51.058125+00:00",
            "id": 8704649
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/8706523"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-8706523"
                }
            },
            "pullrequest": {
                "title": "Fixing Tipsy frontend",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668"
                    }
                },
                "id": 1668
            },
            "content": {
                "raw": "Something went wrong, you should checkout http://hub.yt:8080/job/yt_testsuite_dev/319/",
                "html": "<p>Something went wrong, you should checkout <a href=\"http://hub.yt:8080/job/yt_testsuite_dev/319/\" rel=\"nofollow\">http://hub.yt:8080/job/yt_testsuite_dev/319/</a></p>",
                "markup": "markdown"
            },
            "created_on": "2015-07-31T16:24:52.708105+00:00",
            "updated_on": "2015-07-31T16:24:52.770628+00:00",
            "id": 8706523
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/8706652"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-8706652"
                }
            },
            "pullrequest": {
                "title": "Fixing Tipsy frontend",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668"
                    }
                },
                "id": 1668
            },
            "content": {
                "raw": "Docs were built for this PR. See http://hub.yt:8080/job/yt_docs/174/",
                "html": "<p>Docs were built for this PR. See <a href=\"http://hub.yt:8080/job/yt_docs/174/\" rel=\"nofollow\">http://hub.yt:8080/job/yt_docs/174/</a></p>",
                "markup": "markdown"
            },
            "created_on": "2015-07-31T16:28:42.902574+00:00",
            "updated_on": "2015-07-31T16:28:42.960319+00:00",
            "id": 8706652
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/8743719"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-8743719"
                }
            },
            "pullrequest": {
                "title": "Fixing Tipsy frontend",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668"
                    }
                },
                "id": 1668
            },
            "content": {
                "raw": "Something went wrong, you should checkout http://hub.yt:8080/job/yt_testsuite_dev/323/",
                "html": "<p>Something went wrong, you should checkout <a href=\"http://hub.yt:8080/job/yt_testsuite_dev/323/\" rel=\"nofollow\">http://hub.yt:8080/job/yt_testsuite_dev/323/</a></p>",
                "markup": "markdown"
            },
            "created_on": "2015-08-03T13:57:38.720767+00:00",
            "updated_on": "2015-08-03T13:57:38.778334+00:00",
            "id": 8743719
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/8744980"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-8744980"
                }
            },
            "pullrequest": {
                "title": "Fixing Tipsy frontend",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668"
                    }
                },
                "id": 1668
            },
            "content": {
                "raw": "Docs were built for this PR. See http://hub.yt:8080/job/yt_docs/178/",
                "html": "<p>Docs were built for this PR. See <a href=\"http://hub.yt:8080/job/yt_docs/178/\" rel=\"nofollow\">http://hub.yt:8080/job/yt_docs/178/</a></p>",
                "markup": "markdown"
            },
            "created_on": "2015-08-03T14:26:06.085336+00:00",
            "updated_on": "2015-08-03T14:26:06.141180+00:00",
            "id": 8744980
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/bwkeller"
                    },
                    "html": {
                        "href": "https://bitbucket.org/bwkeller/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/bwkeller/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Ben Keller",
                "uuid": "{1719424c-ccde-435f-aa44-5102314e6b2d}",
                "username": "bwkeller"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/8865990"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-8865990"
                }
            },
            "pullrequest": {
                "title": "Fixing Tipsy frontend",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668"
                    }
                },
                "id": 1668
            },
            "content": {
                "raw": "I'm not exactly sure what this PR is meant to do functionally.  The units_base kwarg already allows you to specify length and mass units (I just tested that, seems to work for me).  Not having a parameter file shouldn't be an issue here.  Also, this PR breaks the tipsy frontend (see the fido build results).  What is the problem that was occurring with the Tipsy-fied gadget files you are using?  Thanks Nick.",
                "html": "<p>I'm not exactly sure what this PR is meant to do functionally.  The units_base kwarg already allows you to specify length and mass units (I just tested that, seems to work for me).  Not having a parameter file shouldn't be an issue here.  Also, this PR breaks the tipsy frontend (see the fido build results).  What is the problem that was occurring with the Tipsy-fied gadget files you are using?  Thanks Nick.</p>",
                "markup": "markdown"
            },
            "created_on": "2015-08-06T16:55:34.131849+00:00",
            "updated_on": "2015-08-06T16:55:34.145173+00:00",
            "id": 8865990
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/8870418"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-8870418"
                }
            },
            "pullrequest": {
                "title": "Fixing Tipsy frontend",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668"
                    }
                },
                "id": 1668
            },
            "content": {
                "raw": "If you need a hand reproducing the test failures, I'm always happy to help out. The answer tests are a bit complicated at first but once you know the invocations it's pretty straightforward to run them locally. Feel free to ping me via e-mail (nathan12343@gmail.com) or on slack.",
                "html": "<p>If you need a hand reproducing the test failures, I'm always happy to help out. The answer tests are a bit complicated at first but once you know the invocations it's pretty straightforward to run them locally. Feel free to ping me via e-mail (nathan12343@gmail.com) or on slack.</p>",
                "markup": "markdown"
            },
            "created_on": "2015-08-06T19:10:58.023707+00:00",
            "updated_on": "2015-08-06T19:10:58.031999+00:00",
            "id": 8870418
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/nmearl"
                    },
                    "html": {
                        "href": "https://bitbucket.org/nmearl/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/nmearl/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nicholas Earl",
                "uuid": "{0ff93803-6abd-4e52-9a0d-bee442512b47}",
                "username": "nmearl"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/8918388"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-8918388"
                }
            },
            "pullrequest": {
                "title": "Fixing Tipsy frontend",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668"
                    }
                },
                "id": 1668
            },
            "content": {
                "raw": "The current tipsy front-end only recognizes a simulation as being cosmological if a parameter file is also passed in (line 170). We've extended it to also consider the data cosmological if the cosmological_parameters dict was likewise set (to anything). Furthermore, we couldn't find any indication that the units set in the unit_base dictionary were ever used. And when there is a parameter file (re: cosmological), the length, mass, and time units were overridden anyway (line ~224), or set to defaults relevant for Gasoline files. Since we didn't want to screw around too much with the compatibility with the Gasoline files, we simply made it to explicitly override the mass/length/time values.\n\nLooking through the fido test outputs, as well as the actual test files, the failure seems to occur because the tests are passing in a cosmological_parameter dictionary. Previously, this would *not* trigger the data to be considered cosmological (only having a parameter file seemed to do that). Now, since we extended the front-end to consider the passing-in of a cosmological_parameter dictionary to be an indication that the data is cosmological, the tests are considering whatever test data they use to be cosmological.\n\nA way around this (and to test whether this is the case) would be to have an explicit keyword in the cosmological_parameters dictionary state whether or not the data is cosmological, instead of the mere existence of the dictionary.",
                "html": "<p>The current tipsy front-end only recognizes a simulation as being cosmological if a parameter file is also passed in (line 170). We've extended it to also consider the data cosmological if the cosmological_parameters dict was likewise set (to anything). Furthermore, we couldn't find any indication that the units set in the unit_base dictionary were ever used. And when there is a parameter file (re: cosmological), the length, mass, and time units were overridden anyway (line ~224), or set to defaults relevant for Gasoline files. Since we didn't want to screw around too much with the compatibility with the Gasoline files, we simply made it to explicitly override the mass/length/time values.</p>\n<p>Looking through the fido test outputs, as well as the actual test files, the failure seems to occur because the tests are passing in a cosmological_parameter dictionary. Previously, this would <em>not</em> trigger the data to be considered cosmological (only having a parameter file seemed to do that). Now, since we extended the front-end to consider the passing-in of a cosmological_parameter dictionary to be an indication that the data is cosmological, the tests are considering whatever test data they use to be cosmological.</p>\n<p>A way around this (and to test whether this is the case) would be to have an explicit keyword in the cosmological_parameters dictionary state whether or not the data is cosmological, instead of the mere existence of the dictionary.</p>",
                "markup": "markdown"
            },
            "created_on": "2015-08-09T00:36:42.931387+00:00",
            "updated_on": "2015-08-09T00:55:04.367708+00:00",
            "id": 8918388
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/8918484"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-8918484"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/8918388"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-8918388"
                    }
                },
                "id": 8918388
            },
            "pullrequest": {
                "title": "Fixing Tipsy frontend",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668"
                    }
                },
                "id": 1668
            },
            "content": {
                "raw": "Just to clarify - are the old answers incorrect? If we weren't setting `ds.cosmological_simulation`, then things like comoving units might be incorrect.",
                "html": "<p>Just to clarify - are the old answers incorrect? If we weren't setting <code>ds.cosmological_simulation</code>, then things like comoving units might be incorrect.</p>",
                "markup": "markdown"
            },
            "created_on": "2015-08-09T00:58:06.448497+00:00",
            "updated_on": "2015-08-09T00:58:06.455715+00:00",
            "id": 8918484
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/8918490"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-8918490"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/8918484"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-8918484"
                    }
                },
                "id": 8918484
            },
            "pullrequest": {
                "title": "Fixing Tipsy frontend",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668"
                    }
                },
                "id": 1668
            },
            "content": {
                "raw": "Also having tests for all of this stuff would really help clarify exactly what's going wrong here and would prevent it from recurring in the future. Please feel free to expand on the tests that are already there in the tipsy frontend.",
                "html": "<p>Also having tests for all of this stuff would really help clarify exactly what's going wrong here and would prevent it from recurring in the future. Please feel free to expand on the tests that are already there in the tipsy frontend.</p>",
                "markup": "markdown"
            },
            "created_on": "2015-08-09T00:59:09.196237+00:00",
            "updated_on": "2015-08-09T00:59:09.201148+00:00",
            "id": 8918490
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/bwkeller"
                    },
                    "html": {
                        "href": "https://bitbucket.org/bwkeller/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/bwkeller/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Ben Keller",
                "uuid": "{1719424c-ccde-435f-aa44-5102314e6b2d}",
                "username": "bwkeller"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/8924618"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-8924618"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/8918388"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-8918388"
                    }
                },
                "id": 8918388
            },
            "pullrequest": {
                "title": "Fixing Tipsy frontend",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668"
                    }
                },
                "id": 1668
            },
            "content": {
                "raw": "Ah, awesome.  That's definitely functionality that we could use.  I see where those units are being overwritten, you are correct, I had been testing with a non-cosmological dataset.",
                "html": "<p>Ah, awesome.  That's definitely functionality that we could use.  I see where those units are being overwritten, you are correct, I had been testing with a non-cosmological dataset.</p>",
                "markup": "markdown"
            },
            "created_on": "2015-08-09T21:07:02.331108+00:00",
            "updated_on": "2015-08-09T21:07:02.342672+00:00",
            "id": 8924618
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9070702"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/nmearl/yt:8d11841d8d22..603eab147248?path=yt%2Ffrontends%2Ftipsy%2Fdata_structures.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9070702"
                }
            },
            "pullrequest": {
                "title": "Fixing Tipsy frontend",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668"
                    }
                },
                "id": 1668
            },
            "content": {
                "raw": "I'd like to see this be reworked to be shorter; also, `.keys()` should be avoided in general.",
                "html": "<p>I'd like to see this be reworked to be shorter; also, <code>.keys()</code> should be avoided in general.</p>",
                "markup": "markdown"
            },
            "created_on": "2015-08-13T16:36:38.448240+00:00",
            "updated_on": "2015-08-13T16:36:38.454164+00:00",
            "inline": {
                "from": null,
                "path": "yt/frontends/tipsy/data_structures.py",
                "to": 250
            },
            "id": 9070702
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9070854"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9070854"
                }
            },
            "pullrequest": {
                "title": "Fixing Tipsy frontend",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668"
                    }
                },
                "id": 1668
            },
            "content": {
                "raw": "@nmearl when you update your PR, can you change the title so that it is more descriptive?",
                "html": "<p><a href=\"/nmearl/\" rel=\"nofollow\" title=\"@nmearl\" class=\"mention\">Nicholas Earl</a> when you update your PR, can you change the title so that it is more descriptive?</p>",
                "markup": "markdown"
            },
            "created_on": "2015-08-13T16:41:25.903877+00:00",
            "updated_on": "2015-08-13T16:41:25.949022+00:00",
            "id": 9070854
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/chummels"
                    },
                    "html": {
                        "href": "https://bitbucket.org/chummels/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/chummels/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Cameron Hummels",
                "uuid": "{de871bb8-32e9-450a-b8c9-2b49a1334f16}",
                "username": "chummels"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9070962"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9070962"
                }
            },
            "pullrequest": {
                "title": "Fixing Tipsy frontend",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668"
                    }
                },
                "id": 1668
            },
            "content": {
                "raw": "@nmearl In talking about this at the PR-Triage this week, it seems like `units_override` and `units_base` are generally thought to do the same thing.  Perhaps just trying to set units using the `units_override` instead of the `units_base` in the load command may work (since `units_override` happens at the base class level instead of in each frontend, and if so, a simpler solution in the PR is to just recast `units_base` into `units_override`.  Do you want to try this and see?",
                "html": "<p><a href=\"/nmearl/\" rel=\"nofollow\" title=\"@nmearl\" class=\"mention\">Nicholas Earl</a> In talking about this at the PR-Triage this week, it seems like <code>units_override</code> and <code>units_base</code> are generally thought to do the same thing.  Perhaps just trying to set units using the <code>units_override</code> instead of the <code>units_base</code> in the load command may work (since <code>units_override</code> happens at the base class level instead of in each frontend, and if so, a simpler solution in the PR is to just recast <code>units_base</code> into <code>units_override</code>.  Do you want to try this and see?</p>",
                "markup": "markdown"
            },
            "created_on": "2015-08-13T16:45:16.763460+00:00",
            "updated_on": "2015-08-13T16:45:16.829952+00:00",
            "id": 9070962
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/nmearl"
                    },
                    "html": {
                        "href": "https://bitbucket.org/nmearl/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/nmearl/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nicholas Earl",
                "uuid": "{0ff93803-6abd-4e52-9a0d-bee442512b47}",
                "username": "nmearl"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9071063"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9071063"
                }
            },
            "pullrequest": {
                "title": "Fixing Tipsy frontend",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668"
                    }
                },
                "id": 1668
            },
            "content": {
                "raw": "@chummels I agree with Matt. In fact, we approached this idea before, and noted that the front-end will raise a runtime error when `units_override` is set.",
                "html": "<p><a href=\"/chummels/\" rel=\"nofollow\" title=\"@chummels\" class=\"mention\">Cameron Hummels</a> I agree with Matt. In fact, we approached this idea before, and noted that the front-end will raise a runtime error when <code>units_override</code> is set.</p>",
                "markup": "markdown"
            },
            "created_on": "2015-08-13T16:48:23.026954+00:00",
            "updated_on": "2015-08-13T16:53:54.916840+00:00",
            "id": 9071063
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/chummels"
                    },
                    "html": {
                        "href": "https://bitbucket.org/chummels/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/chummels/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Cameron Hummels",
                "uuid": "{de871bb8-32e9-450a-b8c9-2b49a1334f16}",
                "username": "chummels"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9071838"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9071838"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9071063"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9071063"
                    }
                },
                "id": 9071063
            },
            "pullrequest": {
                "title": "Fixing Tipsy frontend",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668"
                    }
                },
                "id": 1668
            },
            "content": {
                "raw": "Ok, so perhaps we should be recasting the `units_override` to `units_base` for the Tipsy frontend as part of this PR?",
                "html": "<p>Ok, so perhaps we should be recasting the <code>units_override</code> to <code>units_base</code> for the Tipsy frontend as part of this PR?</p>",
                "markup": "markdown"
            },
            "created_on": "2015-08-13T17:13:06.654283+00:00",
            "updated_on": "2015-08-13T17:13:06.662599+00:00",
            "id": 9071838
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/chummels"
                    },
                    "html": {
                        "href": "https://bitbucket.org/chummels/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/chummels/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Cameron Hummels",
                "uuid": "{de871bb8-32e9-450a-b8c9-2b49a1334f16}",
                "username": "chummels"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9071913"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9071913"
                }
            },
            "pullrequest": {
                "title": "Fixing Tipsy frontend",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668"
                    }
                },
                "id": 1668
            },
            "content": {
                "raw": "@MatthewTurk reported that the PKDGrav answer test is totally wrong, presumably because it isn't being flagged as a cosmological dataset and its length unit is messed up (which this PR fixes, hopefully).",
                "html": "<p><a href=\"/MatthewTurk/\" rel=\"nofollow\" title=\"@MatthewTurk\" class=\"mention\">Matthew Turk</a> reported that the PKDGrav answer test is totally wrong, presumably because it isn't being flagged as a cosmological dataset and its length unit is messed up (which this PR fixes, hopefully).</p>",
                "markup": "markdown"
            },
            "created_on": "2015-08-13T17:15:18.291751+00:00",
            "updated_on": "2015-08-13T17:15:18.313069+00:00",
            "id": 9071913
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9109128"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9109128"
                }
            },
            "pullrequest": {
                "title": "Fixing Tipsy frontend",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668"
                    }
                },
                "id": 1668
            },
            "content": {
                "raw": "Something went wrong, you should checkout http://hub.yt:8080/job/yt_testsuite_dev/407/",
                "html": "<p>Something went wrong, you should checkout <a href=\"http://hub.yt:8080/job/yt_testsuite_dev/407/\" rel=\"nofollow\">http://hub.yt:8080/job/yt_testsuite_dev/407/</a></p>",
                "markup": "markdown"
            },
            "created_on": "2015-08-14T18:42:42.448761+00:00",
            "updated_on": "2015-08-14T18:42:42.507786+00:00",
            "id": 9109128
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9109753"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9109753"
                }
            },
            "pullrequest": {
                "title": "Fixing Tipsy frontend",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668"
                    }
                },
                "id": 1668
            },
            "content": {
                "raw": "Docs were built for this PR. See http://hub.yt:8080/job/yt_docs/211/",
                "html": "<p>Docs were built for this PR. See <a href=\"http://hub.yt:8080/job/yt_docs/211/\" rel=\"nofollow\">http://hub.yt:8080/job/yt_docs/211/</a></p>",
                "markup": "markdown"
            },
            "created_on": "2015-08-14T19:08:51.598313+00:00",
            "updated_on": "2015-08-14T19:08:51.656475+00:00",
            "id": 9109753
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/chummels"
                    },
                    "html": {
                        "href": "https://bitbucket.org/chummels/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/chummels/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Cameron Hummels",
                "uuid": "{de871bb8-32e9-450a-b8c9-2b49a1334f16}",
                "username": "chummels"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9110789"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/nmearl/yt:6ac625090a8d..54a3381ac0b1?path=yt%2Ffrontends%2Ftipsy%2Fdata_structures.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9110789"
                }
            },
            "pullrequest": {
                "title": "Fixing Tipsy frontend",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668"
                    }
                },
                "id": 1668
            },
            "content": {
                "raw": "It looks like the tests are failing for the gadget_test and the pkdgrav_test (in yt/frontends/tipsy/tests/test_outputs.py) on this line, where for some reason it isn't recognizing `Mpccm/h` as a valid unit.  It doesn't seem obvious to me why those units which are normally valid would not be in this context.",
                "html": "<p>It looks like the tests are failing for the gadget_test and the pkdgrav_test (in yt/frontends/tipsy/tests/test_outputs.py) on this line, where for some reason it isn't recognizing <code>Mpccm/h</code> as a valid unit.  It doesn't seem obvious to me why those units which are normally valid would not be in this context.</p>",
                "markup": "markdown"
            },
            "created_on": "2015-08-14T19:58:07.580818+00:00",
            "updated_on": "2015-08-14T19:58:07.586444+00:00",
            "inline": {
                "from": null,
                "path": "yt/frontends/tipsy/data_structures.py",
                "to": 254
            },
            "id": 9110789
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9111832"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/nmearl/yt:None..None?path=yt%2Ffrontends%2Ftipsy%2Fdata_structures.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9111832"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9110789"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9110789"
                    }
                },
                "id": 9110789
            },
            "pullrequest": {
                "title": "Fixing Tipsy frontend",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668"
                    }
                },
                "id": 1668
            },
            "content": {
                "raw": "It might be that the routine that adds cosmological units (specifically `Mpccm`) hasn't been called when this function is called. That happens in the `set_units` function in the `Dataset` base class, line 690 or so in yt/data_objects/static_output.py.",
                "html": "<p>It might be that the routine that adds cosmological units (specifically <code>Mpccm</code>) hasn't been called when this function is called. That happens in the <code>set_units</code> function in the <code>Dataset</code> base class, line 690 or so in yt/data_objects/static_output.py.</p>",
                "markup": "markdown"
            },
            "created_on": "2015-08-14T20:47:39.901990+00:00",
            "updated_on": "2015-08-14T20:47:39.909216+00:00",
            "inline": {
                "from": null,
                "path": "yt/frontends/tipsy/data_structures.py",
                "to": null
            },
            "id": 9111832
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/nmearl"
                    },
                    "html": {
                        "href": "https://bitbucket.org/nmearl/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/nmearl/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nicholas Earl",
                "uuid": "{0ff93803-6abd-4e52-9a0d-bee442512b47}",
                "username": "nmearl"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9476317"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9476317"
                }
            },
            "pullrequest": {
                "title": "Fixing Tipsy frontend",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668"
                    }
                },
                "id": 1668
            },
            "content": {
                "raw": "The current issues seem to arise from the fact that while the Tipsy tests themselves do not trigger being cosmological (as I mentioned above; previously, the only means to do so were to pass in a separate parameter file with the value `bComoving` as `True`), there exists a cosmological unit in the `unit_base` dictionary that is not recognized by the unit registry. As @ngoldbaum points out, the `set_units` method in `static_output.py` will not register `Mpccm` as a unit *unless* the data set is cosmological.\n\nLikewise, the Tipsy tests themselves, while not technically set as cosmological, do pass in cosmological units in the `unit_base` dictionary. Previously, this didn't matter because the `unit_base` dictionary was never even used in the Tipsy front-end (instead being overridden around lines ~225 or ~244). However, we've now explicitly stated in the code that if the `unit_base` dictionary is set, **always** use those units.\n\nTwo solutions come to mind at the moment:\n\n1. The tests are *supposed* to be cosmological, in which case they need to be updated because their answers may be based off results assuming they aren't cosmological.\n2. The tests aren't cosmological, in which case their cosmological parts need to be stripped (e.g. setting the length in comoving units) in order to not let yt think they are.",
                "html": "<p>The current issues seem to arise from the fact that while the Tipsy tests themselves do not trigger being cosmological (as I mentioned above; previously, the only means to do so were to pass in a separate parameter file with the value <code>bComoving</code> as <code>True</code>), there exists a cosmological unit in the <code>unit_base</code> dictionary that is not recognized by the unit registry. As <a href=\"/ngoldbaum/\" rel=\"nofollow\" title=\"@ngoldbaum\" class=\"mention\">Nathan Goldbaum</a> points out, the <code>set_units</code> method in <code>static_output.py</code> will not register <code>Mpccm</code> as a unit <em>unless</em> the data set is cosmological.</p>\n<p>Likewise, the Tipsy tests themselves, while not technically set as cosmological, do pass in cosmological units in the <code>unit_base</code> dictionary. Previously, this didn't matter because the <code>unit_base</code> dictionary was never even used in the Tipsy front-end (instead being overridden around lines ~225 or ~244). However, we've now explicitly stated in the code that if the <code>unit_base</code> dictionary is set, <strong>always</strong> use those units.</p>\n<p>Two solutions come to mind at the moment:</p>\n<ol>\n<li>The tests are <em>supposed</em> to be cosmological, in which case they need to be updated because their answers may be based off results assuming they aren't cosmological.</li>\n<li>The tests aren't cosmological, in which case their cosmological parts need to be stripped (e.g. setting the length in comoving units) in order to not let yt think they are.</li>\n</ol>",
                "markup": "markdown"
            },
            "created_on": "2015-08-28T15:12:22.328548+00:00",
            "updated_on": "2015-08-28T15:14:58.980731+00:00",
            "id": 9476317
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9476555"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9476555"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9476317"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9476317"
                    }
                },
                "id": 9476317
            },
            "pullrequest": {
                "title": "Fixing Tipsy frontend",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668"
                    }
                },
                "id": 1668
            },
            "content": {
                "raw": "They're supposed to be cosmological and the answers need to be updated.\n\nI promised to look into this last week but never got to it. Would you like me to spend some time next week on this?",
                "html": "<p>They're supposed to be cosmological and the answers need to be updated.</p>\n<p>I promised to look into this last week but never got to it. Would you like me to spend some time next week on this?</p>",
                "markup": "markdown"
            },
            "created_on": "2015-08-28T15:19:16.744358+00:00",
            "updated_on": "2015-08-28T15:19:16.764173+00:00",
            "id": 9476555
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/nmearl"
                    },
                    "html": {
                        "href": "https://bitbucket.org/nmearl/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/nmearl/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nicholas Earl",
                "uuid": "{0ff93803-6abd-4e52-9a0d-bee442512b47}",
                "username": "nmearl"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9476666"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9476666"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9476555"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9476555"
                    }
                },
                "id": 9476555
            },
            "pullrequest": {
                "title": "Fixing Tipsy frontend",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668"
                    }
                },
                "id": 1668
            },
            "content": {
                "raw": "Coolio. I may have to revert some changes. The last push made it so that the `cosmological_parameters` dictionary had to have an explicit keyword `cosmological` set to `True` in order to make it *really* obvious when the dataset is supposed to be cosmological. If the tests are, then we can go back to simply checking to see if the `cosmological_parameters` dictionary is set at all.\n\nIt would be really excellent if you could take a look at this -- I'd really appreciate it!",
                "html": "<p>Coolio. I may have to revert some changes. The last push made it so that the <code>cosmological_parameters</code> dictionary had to have an explicit keyword <code>cosmological</code> set to <code>True</code> in order to make it <em>really</em> obvious when the dataset is supposed to be cosmological. If the tests are, then we can go back to simply checking to see if the <code>cosmological_parameters</code> dictionary is set at all.</p>\n<p>It would be really excellent if you could take a look at this -- I'd really appreciate it!</p>",
                "markup": "markdown"
            },
            "created_on": "2015-08-28T15:23:00.217281+00:00",
            "updated_on": "2015-08-28T15:23:00.266955+00:00",
            "id": 9476666
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9476944"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9476944"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9476666"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9476666"
                    }
                },
                "id": 9476666
            },
            "pullrequest": {
                "title": "Fixing Tipsy frontend",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668"
                    }
                },
                "id": 1668
            },
            "content": {
                "raw": "OK, I will try to get to this next week, it's pretty important that this gets merged in since it will lead to incorrect answers for all tipsy datasets from cosmological simulations.",
                "html": "<p>OK, I will try to get to this next week, it's pretty important that this gets merged in since it will lead to incorrect answers for all tipsy datasets from cosmological simulations.</p>",
                "markup": "markdown"
            },
            "created_on": "2015-08-28T15:30:36.080579+00:00",
            "updated_on": "2015-08-28T15:30:36.083779+00:00",
            "id": 9476944
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9585294"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/nmearl/yt:6ac625090a8d..54a3381ac0b1?path=yt%2Ffrontends%2Ftipsy%2Fdata_structures.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9585294"
                }
            },
            "pullrequest": {
                "title": "Fixing Tipsy frontend",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668"
                    }
                },
                "id": 1668
            },
            "content": {
                "raw": "If `_cosmology_parameters` is set, why do you explicitly check for a parameter named `cosmological`? I'd think that having the dictionary available would be enough to tell that this is in fact a cosmological dataset.\n\nThe following diff is sufficient for me to load the pkdgrav dataset that is currently causing the tests to fail:\n\n\n```\n#!python\n\ndiff --git a/yt/frontends/tipsy/data_structures.py b/yt/frontends/tipsy/data_structures.py\n--- a/yt/frontends/tipsy/data_structures.py\n+++ b/yt/frontends/tipsy/data_structures.py\n@@ -189,8 +189,7 @@ class TipsyDataset(ParticleDataset):\n\n         # If the cosmology parameters dictionary got set when data is\n         # loaded, we can assume it's a cosmological data set\n-        if self.comoving or self._cosmology_parameters is not None and \\\n-                self._cosmology_parameters.get('cosmological', None) is True:\n+        if self.comoving or self._cosmology_parameters is not None:\n             cosm = self._cosmology_parameters or {}\n             self.scale_factor = hvals[\"time\"]#In comoving simulations, time stores the scale factor a\n             self.cosmological_simulation = 1\n```\n\nNote that this uses the following test script:\n\n\n```\n#!python\n\nimport yt\n\npkdgrav = \"halo1e11_run1.00400/halo1e11_run1.00400\"\ncosmology_parameters = dict(current_redshift = 0.0,\n                            omega_lambda = 0.728,\n                            omega_matter = 0.272,\n                            hubble_constant = 0.702)\nkwargs = dict(field_dtypes = {\"Coordinates\": \"d\"},\n              cosmology_parameters = cosmology_parameters,\n              unit_base = {'length': (1.0/60.0, \"Mpccm/h\")},\n              n_ref = 64)\n\nds = yt.load(pkdgrav, **kwargs)\n```\n\nWhich more or less just follows what the test suite does to load this dataset.\n",
                "html": "<p>If <code>_cosmology_parameters</code> is set, why do you explicitly check for a parameter named <code>cosmological</code>? I'd think that having the dictionary available would be enough to tell that this is in fact a cosmological dataset.</p>\n<p>The following diff is sufficient for me to load the pkdgrav dataset that is currently causing the tests to fail:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">diff</span> <span class=\"o\">--</span><span class=\"n\">git</span> <span class=\"n\">a</span><span class=\"o\">/</span><span class=\"n\">yt</span><span class=\"o\">/</span><span class=\"n\">frontends</span><span class=\"o\">/</span><span class=\"n\">tipsy</span><span class=\"o\">/</span><span class=\"n\">data_structures</span><span class=\"o\">.</span><span class=\"n\">py</span> <span class=\"n\">b</span><span class=\"o\">/</span><span class=\"n\">yt</span><span class=\"o\">/</span><span class=\"n\">frontends</span><span class=\"o\">/</span><span class=\"n\">tipsy</span><span class=\"o\">/</span><span class=\"n\">data_structures</span><span class=\"o\">.</span><span class=\"n\">py</span>\n<span class=\"o\">---</span> <span class=\"n\">a</span><span class=\"o\">/</span><span class=\"n\">yt</span><span class=\"o\">/</span><span class=\"n\">frontends</span><span class=\"o\">/</span><span class=\"n\">tipsy</span><span class=\"o\">/</span><span class=\"n\">data_structures</span><span class=\"o\">.</span><span class=\"n\">py</span>\n<span class=\"o\">+++</span> <span class=\"n\">b</span><span class=\"o\">/</span><span class=\"n\">yt</span><span class=\"o\">/</span><span class=\"n\">frontends</span><span class=\"o\">/</span><span class=\"n\">tipsy</span><span class=\"o\">/</span><span class=\"n\">data_structures</span><span class=\"o\">.</span><span class=\"n\">py</span>\n<span class=\"err\">@@</span> <span class=\"o\">-</span><span class=\"mi\">189</span><span class=\"p\">,</span><span class=\"mi\">8</span> <span class=\"o\">+</span><span class=\"mi\">189</span><span class=\"p\">,</span><span class=\"mi\">7</span> <span class=\"err\">@@</span> <span class=\"k\">class</span> <span class=\"nc\">TipsyDataset</span><span class=\"p\">(</span><span class=\"n\">ParticleDataset</span><span class=\"p\">):</span>\n\n         <span class=\"c1\"># If the cosmology parameters dictionary got set when data is</span>\n         <span class=\"c1\"># loaded, we can assume it&#39;s a cosmological data set</span>\n<span class=\"o\">-</span>        <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">comoving</span> <span class=\"ow\">or</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_cosmology_parameters</span> <span class=\"ow\">is</span> <span class=\"ow\">not</span> <span class=\"bp\">None</span> <span class=\"ow\">and</span> \\\n<span class=\"o\">-</span>                <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_cosmology_parameters</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s1\">&#39;cosmological&#39;</span><span class=\"p\">,</span> <span class=\"bp\">None</span><span class=\"p\">)</span> <span class=\"ow\">is</span> <span class=\"bp\">True</span><span class=\"p\">:</span>\n<span class=\"o\">+</span>        <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">comoving</span> <span class=\"ow\">or</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_cosmology_parameters</span> <span class=\"ow\">is</span> <span class=\"ow\">not</span> <span class=\"bp\">None</span><span class=\"p\">:</span>\n             <span class=\"n\">cosm</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_cosmology_parameters</span> <span class=\"ow\">or</span> <span class=\"p\">{}</span>\n             <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">scale_factor</span> <span class=\"o\">=</span> <span class=\"n\">hvals</span><span class=\"p\">[</span><span class=\"s2\">&quot;time&quot;</span><span class=\"p\">]</span><span class=\"c1\">#In comoving simulations, time stores the scale factor a</span>\n             <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">cosmological_simulation</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>\n</pre></div>\n\n\n<p>Note that this uses the following test script:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kn\">import</span> <span class=\"nn\">yt</span>\n\n<span class=\"n\">pkdgrav</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;halo1e11_run1.00400/halo1e11_run1.00400&quot;</span>\n<span class=\"n\">cosmology_parameters</span> <span class=\"o\">=</span> <span class=\"nb\">dict</span><span class=\"p\">(</span><span class=\"n\">current_redshift</span> <span class=\"o\">=</span> <span class=\"mf\">0.0</span><span class=\"p\">,</span>\n                            <span class=\"n\">omega_lambda</span> <span class=\"o\">=</span> <span class=\"mf\">0.728</span><span class=\"p\">,</span>\n                            <span class=\"n\">omega_matter</span> <span class=\"o\">=</span> <span class=\"mf\">0.272</span><span class=\"p\">,</span>\n                            <span class=\"n\">hubble_constant</span> <span class=\"o\">=</span> <span class=\"mf\">0.702</span><span class=\"p\">)</span>\n<span class=\"n\">kwargs</span> <span class=\"o\">=</span> <span class=\"nb\">dict</span><span class=\"p\">(</span><span class=\"n\">field_dtypes</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"s2\">&quot;Coordinates&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;d&quot;</span><span class=\"p\">},</span>\n              <span class=\"n\">cosmology_parameters</span> <span class=\"o\">=</span> <span class=\"n\">cosmology_parameters</span><span class=\"p\">,</span>\n              <span class=\"n\">unit_base</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"s1\">&#39;length&#39;</span><span class=\"p\">:</span> <span class=\"p\">(</span><span class=\"mf\">1.0</span><span class=\"o\">/</span><span class=\"mf\">60.0</span><span class=\"p\">,</span> <span class=\"s2\">&quot;Mpccm/h&quot;</span><span class=\"p\">)},</span>\n              <span class=\"n\">n_ref</span> <span class=\"o\">=</span> <span class=\"mi\">64</span><span class=\"p\">)</span>\n\n<span class=\"n\">ds</span> <span class=\"o\">=</span> <span class=\"n\">yt</span><span class=\"o\">.</span><span class=\"n\">load</span><span class=\"p\">(</span><span class=\"n\">pkdgrav</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>Which more or less just follows what the test suite does to load this dataset.</p>",
                "markup": "markdown"
            },
            "created_on": "2015-09-02T15:39:39.431844+00:00",
            "updated_on": "2015-09-02T15:39:39.435320+00:00",
            "inline": {
                "from": null,
                "path": "yt/frontends/tipsy/data_structures.py",
                "to": 193
            },
            "id": 9585294
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9585760"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9585760"
                }
            },
            "pullrequest": {
                "title": "Fixing Tipsy frontend",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668"
                    }
                },
                "id": 1668
            },
            "content": {
                "raw": "Something went wrong, you should checkout http://hub.yt:8080/job/yt_testsuite_dev/490/",
                "html": "<p>Something went wrong, you should checkout <a href=\"http://hub.yt:8080/job/yt_testsuite_dev/490/\" rel=\"nofollow\">http://hub.yt:8080/job/yt_testsuite_dev/490/</a></p>",
                "markup": "markdown"
            },
            "created_on": "2015-09-02T16:05:35.061372+00:00",
            "updated_on": "2015-09-02T16:05:35.175600+00:00",
            "id": 9585760
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/chummels"
                    },
                    "html": {
                        "href": "https://bitbucket.org/chummels/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/chummels/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Cameron Hummels",
                "uuid": "{de871bb8-32e9-450a-b8c9-2b49a1334f16}",
                "username": "chummels"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9588918"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/nmearl/yt:None..None?path=yt%2Ffrontends%2Ftipsy%2Fdata_structures.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9588918"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9585294"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9585294"
                    }
                },
                "id": 9585294
            },
            "pullrequest": {
                "title": "Fixing Tipsy frontend",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668"
                    }
                },
                "id": 1668
            },
            "content": {
                "raw": "I believe the additional parameter `cosmological` was set because one of the datasets appeared to set the `self._cosmology_parameters` even though it wasn't actually a cosmological dataset.  I don't recall off the top of my head which sample dataset this was that caused us to believe this, but it seemed very peculiar that a non-cosmological dataset was setting the cosmology_parameters.  @nmearl was just trying to retain backwards compatibility with the existing behavior, although perhaps that behavior was incorrect.",
                "html": "<p>I believe the additional parameter <code>cosmological</code> was set because one of the datasets appeared to set the <code>self._cosmology_parameters</code> even though it wasn't actually a cosmological dataset.  I don't recall off the top of my head which sample dataset this was that caused us to believe this, but it seemed very peculiar that a non-cosmological dataset was setting the cosmology_parameters.  <a href=\"/nmearl/\" rel=\"nofollow\" title=\"@nmearl\" class=\"mention\">Nicholas Earl</a> was just trying to retain backwards compatibility with the existing behavior, although perhaps that behavior was incorrect.</p>",
                "markup": "markdown"
            },
            "created_on": "2015-09-02T19:43:37.642114+00:00",
            "updated_on": "2015-09-02T19:43:37.661604+00:00",
            "inline": {
                "from": null,
                "path": "yt/frontends/tipsy/data_structures.py",
                "to": null
            },
            "id": 9588918
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9589084"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/nmearl/yt:None..None?path=yt%2Ffrontends%2Ftipsy%2Fdata_structures.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9589084"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9588918"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9588918"
                    }
                },
                "id": 9588918
            },
            "pullrequest": {
                "title": "Fixing Tipsy frontend",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668"
                    }
                },
                "id": 1668
            },
            "content": {
                "raw": "It looks like that change broke support for PKDGrav datasets. We should probably retain the old behavior.\n\nWhich sample dataset were you having issues with?",
                "html": "<p>It looks like that change broke support for PKDGrav datasets. We should probably retain the old behavior.</p>\n<p>Which sample dataset were you having issues with?</p>",
                "markup": "markdown"
            },
            "created_on": "2015-09-02T19:46:33.577697+00:00",
            "updated_on": "2015-09-02T19:46:33.583091+00:00",
            "inline": {
                "from": null,
                "path": "yt/frontends/tipsy/data_structures.py",
                "to": null
            },
            "id": 9589084
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/nmearl"
                    },
                    "html": {
                        "href": "https://bitbucket.org/nmearl/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/nmearl/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nicholas Earl",
                "uuid": "{0ff93803-6abd-4e52-9a0d-bee442512b47}",
                "username": "nmearl"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9591134"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/nmearl/yt:None..None?path=yt%2Ffrontends%2Ftipsy%2Fdata_structures.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9591134"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9589084"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9589084"
                    }
                },
                "id": 9589084
            },
            "pullrequest": {
                "title": "Fixing Tipsy frontend",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668"
                    }
                },
                "id": 1668
            },
            "content": {
                "raw": "It was the unit test sample data sets. One of the possibilities of their failure was that they weren't really cosmological datasets, but were still passing in `cosmological_parameters` dictionaries. \n\n>  I'd think that having the dictionary available would be enough to tell that this is in fact a cosmological dataset.\n\nThis was our thinking. You can see in the latest commit to this PR, I added in the explicit keyword, attempting to solve some of the unit test errors. We would much prefer to do without this, in which case, I can simply roll back to the previous commit.",
                "html": "<p>It was the unit test sample data sets. One of the possibilities of their failure was that they weren't really cosmological datasets, but were still passing in <code>cosmological_parameters</code> dictionaries. </p>\n<blockquote>\n<p>I'd think that having the dictionary available would be enough to tell that this is in fact a cosmological dataset.</p>\n</blockquote>\n<p>This was our thinking. You can see in the latest commit to this PR, I added in the explicit keyword, attempting to solve some of the unit test errors. We would much prefer to do without this, in which case, I can simply roll back to the previous commit.</p>",
                "markup": "markdown"
            },
            "created_on": "2015-09-02T20:30:31.020746+00:00",
            "updated_on": "2015-09-02T20:30:31.093023+00:00",
            "inline": {
                "from": null,
                "path": "yt/frontends/tipsy/data_structures.py",
                "to": null
            },
            "id": 9591134
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9593601"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/nmearl/yt:None..None?path=yt%2Ffrontends%2Ftipsy%2Fdata_structures.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9593601"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9591134"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9591134"
                    }
                },
                "id": 9591134
            },
            "pullrequest": {
                "title": "Fixing Tipsy frontend",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668"
                    }
                },
                "id": 1668
            },
            "content": {
                "raw": "Which one exactly?\n\nBoth `halo1e11_run1.00400` and `agora_1e11.00400` are cosmological.",
                "html": "<p>Which one exactly?</p>\n<p>Both <code>halo1e11_run1.00400</code> and <code>agora_1e11.00400</code> are cosmological.</p>",
                "markup": "markdown"
            },
            "created_on": "2015-09-02T21:49:55.548513+00:00",
            "updated_on": "2015-09-02T21:49:55.553243+00:00",
            "inline": {
                "from": null,
                "path": "yt/frontends/tipsy/data_structures.py",
                "to": null
            },
            "id": 9593601
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9593693"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/nmearl/yt:None..None?path=yt%2Ffrontends%2Ftipsy%2Fdata_structures.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9593693"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9593601"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9593601"
                    }
                },
                "id": 9593601
            },
            "pullrequest": {
                "title": "Fixing Tipsy frontend",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668"
                    }
                },
                "id": 1668
            },
            "content": {
                "raw": "I am seeing that `halo1e11_run1.00400` doesn't have `bcomove` set in its header, which might just be a peculiarity of PKDGrav. It's definitely still cosmological and should probably be recognized as having comoving units.\n\nPerhaps `comoving` should be True even if `bComove` isn't in the parameters if a user has explicitly indicated that a dataset is cosmological by supplying a `cosmology_parameters` dictionary?",
                "html": "<p>I am seeing that <code>halo1e11_run1.00400</code> doesn't have <code>bcomove</code> set in its header, which might just be a peculiarity of PKDGrav. It's definitely still cosmological and should probably be recognized as having comoving units.</p>\n<p>Perhaps <code>comoving</code> should be True even if <code>bComove</code> isn't in the parameters if a user has explicitly indicated that a dataset is cosmological by supplying a <code>cosmology_parameters</code> dictionary?</p>",
                "markup": "markdown"
            },
            "created_on": "2015-09-02T21:53:25.106689+00:00",
            "updated_on": "2015-09-02T21:53:39.933625+00:00",
            "inline": {
                "from": null,
                "path": "yt/frontends/tipsy/data_structures.py",
                "to": null
            },
            "id": 9593693
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/chummels"
                    },
                    "html": {
                        "href": "https://bitbucket.org/chummels/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/chummels/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Cameron Hummels",
                "uuid": "{de871bb8-32e9-450a-b8c9-2b49a1334f16}",
                "username": "chummels"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9594866"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/nmearl/yt:None..None?path=yt%2Ffrontends%2Ftipsy%2Fdata_structures.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9594866"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9593601"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9593601"
                    }
                },
                "id": 9593601
            },
            "pullrequest": {
                "title": "Fixing Tipsy frontend",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668"
                    }
                },
                "id": 1668
            },
            "content": {
                "raw": "To be honest, I don't remember the exact failures we were getting several weeks back which prompted @nmearl to make the most recent commit.  But I'm sure that if he rollsback that commit, which matches the version of the code that you suggest above, we'll see the error again.  The error was either on the PKDGrav or the Agora sample datasets. @nmearl do you want to just make the change that @ngoldbaum suggests and see what happens?",
                "html": "<p>To be honest, I don't remember the exact failures we were getting several weeks back which prompted <a href=\"/nmearl/\" rel=\"nofollow\" title=\"@nmearl\" class=\"mention\">Nicholas Earl</a> to make the most recent commit.  But I'm sure that if he rollsback that commit, which matches the version of the code that you suggest above, we'll see the error again.  The error was either on the PKDGrav or the Agora sample datasets. <a href=\"/nmearl/\" rel=\"nofollow\" title=\"@nmearl\" class=\"mention\">Nicholas Earl</a> do you want to just make the change that <a href=\"/ngoldbaum/\" rel=\"nofollow\" title=\"@ngoldbaum\" class=\"mention\">Nathan Goldbaum</a> suggests and see what happens?</p>",
                "markup": "markdown"
            },
            "created_on": "2015-09-02T22:34:35.416180+00:00",
            "updated_on": "2015-09-02T22:35:16.748047+00:00",
            "inline": {
                "from": null,
                "path": "yt/frontends/tipsy/data_structures.py",
                "to": null
            },
            "id": 9594866
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9625503"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9625503"
                }
            },
            "pullrequest": {
                "title": "Fixing Tipsy frontend",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668"
                    }
                },
                "id": 1668
            },
            "content": {
                "raw": "Something went wrong, you should checkout http://hub.yt:8080/job/yt_testsuite_dev/495/",
                "html": "<p>Something went wrong, you should checkout <a href=\"http://hub.yt:8080/job/yt_testsuite_dev/495/\" rel=\"nofollow\">http://hub.yt:8080/job/yt_testsuite_dev/495/</a></p>",
                "markup": "markdown"
            },
            "created_on": "2015-09-03T14:53:40.587683+00:00",
            "updated_on": "2015-09-03T14:53:40.728400+00:00",
            "id": 9625503
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9626948"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9626948"
                }
            },
            "pullrequest": {
                "title": "Fixing Tipsy frontend",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668"
                    }
                },
                "id": 1668
            },
            "content": {
                "raw": "Docs were built for this PR. See http://hub.yt:8080/job/yt_docs/258/",
                "html": "<p>Docs were built for this PR. See <a href=\"http://hub.yt:8080/job/yt_docs/258/\" rel=\"nofollow\">http://hub.yt:8080/job/yt_docs/258/</a></p>",
                "markup": "markdown"
            },
            "created_on": "2015-09-03T15:20:04.975026+00:00",
            "updated_on": "2015-09-03T15:20:05.125296+00:00",
            "id": 9626948
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/chummels"
                    },
                    "html": {
                        "href": "https://bitbucket.org/chummels/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/chummels/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Cameron Hummels",
                "uuid": "{de871bb8-32e9-450a-b8c9-2b49a1334f16}",
                "username": "chummels"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9849950"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9849950"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9625503"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9625503"
                    }
                },
                "id": 9625503
            },
            "pullrequest": {
                "title": "Fixing Tipsy frontend",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668"
                    }
                },
                "id": 1668
            },
            "content": {
                "raw": "It appears that these errors are with the PKDGrav dataset.  I'm assuming the issue is that currently, yt thinks that PKDGrav is a non-cosmological dataset, but with @nmearl 's changes, it finally recognizes correctly that it's a cosmological dataset.  Some of the errors are very small changes in accuracy between output answer tests, others are more substantial changes, which may be due to using cosmological parameters or not using cosmological parameters when defining units.",
                "html": "<p>It appears that these errors are with the PKDGrav dataset.  I'm assuming the issue is that currently, yt thinks that PKDGrav is a non-cosmological dataset, but with <a href=\"/nmearl/\" rel=\"nofollow\" title=\"@nmearl\" class=\"mention\">Nicholas Earl</a> 's changes, it finally recognizes correctly that it's a cosmological dataset.  Some of the errors are very small changes in accuracy between output answer tests, others are more substantial changes, which may be due to using cosmological parameters or not using cosmological parameters when defining units.</p>",
                "markup": "markdown"
            },
            "created_on": "2015-09-11T16:44:10.744930+00:00",
            "updated_on": "2015-09-11T16:44:10.753528+00:00",
            "id": 9849950
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9850094"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9850094"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9849950"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9849950"
                    }
                },
                "id": 9849950
            },
            "pullrequest": {
                "title": "Fixing Tipsy frontend",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668"
                    }
                },
                "id": 1668
            },
            "content": {
                "raw": "I don't think that's true, it's loaded as a cosmological dataset in the test.",
                "html": "<p>I don't think that's true, it's loaded as a cosmological dataset in the test.</p>",
                "markup": "markdown"
            },
            "created_on": "2015-09-11T16:49:22.601610+00:00",
            "updated_on": "2015-09-11T16:49:22.604750+00:00",
            "id": 9850094
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/chummels"
                    },
                    "html": {
                        "href": "https://bitbucket.org/chummels/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/chummels/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Cameron Hummels",
                "uuid": "{de871bb8-32e9-450a-b8c9-2b49a1334f16}",
                "username": "chummels"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9850659"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9850659"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9850094"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9850094"
                    }
                },
                "id": 9850094
            },
            "pullrequest": {
                "title": "Fixing Tipsy frontend",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668"
                    }
                },
                "id": 1668
            },
            "content": {
                "raw": "What makes you say that?  You're right that it *is* a cosmological dataset, but it is not being loaded as such.  Correcting this is one of the main reasons for this PR.\n\nHere is the output when you load the PKDGrav dataset with yt:\n\n\n```\n#!python\n\nyt : [INFO     ] 2015-09-11 10:07:04,217 Parameters: current_time              = 1.0\nyt : [INFO     ] 2015-09-11 10:07:04,217 Parameters: domain_dimensions         = [2 2 2]\nyt : [INFO     ] 2015-09-11 10:07:04,217 Parameters: domain_left_edge          = None\nyt : [INFO     ] 2015-09-11 10:07:04,218 Parameters: domain_right_edge         = None\nyt : [INFO     ] 2015-09-11 10:07:04,218 Parameters: cosmological_simulation   = 0.0\nyt : [INFO     ] 2015-09-11 10:07:14,248 Allocating for 2.685e+07 particles\nyt : [INFO     ] 2015-09-11 10:07:26,135 Adding 2.685e+07 particles\nyt : [INFO     ] 2015-09-11 10:07:29,053 Identified 1.610e+02 octs\nyt : [INFO     ] 2015-09-11 10:07:29,269 Loading field plugins.\nyt : [INFO     ] 2015-09-11 10:07:29,270 Loaded angular_momentum (8 new fields)\nyt : [INFO     ] 2015-09-11 10:07:29,270 Loaded astro (15 new fields)\nyt : [INFO     ] 2015-09-11 10:07:29,270 Loaded cosmology (22 new fields)\nyt : [INFO     ] 2015-09-11 10:07:29,271 Loaded fluid (64 new fields)\nyt : [INFO     ] 2015-09-11 10:07:29,272 Loaded fluid_vector (96 new fields)\nyt : [INFO     ] 2015-09-11 10:07:29,272 Loaded geometric (112 new fields)\nyt : [INFO     ] 2015-09-11 10:07:29,272 Loaded local (112 new fields)\nyt : [INFO     ] 2015-09-11 10:07:29,272 Loaded magnetic_field (120 new fields)\nyt : [INFO     ] 2015-09-11 10:07:29,273 Loaded my_plugins (120 new fields)\nyt : [INFO     ] 2015-09-11 10:07:29,273 Loaded species (122 new fields)\n```\nNote that the ``cosmological_simulation`` parameter is set to 0.0.  This is also true when you try to load the Agora simulation output.  Both are cosmological datasets.",
                "html": "<p>What makes you say that?  You're right that it <em>is</em> a cosmological dataset, but it is not being loaded as such.  Correcting this is one of the main reasons for this PR.</p>\n<p>Here is the output when you load the PKDGrav dataset with yt:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">yt</span> <span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"n\">INFO</span>     <span class=\"p\">]</span> <span class=\"mi\">2015</span><span class=\"o\">-</span><span class=\"mi\">09</span><span class=\"o\">-</span><span class=\"mi\">11</span> <span class=\"mi\">10</span><span class=\"p\">:</span><span class=\"mo\">07</span><span class=\"p\">:</span><span class=\"mo\">04</span><span class=\"p\">,</span><span class=\"mi\">217</span> <span class=\"n\">Parameters</span><span class=\"p\">:</span> <span class=\"n\">current_time</span>              <span class=\"o\">=</span> <span class=\"mf\">1.0</span>\n<span class=\"n\">yt</span> <span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"n\">INFO</span>     <span class=\"p\">]</span> <span class=\"mi\">2015</span><span class=\"o\">-</span><span class=\"mi\">09</span><span class=\"o\">-</span><span class=\"mi\">11</span> <span class=\"mi\">10</span><span class=\"p\">:</span><span class=\"mo\">07</span><span class=\"p\">:</span><span class=\"mo\">04</span><span class=\"p\">,</span><span class=\"mi\">217</span> <span class=\"n\">Parameters</span><span class=\"p\">:</span> <span class=\"n\">domain_dimensions</span>         <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"mi\">2</span> <span class=\"mi\">2</span> <span class=\"mi\">2</span><span class=\"p\">]</span>\n<span class=\"n\">yt</span> <span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"n\">INFO</span>     <span class=\"p\">]</span> <span class=\"mi\">2015</span><span class=\"o\">-</span><span class=\"mi\">09</span><span class=\"o\">-</span><span class=\"mi\">11</span> <span class=\"mi\">10</span><span class=\"p\">:</span><span class=\"mo\">07</span><span class=\"p\">:</span><span class=\"mo\">04</span><span class=\"p\">,</span><span class=\"mi\">217</span> <span class=\"n\">Parameters</span><span class=\"p\">:</span> <span class=\"n\">domain_left_edge</span>          <span class=\"o\">=</span> <span class=\"bp\">None</span>\n<span class=\"n\">yt</span> <span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"n\">INFO</span>     <span class=\"p\">]</span> <span class=\"mi\">2015</span><span class=\"o\">-</span><span class=\"mi\">09</span><span class=\"o\">-</span><span class=\"mi\">11</span> <span class=\"mi\">10</span><span class=\"p\">:</span><span class=\"mo\">07</span><span class=\"p\">:</span><span class=\"mo\">04</span><span class=\"p\">,</span><span class=\"mi\">218</span> <span class=\"n\">Parameters</span><span class=\"p\">:</span> <span class=\"n\">domain_right_edge</span>         <span class=\"o\">=</span> <span class=\"bp\">None</span>\n<span class=\"n\">yt</span> <span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"n\">INFO</span>     <span class=\"p\">]</span> <span class=\"mi\">2015</span><span class=\"o\">-</span><span class=\"mi\">09</span><span class=\"o\">-</span><span class=\"mi\">11</span> <span class=\"mi\">10</span><span class=\"p\">:</span><span class=\"mo\">07</span><span class=\"p\">:</span><span class=\"mo\">04</span><span class=\"p\">,</span><span class=\"mi\">218</span> <span class=\"n\">Parameters</span><span class=\"p\">:</span> <span class=\"n\">cosmological_simulation</span>   <span class=\"o\">=</span> <span class=\"mf\">0.0</span>\n<span class=\"n\">yt</span> <span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"n\">INFO</span>     <span class=\"p\">]</span> <span class=\"mi\">2015</span><span class=\"o\">-</span><span class=\"mi\">09</span><span class=\"o\">-</span><span class=\"mi\">11</span> <span class=\"mi\">10</span><span class=\"p\">:</span><span class=\"mo\">07</span><span class=\"p\">:</span><span class=\"mi\">14</span><span class=\"p\">,</span><span class=\"mi\">248</span> <span class=\"n\">Allocating</span> <span class=\"k\">for</span> <span class=\"mf\">2.685e+07</span> <span class=\"n\">particles</span>\n<span class=\"n\">yt</span> <span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"n\">INFO</span>     <span class=\"p\">]</span> <span class=\"mi\">2015</span><span class=\"o\">-</span><span class=\"mi\">09</span><span class=\"o\">-</span><span class=\"mi\">11</span> <span class=\"mi\">10</span><span class=\"p\">:</span><span class=\"mo\">07</span><span class=\"p\">:</span><span class=\"mi\">26</span><span class=\"p\">,</span><span class=\"mi\">135</span> <span class=\"n\">Adding</span> <span class=\"mf\">2.685e+07</span> <span class=\"n\">particles</span>\n<span class=\"n\">yt</span> <span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"n\">INFO</span>     <span class=\"p\">]</span> <span class=\"mi\">2015</span><span class=\"o\">-</span><span class=\"mi\">09</span><span class=\"o\">-</span><span class=\"mi\">11</span> <span class=\"mi\">10</span><span class=\"p\">:</span><span class=\"mo\">07</span><span class=\"p\">:</span><span class=\"mi\">29</span><span class=\"p\">,</span><span class=\"mo\">053</span> <span class=\"n\">Identified</span> <span class=\"mf\">1.610e+02</span> <span class=\"n\">octs</span>\n<span class=\"n\">yt</span> <span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"n\">INFO</span>     <span class=\"p\">]</span> <span class=\"mi\">2015</span><span class=\"o\">-</span><span class=\"mi\">09</span><span class=\"o\">-</span><span class=\"mi\">11</span> <span class=\"mi\">10</span><span class=\"p\">:</span><span class=\"mo\">07</span><span class=\"p\">:</span><span class=\"mi\">29</span><span class=\"p\">,</span><span class=\"mi\">269</span> <span class=\"n\">Loading</span> <span class=\"n\">field</span> <span class=\"n\">plugins</span><span class=\"o\">.</span>\n<span class=\"n\">yt</span> <span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"n\">INFO</span>     <span class=\"p\">]</span> <span class=\"mi\">2015</span><span class=\"o\">-</span><span class=\"mi\">09</span><span class=\"o\">-</span><span class=\"mi\">11</span> <span class=\"mi\">10</span><span class=\"p\">:</span><span class=\"mo\">07</span><span class=\"p\">:</span><span class=\"mi\">29</span><span class=\"p\">,</span><span class=\"mi\">270</span> <span class=\"n\">Loaded</span> <span class=\"n\">angular_momentum</span> <span class=\"p\">(</span><span class=\"mi\">8</span> <span class=\"n\">new</span> <span class=\"n\">fields</span><span class=\"p\">)</span>\n<span class=\"n\">yt</span> <span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"n\">INFO</span>     <span class=\"p\">]</span> <span class=\"mi\">2015</span><span class=\"o\">-</span><span class=\"mi\">09</span><span class=\"o\">-</span><span class=\"mi\">11</span> <span class=\"mi\">10</span><span class=\"p\">:</span><span class=\"mo\">07</span><span class=\"p\">:</span><span class=\"mi\">29</span><span class=\"p\">,</span><span class=\"mi\">270</span> <span class=\"n\">Loaded</span> <span class=\"n\">astro</span> <span class=\"p\">(</span><span class=\"mi\">15</span> <span class=\"n\">new</span> <span class=\"n\">fields</span><span class=\"p\">)</span>\n<span class=\"n\">yt</span> <span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"n\">INFO</span>     <span class=\"p\">]</span> <span class=\"mi\">2015</span><span class=\"o\">-</span><span class=\"mi\">09</span><span class=\"o\">-</span><span class=\"mi\">11</span> <span class=\"mi\">10</span><span class=\"p\">:</span><span class=\"mo\">07</span><span class=\"p\">:</span><span class=\"mi\">29</span><span class=\"p\">,</span><span class=\"mi\">270</span> <span class=\"n\">Loaded</span> <span class=\"n\">cosmology</span> <span class=\"p\">(</span><span class=\"mi\">22</span> <span class=\"n\">new</span> <span class=\"n\">fields</span><span class=\"p\">)</span>\n<span class=\"n\">yt</span> <span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"n\">INFO</span>     <span class=\"p\">]</span> <span class=\"mi\">2015</span><span class=\"o\">-</span><span class=\"mi\">09</span><span class=\"o\">-</span><span class=\"mi\">11</span> <span class=\"mi\">10</span><span class=\"p\">:</span><span class=\"mo\">07</span><span class=\"p\">:</span><span class=\"mi\">29</span><span class=\"p\">,</span><span class=\"mi\">271</span> <span class=\"n\">Loaded</span> <span class=\"n\">fluid</span> <span class=\"p\">(</span><span class=\"mi\">64</span> <span class=\"n\">new</span> <span class=\"n\">fields</span><span class=\"p\">)</span>\n<span class=\"n\">yt</span> <span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"n\">INFO</span>     <span class=\"p\">]</span> <span class=\"mi\">2015</span><span class=\"o\">-</span><span class=\"mi\">09</span><span class=\"o\">-</span><span class=\"mi\">11</span> <span class=\"mi\">10</span><span class=\"p\">:</span><span class=\"mo\">07</span><span class=\"p\">:</span><span class=\"mi\">29</span><span class=\"p\">,</span><span class=\"mi\">272</span> <span class=\"n\">Loaded</span> <span class=\"n\">fluid_vector</span> <span class=\"p\">(</span><span class=\"mi\">96</span> <span class=\"n\">new</span> <span class=\"n\">fields</span><span class=\"p\">)</span>\n<span class=\"n\">yt</span> <span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"n\">INFO</span>     <span class=\"p\">]</span> <span class=\"mi\">2015</span><span class=\"o\">-</span><span class=\"mi\">09</span><span class=\"o\">-</span><span class=\"mi\">11</span> <span class=\"mi\">10</span><span class=\"p\">:</span><span class=\"mo\">07</span><span class=\"p\">:</span><span class=\"mi\">29</span><span class=\"p\">,</span><span class=\"mi\">272</span> <span class=\"n\">Loaded</span> <span class=\"n\">geometric</span> <span class=\"p\">(</span><span class=\"mi\">112</span> <span class=\"n\">new</span> <span class=\"n\">fields</span><span class=\"p\">)</span>\n<span class=\"n\">yt</span> <span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"n\">INFO</span>     <span class=\"p\">]</span> <span class=\"mi\">2015</span><span class=\"o\">-</span><span class=\"mi\">09</span><span class=\"o\">-</span><span class=\"mi\">11</span> <span class=\"mi\">10</span><span class=\"p\">:</span><span class=\"mo\">07</span><span class=\"p\">:</span><span class=\"mi\">29</span><span class=\"p\">,</span><span class=\"mi\">272</span> <span class=\"n\">Loaded</span> <span class=\"n\">local</span> <span class=\"p\">(</span><span class=\"mi\">112</span> <span class=\"n\">new</span> <span class=\"n\">fields</span><span class=\"p\">)</span>\n<span class=\"n\">yt</span> <span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"n\">INFO</span>     <span class=\"p\">]</span> <span class=\"mi\">2015</span><span class=\"o\">-</span><span class=\"mi\">09</span><span class=\"o\">-</span><span class=\"mi\">11</span> <span class=\"mi\">10</span><span class=\"p\">:</span><span class=\"mo\">07</span><span class=\"p\">:</span><span class=\"mi\">29</span><span class=\"p\">,</span><span class=\"mi\">272</span> <span class=\"n\">Loaded</span> <span class=\"n\">magnetic_field</span> <span class=\"p\">(</span><span class=\"mi\">120</span> <span class=\"n\">new</span> <span class=\"n\">fields</span><span class=\"p\">)</span>\n<span class=\"n\">yt</span> <span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"n\">INFO</span>     <span class=\"p\">]</span> <span class=\"mi\">2015</span><span class=\"o\">-</span><span class=\"mi\">09</span><span class=\"o\">-</span><span class=\"mi\">11</span> <span class=\"mi\">10</span><span class=\"p\">:</span><span class=\"mo\">07</span><span class=\"p\">:</span><span class=\"mi\">29</span><span class=\"p\">,</span><span class=\"mi\">273</span> <span class=\"n\">Loaded</span> <span class=\"n\">my_plugins</span> <span class=\"p\">(</span><span class=\"mi\">120</span> <span class=\"n\">new</span> <span class=\"n\">fields</span><span class=\"p\">)</span>\n<span class=\"n\">yt</span> <span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"n\">INFO</span>     <span class=\"p\">]</span> <span class=\"mi\">2015</span><span class=\"o\">-</span><span class=\"mi\">09</span><span class=\"o\">-</span><span class=\"mi\">11</span> <span class=\"mi\">10</span><span class=\"p\">:</span><span class=\"mo\">07</span><span class=\"p\">:</span><span class=\"mi\">29</span><span class=\"p\">,</span><span class=\"mi\">273</span> <span class=\"n\">Loaded</span> <span class=\"n\">species</span> <span class=\"p\">(</span><span class=\"mi\">122</span> <span class=\"n\">new</span> <span class=\"n\">fields</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>Note that the <code>cosmological_simulation</code> parameter is set to 0.0.  This is also true when you try to load the Agora simulation output.  Both are cosmological datasets.</p>",
                "markup": "markdown"
            },
            "created_on": "2015-09-11T17:11:30.639287+00:00",
            "updated_on": "2015-09-11T17:11:30.644374+00:00",
            "id": 9850659
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9851038"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9851038"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9850659"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9850659"
                    }
                },
                "id": 9850659
            },
            "pullrequest": {
                "title": "Fixing Tipsy frontend",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668"
                    }
                },
                "id": 1668
            },
            "content": {
                "raw": "Ah, good point, I hadn't actually tried loading it like the test does when I made my comment earlier. For reference, here's a test script that illustrates the issue:\n\n\n```\n#!python\n\nimport yt\ncosmology_parameters = dict(current_redshift = 0.0,\n                            omega_lambda = 0.728,\n                            omega_matter = 0.272,\n                            hubble_constant = 0.702)\nkwargs = dict(field_dtypes = {\"Coordinates\": \"d\"},\n              cosmology_parameters = cosmology_parameters,\n              unit_base = {'length': (1.0/60.0, \"Mpccm/h\")},\n              n_ref = 64)\n\n\nfn = 'halo1e11_run1.00400/halo1e11_run1.00400'\n\nds = yt.load(fn, **kwargs)\nprint ds.cosmological_simulation\nprint ds.current_redshift\n```\n\nOn this PR with that script the pkdgrav dataset is being successfully recognized ad cosmological, but not on the current development head of the yt branch. Sorry for hastily calling you out.",
                "html": "<p>Ah, good point, I hadn't actually tried loading it like the test does when I made my comment earlier. For reference, here's a test script that illustrates the issue:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kn\">import</span> <span class=\"nn\">yt</span>\n<span class=\"n\">cosmology_parameters</span> <span class=\"o\">=</span> <span class=\"nb\">dict</span><span class=\"p\">(</span><span class=\"n\">current_redshift</span> <span class=\"o\">=</span> <span class=\"mf\">0.0</span><span class=\"p\">,</span>\n                            <span class=\"n\">omega_lambda</span> <span class=\"o\">=</span> <span class=\"mf\">0.728</span><span class=\"p\">,</span>\n                            <span class=\"n\">omega_matter</span> <span class=\"o\">=</span> <span class=\"mf\">0.272</span><span class=\"p\">,</span>\n                            <span class=\"n\">hubble_constant</span> <span class=\"o\">=</span> <span class=\"mf\">0.702</span><span class=\"p\">)</span>\n<span class=\"n\">kwargs</span> <span class=\"o\">=</span> <span class=\"nb\">dict</span><span class=\"p\">(</span><span class=\"n\">field_dtypes</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"s2\">&quot;Coordinates&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;d&quot;</span><span class=\"p\">},</span>\n              <span class=\"n\">cosmology_parameters</span> <span class=\"o\">=</span> <span class=\"n\">cosmology_parameters</span><span class=\"p\">,</span>\n              <span class=\"n\">unit_base</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"s1\">&#39;length&#39;</span><span class=\"p\">:</span> <span class=\"p\">(</span><span class=\"mf\">1.0</span><span class=\"o\">/</span><span class=\"mf\">60.0</span><span class=\"p\">,</span> <span class=\"s2\">&quot;Mpccm/h&quot;</span><span class=\"p\">)},</span>\n              <span class=\"n\">n_ref</span> <span class=\"o\">=</span> <span class=\"mi\">64</span><span class=\"p\">)</span>\n\n\n<span class=\"n\">fn</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;halo1e11_run1.00400/halo1e11_run1.00400&#39;</span>\n\n<span class=\"n\">ds</span> <span class=\"o\">=</span> <span class=\"n\">yt</span><span class=\"o\">.</span><span class=\"n\">load</span><span class=\"p\">(</span><span class=\"n\">fn</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">)</span>\n<span class=\"k\">print</span> <span class=\"n\">ds</span><span class=\"o\">.</span><span class=\"n\">cosmological_simulation</span>\n<span class=\"k\">print</span> <span class=\"n\">ds</span><span class=\"o\">.</span><span class=\"n\">current_redshift</span>\n</pre></div>\n\n\n<p>On this PR with that script the pkdgrav dataset is being successfully recognized ad cosmological, but not on the current development head of the yt branch. Sorry for hastily calling you out.</p>",
                "markup": "markdown"
            },
            "created_on": "2015-09-11T17:24:52.681834+00:00",
            "updated_on": "2015-09-11T17:24:52.684461+00:00",
            "id": 9851038
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/chummels"
                    },
                    "html": {
                        "href": "https://bitbucket.org/chummels/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/chummels/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Cameron Hummels",
                "uuid": "{de871bb8-32e9-450a-b8c9-2b49a1334f16}",
                "username": "chummels"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9851791"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9851791"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9851038"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9851038"
                    }
                },
                "id": 9851038
            },
            "pullrequest": {
                "title": "Fixing Tipsy frontend",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668"
                    }
                },
                "id": 1668
            },
            "content": {
                "raw": "It's OK--I'm just interested in getting this PR merged at some point, as it's been sitting around for over a month mostly gathering dust and it fixes some problems with the Tipsy frontend.  \n\nWhen I run your code on the current tip, I get a failure because ``ds.current_redshift`` doesn't exist--which I guess is the point of your script.  Whereas when you run it on @nmearl 's PR, it gives the proper behavior.  So where does this leave us?  I think this leaves us with the PR being OK.  After all, the answer test errors are due to the fact that the tip of yt is treating PKDGrav as a non-cosmo run when it is actually a cosmo run.  Or is there more wrong here?  \n\nWhat needs to be done in order for this to get merged?",
                "html": "<p>It's OK--I'm just interested in getting this PR merged at some point, as it's been sitting around for over a month mostly gathering dust and it fixes some problems with the Tipsy frontend.  </p>\n<p>When I run your code on the current tip, I get a failure because <code>ds.current_redshift</code> doesn't exist--which I guess is the point of your script.  Whereas when you run it on <a href=\"/nmearl/\" rel=\"nofollow\" title=\"@nmearl\" class=\"mention\">Nicholas Earl</a> 's PR, it gives the proper behavior.  So where does this leave us?  I think this leaves us with the PR being OK.  After all, the answer test errors are due to the fact that the tip of yt is treating PKDGrav as a non-cosmo run when it is actually a cosmo run.  Or is there more wrong here?  </p>\n<p>What needs to be done in order for this to get merged?</p>",
                "markup": "markdown"
            },
            "created_on": "2015-09-11T17:54:38.685505+00:00",
            "updated_on": "2015-09-11T17:54:38.697276+00:00",
            "id": 9851791
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9851966"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9851966"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9851791"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9851791"
                    }
                },
                "id": 9851791
            },
            "pullrequest": {
                "title": "Fixing Tipsy frontend",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668"
                    }
                },
                "id": 1668
            },
            "content": {
                "raw": "The answers need to be regenerated.",
                "html": "<p>The answers need to be regenerated.</p>",
                "markup": "markdown"
            },
            "created_on": "2015-09-11T17:59:59.764295+00:00",
            "updated_on": "2015-09-11T17:59:59.769322+00:00",
            "id": 9851966
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/chummels"
                    },
                    "html": {
                        "href": "https://bitbucket.org/chummels/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/chummels/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Cameron Hummels",
                "uuid": "{de871bb8-32e9-450a-b8c9-2b49a1334f16}",
                "username": "chummels"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9859686"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9859686"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668/comments/9851966"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668/_/diff#comment-9851966"
                    }
                },
                "id": 9851966
            },
            "pullrequest": {
                "title": "Fixing Tipsy frontend",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1668"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1668"
                    }
                },
                "id": 1668
            },
            "content": {
                "raw": "So then is this ready to go for Monday's triage?  ",
                "html": "<p>So then is this ready to go for Monday's triage?  </p>",
                "markup": "markdown"
            },
            "created_on": "2015-09-12T03:13:18.424988+00:00",
            "updated_on": "2015-09-12T03:13:18.431432+00:00",
            "id": 9859686
        }
    ]
}