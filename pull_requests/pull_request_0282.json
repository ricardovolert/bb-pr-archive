{
    "reason": "",
    "state": "MERGED",
    "updated_on": "2012-09-26T23:59:22.879860+00:00",
    "comment_count": 1,
    "description": "The velocity callback function for off-axis slices wasn't working for me out of the box. These fixes seem to do the trick. \r\n\r\n1. In plot_modifications.py, the velocity arrows were being placed on the plot according to their pixel numbers (which for me went from (0, 0) to (800, 800)), but the plot itself was drawn in the units specified in the script ( (-1000, -1000) to (1000, 1000) AU for me), so the arrows were not covering the plot correctly. \r\n\r\n2. In plot_window.py, The _type_name attribute of CallBackWrapper needs to get set to \"CuttingPlane\" so the right type of quiver callback gets called.\r\n\r\n3. In GetOffAxisBoundsAndCenter, dividing by pf.domain_width seems wrong and resulted in the plot window getting set to something tiny for me. \r\n\r\nYou can see my script and the image it produces (after the above changes) here: https://www.dropbox.com/sh/a6cw1k773orvqr9/aHyiXXY_0e",
    "created_on": "2012-09-26T23:55:10.853551+00:00",
    "task_count": 0,
    "merge_commit": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/2359ab1ceea9"
            }
        },
        "hash": "2359ab1ceea9"
    },
    "title": "a couple of fixes needed to get velocity callbacks to work with off-axis slices",
    "links": {
        "diff": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/282/diff"
        },
        "decline": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/282/decline"
        },
        "self": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/282"
        },
        "activity": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/282/activity"
        },
        "merge": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/282/merge"
        },
        "commits": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/282/commits"
        },
        "statuses": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/282/statuses"
        },
        "approve": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/282/approve"
        },
        "html": {
            "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/282"
        },
        "comments": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/282/comments"
        }
    },
    "closed_by": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
            },
            "html": {
                "href": "https://bitbucket.org/ngoldbaum/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "Nathan Goldbaum",
        "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
        "username": "ngoldbaum"
    },
    "id": 282,
    "type": "pullrequest",
    "author": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/atmyers"
            },
            "html": {
                "href": "https://bitbucket.org/atmyers/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/atmyers/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "Andrew Myers",
        "uuid": "{651c5647-b78f-4cd9-8d9a-5d6e8c9ac8d3}",
        "username": "atmyers"
    },
    "source": {
        "branch": {
            "name": "yt"
        },
        "commit": null,
        "repository": null
    },
    "close_source_branch": false,
    "destination": {
        "branch": {
            "name": "yt"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/5af7cb598179"
                }
            },
            "hash": "5af7cb598179"
        },
        "repository": {
            "full_name": "yt_analysis/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/yt_analysis/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{b73cb37c-40f2-493a-aaa9-41bc8d8974cc}"
        }
    },
    "comments": [
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/282/comments/19671"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/282/_/diff#comment-19671"
                }
            },
            "pullrequest": {
                "title": "a couple of fixes needed to get velocity callbacks to work with off-axis slices",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/282"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/282"
                    }
                },
                "id": 282
            },
            "content": {
                "raw": "Hi Andrew.  Thanks for the fixes.  The issue with pixel coordinates versus data coordinates is a holdover from the way callbacks worked under plot collection.  We've been fixing the callbacks as needed - thanks for taking care of the VelocityCallback!\n\nThe issue with the width was an enzo-ism I unintentionally introduced and is actually fixed in the other PR I have open.  Thanks for confirming that it is indeed incorrect.\n\nI just tested this on one of my datasets and it looks like it's doing the right thing.  I'm going to accept.",
                "html": "<p>Hi Andrew.  Thanks for the fixes.  The issue with pixel coordinates versus data coordinates is a holdover from the way callbacks worked under plot collection.  We've been fixing the callbacks as needed - thanks for taking care of the VelocityCallback!</p>\n<p>The issue with the width was an enzo-ism I unintentionally introduced and is actually fixed in the other PR I have open.  Thanks for confirming that it is indeed incorrect.</p>\n<p>I just tested this on one of my datasets and it looks like it's doing the right thing.  I'm going to accept.</p>\n",
                "markup": "creole"
            },
            "created_on": "2012-09-26T23:59:15.267564+00:00",
            "updated_on": "2012-09-26T23:59:15.271933+00:00",
            "id": 19671
        }
    ]
}