{
    "reason": "",
    "state": "MERGED",
    "updated_on": "2012-08-13T15:11:32.875253+00:00",
    "comment_count": 8,
    "description": "The changesets with the most impact use find_outputs for simulation time series.  I did this so I could calculate light cones and light rays in my simulations, which usually have variable dt_output because of various reasons.\r\n\r\nThis PR also includes a few other minor changes.\r\n1. Adding a fit to Chandra emissivity that is based on temperature and electron fraction (thanks to Renyue Cen) to the derived fields.\r\n2. Adding the option to specify the colorbar label in a HEALPix camera.\r\n3. In star_analysis, if all of the stars have been filtered out, then return a zero spectrum.\r\n4. Fixing LaTeX \\mathrm labeling and B-field labels.\r\n\r\nUpdate 1: Changing default label to \"Projected <field>\" for the HEALPix camera.\r\n\r\nUpdate 2: Britton has reorganized where find_outputs is specified in the object.  Thanks!  It works for me.",
    "created_on": "2012-08-10T14:51:47.389915+00:00",
    "task_count": 0,
    "merge_commit": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/514f5a6a60c8"
            }
        },
        "hash": "514f5a6a60c8"
    },
    "title": "cosmological_observations find_outputs, labels, and star_analysis ",
    "links": {
        "diff": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/241/diff"
        },
        "decline": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/241/decline"
        },
        "self": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/241"
        },
        "activity": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/241/activity"
        },
        "merge": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/241/merge"
        },
        "commits": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/241/commits"
        },
        "statuses": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/241/statuses"
        },
        "approve": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/241/approve"
        },
        "html": {
            "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/241"
        },
        "comments": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/241/comments"
        }
    },
    "closed_by": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/brittonsmith"
            },
            "html": {
                "href": "https://bitbucket.org/brittonsmith/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/brittonsmith/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "Britton Smith",
        "uuid": "{94333901-a436-4c2c-8322-8d09e387eece}",
        "username": "brittonsmith"
    },
    "id": 241,
    "type": "pullrequest",
    "author": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/jwise77"
            },
            "html": {
                "href": "https://bitbucket.org/jwise77/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/jwise77/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "John Wise",
        "uuid": "{1268c7fc-4f69-4585-8c0c-960c8f6543f7}",
        "username": "jwise77"
    },
    "source": {
        "branch": {
            "name": "yt"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/jwise77/yt/commit/fa9b83bd9358"
                }
            },
            "hash": "fa9b83bd9358"
        },
        "repository": {
            "full_name": "jwise77/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/jwise77/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/jwise77/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/jwise77/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{a33f27e6-7d72-481c-8bbe-e841bd0849dc}"
        }
    },
    "close_source_branch": false,
    "destination": {
        "branch": {
            "name": "yt"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/16f5ecd96fab"
                }
            },
            "hash": "16f5ecd96fab"
        },
        "repository": {
            "full_name": "yt_analysis/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/yt_analysis/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{b73cb37c-40f2-493a-aaa9-41bc8d8974cc}"
        }
    },
    "comments": [
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/241/comments/14236"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/241/_/diff#comment-14236"
                }
            },
            "pullrequest": {
                "title": "cosmological_observations find_outputs, labels, and star_analysis ",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/241"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/241"
                    }
                },
                "id": 241
            },
            "content": {
                "raw": "The HEALpix changes look good to me, as do the fields.  John, we recently had a bug reported that the HEALpix camera doesn't by default multiply out by the path length in cm.  Does this patch address that?  An alternate would be to use the all_sky_projection, which will handle the various aspects of projecting.",
                "html": "<p>The HEALpix changes look good to me, as do the fields.  John, we recently had a bug reported that the HEALpix camera doesn't by default multiply out by the path length in cm.  Does this patch address that?  An alternate would be to use the all_sky_projection, which will handle the various aspects of projecting.</p>\n",
                "markup": "creole"
            },
            "created_on": "2012-08-10T14:54:51.499863+00:00",
            "updated_on": "2012-08-10T14:54:51.507790+00:00",
            "id": 14236
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/jwise77"
                    },
                    "html": {
                        "href": "https://bitbucket.org/jwise77/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/jwise77/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "John Wise",
                "uuid": "{1268c7fc-4f69-4585-8c0c-960c8f6543f7}",
                "username": "jwise77"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/241/comments/14238"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/241/_/diff#comment-14238"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/241/comments/14236"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/241/_/diff#comment-14236"
                    }
                },
                "id": 14236
            },
            "pullrequest": {
                "title": "cosmological_observations find_outputs, labels, and star_analysis ",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/241"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/241"
                    }
                },
                "id": 241
            },
            "content": {
                "raw": "It doesn't address the path length issue.  I could update the PR.",
                "html": "<p>It doesn't address the path length issue.  I could update the PR.</p>\n",
                "markup": "creole"
            },
            "created_on": "2012-08-10T14:56:14.505061+00:00",
            "updated_on": "2012-08-10T14:56:14.514721+00:00",
            "id": 14238
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/241/comments/14239"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/241/_/diff#comment-14239"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/241/comments/14238"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/241/_/diff#comment-14238"
                    }
                },
                "id": 14238
            },
            "pullrequest": {
                "title": "cosmological_observations find_outputs, labels, and star_analysis ",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/241"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/241"
                    }
                },
                "id": 241
            },
            "content": {
                "raw": "No, I don't think it *should* be addressed, actually, since we probably should not make the assumption that we want to multiply by cm in all cases.  But the label then is also wrong from the snapshot, isn't it?  What would be the best solution to that issue?",
                "html": "<p>No, I don't think it *should* be addressed, actually, since we probably should not make the assumption that we want to multiply by cm in all cases.  But the label then is also wrong from the snapshot, isn't it?  What would be the best solution to that issue?</p>\n",
                "markup": "creole"
            },
            "created_on": "2012-08-10T14:57:07.470921+00:00",
            "updated_on": "2012-08-10T14:57:07.479022+00:00",
            "id": 14239
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/jwise77"
                    },
                    "html": {
                        "href": "https://bitbucket.org/jwise77/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/jwise77/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "John Wise",
                "uuid": "{1268c7fc-4f69-4585-8c0c-960c8f6543f7}",
                "username": "jwise77"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/241/comments/14241"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/241/_/diff#comment-14241"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/241/comments/14239"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/241/_/diff#comment-14239"
                    }
                },
                "id": 14239
            },
            "pullrequest": {
                "title": "cosmological_observations find_outputs, labels, and star_analysis ",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/241"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/241"
                    }
                },
                "id": 241
            },
            "content": {
                "raw": "I think I made this change because Renyue was projecting HI number density, and he wanted cm^{-2} as the units.  So this was the easiest solution to give the user the option to specify the units.",
                "html": "<p>I think I made this change because Renyue was projecting HI number density, and he wanted cm^{-2} as the units.  So this was the easiest solution to give the user the option to specify the units.</p>\n",
                "markup": "creole"
            },
            "created_on": "2012-08-10T15:02:31.466029+00:00",
            "updated_on": "2012-08-10T15:02:31.475905+00:00",
            "id": 14241
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/241/comments/14242"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/241/_/diff#comment-14242"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/241/comments/14241"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/241/_/diff#comment-14241"
                    }
                },
                "id": 14241
            },
            "pullrequest": {
                "title": "cosmological_observations find_outputs, labels, and star_analysis ",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/241"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/241"
                    }
                },
                "id": 241
            },
            "content": {
                "raw": "Okay.  Can you update the PR to either only allow the user to specify the label, or to just put the field name if left unspecified?  I think this is sufficiently advanced that anybody using the HEALpix camera instead of allsky_projection should know what to do.",
                "html": "<p>Okay.  Can you update the PR to either only allow the user to specify the label, or to just put the field name if left unspecified?  I think this is sufficiently advanced that anybody using the HEALpix camera instead of allsky_projection should know what to do.</p>\n",
                "markup": "creole"
            },
            "created_on": "2012-08-10T15:04:25.941494+00:00",
            "updated_on": "2012-08-10T15:04:25.952237+00:00",
            "id": 14242
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/brittonsmith"
                    },
                    "html": {
                        "href": "https://bitbucket.org/brittonsmith/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/brittonsmith/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Britton Smith",
                "uuid": "{94333901-a436-4c2c-8322-8d09e387eece}",
                "username": "brittonsmith"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/241/comments/14244"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/241/_/diff#comment-14244"
                }
            },
            "pullrequest": {
                "title": "cosmological_observations find_outputs, labels, and star_analysis ",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/241"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/241"
                    }
                },
                "id": 241
            },
            "content": {
                "raw": "I think a little more needs to be done to make find_outputs=True work with light cone and light rays.  The find_outputs keyword is accepted by get_time_series, but not by SimulationTimeSeries.__init__, which is the only way that LightRay and LightCone interact with SimulationTimeSeries.\nIn thinking about it, it seems more appropriate anyway that find_outputs be a keyword to __init__ and not to get_time_series.  I think all that needs to happen is to take the call to _find_outputs out of get_time_series and move it to __init__.  We probably also need to add have _find_outputs separate the datasets into time and redshift outputs based on names so that the time_outputs and redshift_outputs get filled properly.  I'd be happy to help out with this and probably have some time tomorrow to get it fixed up.",
                "html": "<p>I think a little more needs to be done to make find_outputs=True work with light cone and light rays.  The find_outputs keyword is accepted by get_time_series, but not by SimulationTimeSeries.<u>init</u>, which is the only way that LightRay and LightCone interact with SimulationTimeSeries.\nIn thinking about it, it seems more appropriate anyway that find_outputs be a keyword to <u>init</u> and not to get_time_series.  I think all that needs to happen is to take the call to _find_outputs out of get_time_series and move it to <u>init</u>.  We probably also need to add have _find_outputs separate the datasets into time and redshift outputs based on names so that the time_outputs and redshift_outputs get filled properly.  I'd be happy to help out with this and probably have some time tomorrow to get it fixed up.</p>\n",
                "markup": "creole"
            },
            "created_on": "2012-08-10T15:10:24.463098+00:00",
            "updated_on": "2012-08-10T15:10:24.472875+00:00",
            "id": 14244
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/241/comments/14262"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/241/_/diff#comment-14262"
                }
            },
            "pullrequest": {
                "title": "cosmological_observations find_outputs, labels, and star_analysis ",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/241"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/241"
                    }
                },
                "id": 241
            },
            "content": {
                "raw": "Thanks, John!  With this update, I'm cool with the changes, and I'll leave the other parts to you and Britton.",
                "html": "<p>Thanks, John!  With this update, I'm cool with the changes, and I'll leave the other parts to you and Britton.</p>\n",
                "markup": "creole"
            },
            "created_on": "2012-08-10T15:29:31.805436+00:00",
            "updated_on": "2012-08-10T15:29:31.814051+00:00",
            "id": 14262
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/jwise77"
                    },
                    "html": {
                        "href": "https://bitbucket.org/jwise77/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/jwise77/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "John Wise",
                "uuid": "{1268c7fc-4f69-4585-8c0c-960c8f6543f7}",
                "username": "jwise77"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/241/comments/14263"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/241/_/diff#comment-14263"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/241/comments/14244"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/241/_/diff#comment-14244"
                    }
                },
                "id": 14244
            },
            "pullrequest": {
                "title": "cosmological_observations find_outputs, labels, and star_analysis ",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/241"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/241"
                    }
                },
                "id": 241
            },
            "content": {
                "raw": "Hi Britton, thanks for chiming in.  I was unsure how to handle the find_outputs with the time and redshift outputs, and your comments gave me a clearer picture on its implementation.  I can try this out, but I'm running out of time for development today.  Maybe we can work on it tomorrow.",
                "html": "<p>Hi Britton, thanks for chiming in.  I was unsure how to handle the find_outputs with the time and redshift outputs, and your comments gave me a clearer picture on its implementation.  I can try this out, but I'm running out of time for development today.  Maybe we can work on it tomorrow.</p>\n",
                "markup": "creole"
            },
            "created_on": "2012-08-10T15:30:20.599331+00:00",
            "updated_on": "2012-08-10T15:30:20.609612+00:00",
            "id": 14263
        }
    ]
}