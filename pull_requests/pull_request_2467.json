{
    "reason": "",
    "state": "MERGED",
    "updated_on": "2017-01-05T18:49:00.085328+00:00",
    "comment_count": 4,
    "description": "Matplotlib 2.0 is coming out soon. I've been testing to the release candidate and noticed a couple issues, fixed here. One was reported as an issue on matplotlib's github:\r\n\r\nhttps://github.com/matplotlib/matplotlib/issues/7595\r\n\r\nNow that matplotlib2.0rc2 is out I did a more thorough job here of finding places where we were using APIs that will be deprecated in mpl 2.0. Summary of changes:\r\n\r\n* Made it so PlotWindow plots have inward pointing tick marks along the top and right edges of the plot, matching their appearance under matplotlib 1.5.3.\r\n* Add an API shim that handles an API change in how matplotlib 2.0 handles tick marks for symlog scaled colorbars. This makes it so PlotWindow colorbars appear identical under matplotlib 2.0 and 1.5.3.\r\n* Fixed a few places where we should be explicitly using cdivision in the plotting code.\r\n* Removed unnecessary calls to `axes.hold`. I think these calls were originally there to handle issues in very old versions of matplotlib (from 2007 or earlier). As far as I can tell they have not been necessary for some time and in my testing removing them does not cause any changes to how plots appear. As of matplotlib 2.0, `axes.hold()` is deprecated and will eventually be removed, so I'm just going to go ahead and remove all of the places we use this API in the plot callback code.\r\n* Adapted to an API change in how matplotlib allows setting the axes background color. In matplotlib 1.5.3 and earlier, you need to use `set_axis_bgcolor`. Starting in matplotlib 2.0 this function is deprecated, so we adapt and use the new `set_facecolor` API. I also had to add some shim code that checks the matplotlib version in the test for this functionality.\r\n* The `spectral` colormap is now deprecated. I've added a shim to use the new name in matplotlib 2.0, `nipy_spectral`.",
    "created_on": "2016-12-09T02:15:25.220198+00:00",
    "task_count": 0,
    "merge_commit": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/045a34d130b3"
            }
        },
        "hash": "045a34d130b3"
    },
    "title": "Fixes for matplotlib 2.0",
    "links": {
        "diff": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2467/diff"
        },
        "decline": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2467/decline"
        },
        "self": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2467"
        },
        "activity": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2467/activity"
        },
        "merge": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2467/merge"
        },
        "commits": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2467/commits"
        },
        "statuses": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2467/statuses"
        },
        "approve": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2467/approve"
        },
        "html": {
            "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2467"
        },
        "comments": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2467/comments"
        }
    },
    "closed_by": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/jzuhone"
            },
            "html": {
                "href": "https://bitbucket.org/jzuhone/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/jzuhone/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "John ZuHone",
        "uuid": "{0c51edfa-e317-432f-bbef-7401c6e2aa8a}",
        "username": "jzuhone"
    },
    "id": 2467,
    "type": "pullrequest",
    "author": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
            },
            "html": {
                "href": "https://bitbucket.org/ngoldbaum/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "Nathan Goldbaum",
        "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
        "username": "ngoldbaum"
    },
    "source": {
        "branch": {
            "name": "yt"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/ngoldbaum/yt/commit/eb5665df73e4"
                }
            },
            "hash": "eb5665df73e4"
        },
        "repository": {
            "full_name": "ngoldbaum/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/ngoldbaum/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/ngoldbaum/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/ngoldbaum/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{cb18d7d9-ab77-4e80-81ed-8d32a945e0ef}"
        }
    },
    "close_source_branch": false,
    "destination": {
        "branch": {
            "name": "yt"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/b0b136647960"
                }
            },
            "hash": "b0b136647960"
        },
        "repository": {
            "full_name": "yt_analysis/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/yt_analysis/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{b73cb37c-40f2-493a-aaa9-41bc8d8974cc}"
        }
    },
    "comments": [
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2467/comments/28124767"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2467/_/diff#comment-28124767"
                }
            },
            "pullrequest": {
                "title": "Fixes for matplotlib 2.0",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2467"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2467"
                    }
                },
                "id": 2467
            },
            "content": {
                "raw": "Hmm, i'm gonna wait until the github issue is resolved to update this.",
                "html": "<p>Hmm, i'm gonna wait until the github issue is resolved to update this.</p>",
                "markup": "markdown"
            },
            "created_on": "2016-12-09T22:16:33.087900+00:00",
            "updated_on": "2016-12-09T22:16:33.090630+00:00",
            "id": 28124767
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/qulogic"
                    },
                    "html": {
                        "href": "https://bitbucket.org/qulogic/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/qulogic/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Elliott Sales de Andrade",
                "uuid": "{3dfaddd5-089b-42c5-bcac-c785a05835a7}",
                "username": "qulogic"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2467/comments/28597248"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/ngoldbaum/yt:eb5665df73e4..b0b136647960?path=yt%2Fvisualization%2Fvolume_rendering%2Ftransfer_function_helper.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2467/_/diff#comment-28597248"
                }
            },
            "pullrequest": {
                "title": "Fixes for matplotlib 2.0",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2467"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2467"
                    }
                },
                "id": 2467
            },
            "content": {
                "raw": "1.3.0",
                "html": "<p>1.3.0</p>",
                "markup": "markdown"
            },
            "created_on": "2016-12-19T22:33:15.690396+00:00",
            "updated_on": "2016-12-19T22:33:15.727017+00:00",
            "inline": {
                "from": null,
                "path": "yt/visualization/volume_rendering/transfer_function_helper.py",
                "to": 145
            },
            "id": 28597248
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2467/comments/28597530"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/ngoldbaum/yt:eb5665df73e4..b0b136647960?path=yt%2Fvisualization%2Fvolume_rendering%2Ftransfer_function_helper.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2467/_/diff#comment-28597530"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2467/comments/28597248"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2467/_/diff#comment-28597248"
                    }
                },
                "id": 28597248
            },
            "pullrequest": {
                "title": "Fixes for matplotlib 2.0",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2467"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2467"
                    }
                },
                "id": 2467
            },
            "content": {
                "raw": "It may be the case that it was there, but matplotlib only emits a deprecation warning on 2.0 or newer.",
                "html": "<p>It may be the case that it was there, but matplotlib only emits a deprecation warning on 2.0 or newer.</p>",
                "markup": "markdown"
            },
            "created_on": "2016-12-19T22:40:35.070618+00:00",
            "updated_on": "2016-12-19T22:40:35.072856+00:00",
            "inline": {
                "from": null,
                "path": "yt/visualization/volume_rendering/transfer_function_helper.py",
                "to": null
            },
            "id": 28597530
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/qulogic"
                    },
                    "html": {
                        "href": "https://bitbucket.org/qulogic/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/qulogic/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Elliott Sales de Andrade",
                "uuid": "{3dfaddd5-089b-42c5-bcac-c785a05835a7}",
                "username": "qulogic"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2467/comments/28597667"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/ngoldbaum/yt:eb5665df73e4..b0b136647960?path=yt%2Fvisualization%2Fvolume_rendering%2Ftransfer_function_helper.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2467/_/diff#comment-28597667"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2467/comments/28597530"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2467/_/diff#comment-28597530"
                    }
                },
                "id": 28597530
            },
            "pullrequest": {
                "title": "Fixes for matplotlib 2.0",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2467"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2467"
                    }
                },
                "id": 2467
            },
            "content": {
                "raw": "True, but changing the check means you can remove the backwards-compatibility earlier whenever you bump matplotlib minimum requirements in the future.",
                "html": "<p>True, but changing the check means you can remove the backwards-compatibility earlier whenever you bump matplotlib minimum requirements in the future.</p>",
                "markup": "markdown"
            },
            "created_on": "2016-12-19T22:43:52.263697+00:00",
            "updated_on": "2016-12-19T22:43:52.316798+00:00",
            "inline": {
                "from": null,
                "path": "yt/visualization/volume_rendering/transfer_function_helper.py",
                "to": null
            },
            "id": 28597667
        }
    ]
}