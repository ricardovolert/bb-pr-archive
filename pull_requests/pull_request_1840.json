{
    "reason": "",
    "state": "MERGED",
    "updated_on": "2015-11-02T19:54:06.951577+00:00",
    "comment_count": 2,
    "description": "Right now if a user (I'm particularly concerned with new users) tries to run `yt.run_nose()` in the same directory as the installed `yt` package (e.g. in the root of the yt repository), the following error will be triggered:\r\n\r\n```\r\n======================================================================\r\nERROR: Failure: OSError ([Errno 2] No such file or directory: '')\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python2.7/site-packages/nose/loader.py\", line 418, in loadTestsFromName\r\n    addr.filename, addr.module)\r\n  File \"/usr/local/lib/python2.7/site-packages/nose/importer.py\", line 47, in importFromPath\r\n    return self.importFromDir(dir_path, fqname)\r\n  File \"/usr/local/lib/python2.7/site-packages/nose/importer.py\", line 86, in importFromDir\r\n    if (self.sameModule(old, filename)\r\n  File \"/usr/local/lib/python2.7/site-packages/nose/importer.py\", line 131, in sameModule\r\n    if _samefile(mod_path, new_path):\r\n  File \"/usr/local/Cellar/python/2.7.9/Frameworks/Python.framework/Versions/2.7/lib/python2.7/posixpath.py\", line 162, in samefile\r\n    s1 = os.stat(f1)\r\nOSError: [Errno 2] No such file or directory: ''\r\n\r\n----------------------------------------------------------------------\r\n```\r\n\r\nThis is pretty mysterious and doesn't indicate the correct thing to do. This ends up being because of nose issue 701, first reported in 2013. I stared at the nose sources a little bit and couldn't see an obvious way to fix this without possibly breaking other things. Given the number of open pull requests to nose I'm also not particularly optimistic about any fix getting merged in.\r\n\r\nOn the other hand, it's pretty easy to detect this bad state and provide a nicer error message. This is what this pull request does.\r\n\r\nTake a look at yt issue 1139 for a real new user who hit this exact issue.",
    "created_on": "2015-10-31T15:05:37.779956+00:00",
    "task_count": 0,
    "merge_commit": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/f264885c3fb4"
            }
        },
        "hash": "f264885c3fb4"
    },
    "title": "Provide nice error message when triggering nose issue 701",
    "links": {
        "diff": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1840/diff"
        },
        "decline": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1840/decline"
        },
        "self": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1840"
        },
        "activity": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1840/activity"
        },
        "merge": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1840/merge"
        },
        "commits": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1840/commits"
        },
        "statuses": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1840/statuses"
        },
        "approve": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1840/approve"
        },
        "html": {
            "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1840"
        },
        "comments": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1840/comments"
        }
    },
    "closed_by": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/bwkeller"
            },
            "html": {
                "href": "https://bitbucket.org/bwkeller/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/bwkeller/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "Ben Keller",
        "uuid": "{1719424c-ccde-435f-aa44-5102314e6b2d}",
        "username": "bwkeller"
    },
    "id": 1840,
    "type": "pullrequest",
    "author": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
            },
            "html": {
                "href": "https://bitbucket.org/ngoldbaum/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "Nathan Goldbaum",
        "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
        "username": "ngoldbaum"
    },
    "source": {
        "branch": {
            "name": "yt"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/ngoldbaum/yt/commit/0c232cb115b2"
                }
            },
            "hash": "0c232cb115b2"
        },
        "repository": {
            "full_name": "ngoldbaum/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/ngoldbaum/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/ngoldbaum/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/ngoldbaum/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{cb18d7d9-ab77-4e80-81ed-8d32a945e0ef}"
        }
    },
    "close_source_branch": false,
    "destination": {
        "branch": {
            "name": "yt"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/7318cb52f590"
                }
            },
            "hash": "7318cb52f590"
        },
        "repository": {
            "full_name": "yt_analysis/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/yt_analysis/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{b73cb37c-40f2-493a-aaa9-41bc8d8974cc}"
        }
    },
    "comments": [
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/atmyers"
                    },
                    "html": {
                        "href": "https://bitbucket.org/atmyers/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/atmyers/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Andrew Myers",
                "uuid": "{651c5647-b78f-4cd9-8d9a-5d6e8c9ac8d3}",
                "username": "atmyers"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1840/comments/11347702"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1840/_/diff#comment-11347702"
                }
            },
            "pullrequest": {
                "title": "Provide nice error message when triggering nose issue 701",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1840"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1840"
                    }
                },
                "id": 1840
            },
            "content": {
                "raw": "I've hit this issue before too - I think this is a great idea.",
                "html": "<p>I've hit this issue before too - I think this is a great idea.</p>",
                "markup": "markdown"
            },
            "created_on": "2015-10-31T15:52:10.250529+00:00",
            "updated_on": "2015-10-31T15:52:10.252822+00:00",
            "id": 11347702
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1840/comments/11347811"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1840/_/diff#comment-11347811"
                }
            },
            "pullrequest": {
                "title": "Provide nice error message when triggering nose issue 701",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1840"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1840"
                    }
                },
                "id": 1840
            },
            "content": {
                "raw": "All tests pass. Good job!",
                "html": "<p>All tests pass. Good job!</p>",
                "markup": "markdown"
            },
            "created_on": "2015-10-31T16:30:31.100800+00:00",
            "updated_on": "2015-10-31T16:30:31.145968+00:00",
            "id": 11347811
        }
    ]
}