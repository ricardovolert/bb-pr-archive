{
    "links": {
        "decline": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/435/decline"
        },
        "approve": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/435/approve"
        },
        "html": {
            "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/435"
        },
        "activity": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/435/activity"
        },
        "self": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/435"
        },
        "commits": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/435/commits"
        },
        "merge": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/435/merge"
        },
        "statuses": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/435/statuses"
        },
        "comments": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/435/comments"
        },
        "diff": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/435/diff"
        }
    },
    "task_count": 0,
    "source": {
        "repository": {
            "full_name": "samskillman/yt",
            "uuid": "{f1df6f31-13ed-4d98-a11d-1954f1f1fdfa}",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/samskillman/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/samskillman/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/samskillman/yt/avatar/32/"
                }
            },
            "name": "yt"
        },
        "commit": {
            "hash": "0d2a983d8924",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/samskillman/yt/commit/0d2a983d8924"
                }
            }
        },
        "branch": {
            "name": "yt"
        }
    },
    "closed_by": {
        "username": "MatthewTurk",
        "type": "user",
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
            },
            "html": {
                "href": "https://bitbucket.org/MatthewTurk/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
            }
        },
        "display_name": "Matt Turk",
        "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}"
    },
    "title": "Upgrades to ImageArray, Camera image saving, handling arbitrary background colors.",
    "id": 435,
    "comment_count": 6,
    "created_on": "2013-02-17T21:53:23.232393+00:00",
    "merge_commit": {
        "hash": "7f49529e1bb6",
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/7f49529e1bb6"
            }
        }
    },
    "comments": [
        {
            "content": {
                "markup": "markdown",
                "raw": "Shouldn't that \"__main__\" bit be moved to tests?",
                "html": "<p>Shouldn't that \"<strong>main</strong>\" bit be moved to tests?</p>"
            },
            "user": {
                "username": "xarthisius",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/xarthisius"
                    },
                    "html": {
                        "href": "https://bitbucket.org/xarthisius/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/xarthisius/avatar/32/"
                    }
                },
                "display_name": "Kacper Kowalik",
                "uuid": "{26af8f1d-35b3-46ce-9939-09915b06e31f}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/435/comments/122040"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/435/_/diff#comment-122040"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/samskillman/yt:7d4f9a3dce41..9823f77dfcbb?path=yt%2Fdata_objects%2Fimage_array.py"
                }
            },
            "created_on": "2013-02-18T17:43:18.254457+00:00",
            "updated_on": "2013-02-18T17:43:18.261563+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/435"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/435"
                    }
                },
                "title": "Upgrades to ImageArray, Camera image saving, handling arbitrary background colors.",
                "id": 435
            },
            "inline": {
                "to": 445,
                "path": "yt/data_objects/image_array.py",
                "from": null
            },
            "type": "pullrequest_comment",
            "id": 122040
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Hi Sam, I'm going to give some comments, but not all will be deal-breakers.  I do like the changes quite a lot, and I think this is providing a very nice base for an important component.",
                "html": "<p>Hi Sam, I'm going to give some comments, but not all will be deal-breakers.  I do like the changes quite a lot, and I think this is providing a very nice base for an important component.</p>"
            },
            "user": {
                "username": "MatthewTurk",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "display_name": "Matt Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/435/comments/122878"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/435/_/diff#comment-122878"
                }
            },
            "created_on": "2013-02-19T13:03:43.699118+00:00",
            "updated_on": "2013-02-19T13:03:43.710905+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/435"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/435"
                    }
                },
                "title": "Upgrades to ImageArray, Camera image saving, handling arbitrary background colors.",
                "id": 435
            },
            "type": "pullrequest_comment",
            "id": 122878
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Can you change this to compile better?  Specifically:\n\n    This can be used to set a background color for the image, and can\n    take several types of values:\n\n       * ``white``: ...\n       * ``black``: ...\n\n\nSo 3 spaces before the asterisks, and there needs to be an extra line after the end of the bullet point list.  This helps Sphinx process is.  (For what it's worth, the reason I am making this suggestion is that I had to trial-and-error fix a docstring like this the other day.  :)",
                "html": "<p>Can you change this to compile better?  Specifically:</p>\n<div class=\"codehilite\"><pre><span></span>This can be used to set a background color for the image, and can\ntake several types of values:\n\n   * ``white``: ...\n   * ``black``: ...\n</pre></div>\n\n\n<p>So 3 spaces before the asterisks, and there needs to be an extra line after the end of the bullet point list.  This helps Sphinx process is.  (For what it's worth, the reason I am making this suggestion is that I had to trial-and-error fix a docstring like this the other day.  :)</p>"
            },
            "user": {
                "username": "MatthewTurk",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "display_name": "Matt Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/435/comments/122880"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/435/_/diff#comment-122880"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/samskillman/yt:2669c41d4f19..5fb26616584a?path=yt%2Fdata_objects%2Fimage_array.py"
                }
            },
            "created_on": "2013-02-19T13:05:35.594393+00:00",
            "updated_on": "2013-02-19T13:05:35.601857+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/435"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/435"
                    }
                },
                "title": "Upgrades to ImageArray, Camera image saving, handling arbitrary background colors.",
                "id": 435
            },
            "inline": {
                "to": 148,
                "path": "yt/data_objects/image_array.py",
                "from": null
            },
            "type": "pullrequest_comment",
            "id": 122880
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Can the continuation be periods, not `>` ?\n\nAlso, *great* example!",
                "html": "<p>Can the continuation be periods, not <code>&gt;</code> ?</p>\n<p>Also, <em>great</em> example!</p>"
            },
            "user": {
                "username": "MatthewTurk",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "display_name": "Matt Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/435/comments/122881"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/435/_/diff#comment-122881"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/samskillman/yt:2669c41d4f19..5fb26616584a?path=yt%2Fdata_objects%2Fimage_array.py"
                }
            },
            "created_on": "2013-02-19T13:06:05.502976+00:00",
            "updated_on": "2013-02-19T13:06:05.509183+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/435"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/435"
                    }
                },
                "title": "Upgrades to ImageArray, Camera image saving, handling arbitrary background colors.",
                "id": 435
            },
            "inline": {
                "to": 166,
                "path": "yt/data_objects/image_array.py",
                "from": null
            },
            "type": "pullrequest_comment",
            "id": 122881
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Okay, other than the minor changes (and I didn't duplicate my request about the docstring, but I think it applies elsewhere) I am really happy with this.  In fact, with the degree and type of testing, the docstrings, and the functionality being an incremental but important improvement to a component, I think it's fair to say this is a model contribution.  Very nice work, and thank you.  I look forward to deeper integration of ImageArray, and even expanding its influence.",
                "html": "<p>Okay, other than the minor changes (and I didn't duplicate my request about the docstring, but I think it applies elsewhere) I am really happy with this.  In fact, with the degree and type of testing, the docstrings, and the functionality being an incremental but important improvement to a component, I think it's fair to say this is a model contribution.  Very nice work, and thank you.  I look forward to deeper integration of ImageArray, and even expanding its influence.</p>"
            },
            "user": {
                "username": "MatthewTurk",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "display_name": "Matt Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/435/comments/122888"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/435/_/diff#comment-122888"
                }
            },
            "created_on": "2013-02-19T13:10:18.673834+00:00",
            "updated_on": "2013-02-19T13:10:18.681024+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/435"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/435"
                    }
                },
                "title": "Upgrades to ImageArray, Camera image saving, handling arbitrary background colors.",
                "id": 435
            },
            "type": "pullrequest_comment",
            "id": 122888
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Nice addition.  We should migrate to this more broadly in the future.",
                "html": "<p>Nice addition.  We should migrate to this more broadly in the future.</p>"
            },
            "user": {
                "username": "MatthewTurk",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "display_name": "Matt Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/435/comments/123081"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/435/_/diff#comment-123081"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/samskillman/yt:0d2a983d8924..5fb26616584a?path=yt%2Fvisualization%2Fimage_writer.py"
                }
            },
            "created_on": "2013-02-19T15:56:25.948598+00:00",
            "updated_on": "2013-02-19T15:56:25.957389+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/435"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/435"
                    }
                },
                "title": "Upgrades to ImageArray, Camera image saving, handling arbitrary background colors.",
                "id": 435
            },
            "inline": {
                "to": 506,
                "path": "yt/visualization/image_writer.py",
                "from": null
            },
            "type": "pullrequest_comment",
            "id": 123081
        }
    ],
    "reason": "",
    "type": "pullrequest",
    "close_source_branch": false,
    "state": "MERGED",
    "description": "This PR adds:\r\n\r\n1. Support to the ImageArray to rescale the image to the [0..1] range, either inline or not.\r\n2. Changes the internal API in camera image saving, making a few arguments kwargs, re-ordering things a bit, and adding support for transparent images.\r\n3. Sets the alpha channel to 1.0 in all grey_opacity=False renders, helping the image saving/clipping process, avoiding lots of divide by zero issues.\r\n4. Modifies the line-drawing to be alpha-channel aware, enabling line drawing on opaque/transparent images more cleanly.\r\n5. Adds the ability for ImageArray.write_png() to be given a background color argument.  Right now it can be 'black' (default), 'white', None (transparent), or an [r,g,b,a] array-like argument for an abitrary color.  See the docstrings of ImageArray.write_png for an example.\r\n\r\nThis considerably eases the pain of writing out images received from cam.snapshot() in that one can now just do im.write_png('new.png', background='white')\r\n\r\nUpdate 1: squish a couple buggy calls.\r\n\r\nUpdate 2: More modifications to make the behavior as similar as possible to old example scripts.  One or two will need to be slightly modified, specifically the example in the volume_rendering.rst.  \r\n\r\nUpdate 3: Sorry, another little buggy.\r\n\r\nUpdate 4: Preserving backwards compatibility of grey_opacity=False instead of my preferred behavior.\r\n\r\nUpdate 5: Getting rid of __main__ function in image_array.py, moving into test_image_array.py\r\n\r\nUpdate 6: Addressing @MatthewTurk 's comments, adding display_in_notebook helper function, because I'd like to use it in a notebook to share.",
    "author": {
        "username": "samskillman",
        "type": "user",
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/samskillman"
            },
            "html": {
                "href": "https://bitbucket.org/samskillman/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/samskillman/avatar/32/"
            }
        },
        "display_name": "Sam Skillman",
        "uuid": "{b03f9d96-1c52-4f21-bbdc-72f8e2a97a81}"
    },
    "updated_on": "2013-02-19T15:56:40.676251+00:00",
    "destination": {
        "repository": {
            "full_name": "yt_analysis/yt",
            "uuid": "{b73cb37c-40f2-493a-aaa9-41bc8d8974cc}",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/yt_analysis/yt/avatar/32/"
                }
            },
            "name": "yt"
        },
        "commit": {
            "hash": "5fb26616584a",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/5fb26616584a"
                }
            }
        },
        "branch": {
            "name": "yt"
        }
    }
}