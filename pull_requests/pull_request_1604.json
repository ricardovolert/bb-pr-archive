{
    "links": {
        "decline": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1604/decline"
        },
        "approve": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1604/approve"
        },
        "html": {
            "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1604"
        },
        "activity": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1604/activity"
        },
        "self": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1604"
        },
        "commits": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1604/commits"
        },
        "merge": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1604/merge"
        },
        "statuses": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1604/statuses"
        },
        "comments": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1604/comments"
        },
        "diff": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1604/diff"
        }
    },
    "task_count": 0,
    "source": {
        "repository": {
            "full_name": "chummels/yt",
            "uuid": "{cc72b7fe-3d37-4cd2-a367-f2de113a2e82}",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/chummels/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/chummels/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/chummels/yt/avatar/32/"
                }
            },
            "name": "yt"
        },
        "commit": {
            "hash": "242b9f739613",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/chummels/yt/commit/242b9f739613"
                }
            }
        },
        "branch": {
            "name": "yt"
        }
    },
    "closed_by": {
        "username": "MatthewTurk",
        "type": "user",
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
            },
            "html": {
                "href": "https://bitbucket.org/MatthewTurk/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
            }
        },
        "display_name": "Matt Turk",
        "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}"
    },
    "title": "Adding support for Gadget Nx4 metallicity fields",
    "id": 1604,
    "comment_count": 11,
    "created_on": "2015-05-30T00:30:45.292213+00:00",
    "merge_commit": null,
    "comments": [
        {
            "content": {
                "markup": "markdown",
                "raw": "Looks very promising, thanks!\n\nOne quick thought which I told you on slack -- we'll want to get aliases in here, which does *not* need to be a part of this PR, so that the metals look like metals.  There's an existing species framework that can handle this if they match the naming scheme, which should work well for this use case.",
                "html": "<p>Looks very promising, thanks!</p>\n<p>One quick thought which I told you on slack -- we'll want to get aliases in here, which does <em>not</em> need to be a part of this PR, so that the metals look like metals.  There's an existing species framework that can handle this if they match the naming scheme, which should work well for this use case.</p>"
            },
            "user": {
                "username": "MatthewTurk",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "display_name": "Matt Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1604/comments/7196158"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1604/_/diff#comment-7196158"
                }
            },
            "created_on": "2015-05-30T00:35:45.855929+00:00",
            "updated_on": "2015-05-30T00:35:45.864049+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1604"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1604"
                    }
                },
                "title": "Adding support for Gadget Nx4 metallicity fields",
                "id": 1604
            },
            "type": "pullrequest_comment",
            "id": 7196158
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "This is a good canary for when we end up adding generic tensor or vector fields.",
                "html": "<p>This is a good canary for when we end up adding generic tensor or vector fields.</p>"
            },
            "user": {
                "username": "MatthewTurk",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "display_name": "Matt Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1604/comments/7196161"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1604/_/diff#comment-7196161"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/chummels/yt:242b9f739613..ab1bd145878f?path=yt%2Ffields%2Ffield_detector.py"
                }
            },
            "created_on": "2015-05-30T00:36:46.628111+00:00",
            "updated_on": "2015-05-30T00:36:46.637342+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1604"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1604"
                    }
                },
                "title": "Adding support for Gadget Nx4 metallicity fields",
                "id": 1604
            },
            "inline": {
                "to": 139,
                "path": "yt/fields/field_detector.py",
                "from": null
            },
            "type": "pullrequest_comment",
            "id": 7196161
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Could we split this into a separate routine?  `_setup_four_metal_fractions` or something?",
                "html": "<p>Could we split this into a separate routine?  <code>_setup_four_metal_fractions</code> or something?</p>"
            },
            "user": {
                "username": "MatthewTurk",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "display_name": "Matt Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1604/comments/7196165"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1604/_/diff#comment-7196165"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/chummels/yt:98b3bad6d406..ab1bd145878f?path=yt%2Ffrontends%2Fgadget%2Ffields.py"
                }
            },
            "created_on": "2015-05-30T00:37:21.914497+00:00",
            "updated_on": "2015-05-30T00:37:21.923381+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1604"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1604"
                    }
                },
                "title": "Adding support for Gadget Nx4 metallicity fields",
                "id": 1604
            },
            "inline": {
                "to": 30,
                "path": "yt/frontends/gadget/fields.py",
                "from": null
            },
            "type": "pullrequest_comment",
            "id": 7196165
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Could we do `for i, metal_name in enumerate(metal_fraction_names)`",
                "html": "<p>Could we do <code>for i, metal_name in enumerate(metal_fraction_names)</code></p>"
            },
            "user": {
                "username": "MatthewTurk",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "display_name": "Matt Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1604/comments/7196167"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1604/_/diff#comment-7196167"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/chummels/yt:98b3bad6d406..ab1bd145878f?path=yt%2Ffrontends%2Fgadget%2Ffields.py"
                }
            },
            "created_on": "2015-05-30T00:37:50.156774+00:00",
            "updated_on": "2015-05-30T00:37:50.164104+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1604"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1604"
                    }
                },
                "title": "Adding support for Gadget Nx4 metallicity fields",
                "id": 1604
            },
            "inline": {
                "to": 32,
                "path": "yt/frontends/gadget/fields.py",
                "from": null
            },
            "type": "pullrequest_comment",
            "id": 7196167
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Ah, I misunderstood your question on Slack.  I actually think that if you change this to be \"g/cm**3\" it will *correctly* convert this field.  Only the primitive, on-disk fields would be problematic to do that way.",
                "html": "<p>Ah, I misunderstood your question on Slack.  I actually think that if you change this to be \"g/cm<em><em>3\" it will </em>correctly</em> convert this field.  Only the primitive, on-disk fields would be problematic to do that way.</p>"
            },
            "user": {
                "username": "MatthewTurk",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "display_name": "Matt Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1604/comments/7196173"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1604/_/diff#comment-7196173"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/chummels/yt:98b3bad6d406..ab1bd145878f?path=yt%2Ffrontends%2Fgadget%2Ffields.py"
                }
            },
            "created_on": "2015-05-30T00:38:48.389460+00:00",
            "updated_on": "2015-05-30T00:38:48.396594+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1604"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1604"
                    }
                },
                "title": "Adding support for Gadget Nx4 metallicity fields",
                "id": 1604
            },
            "inline": {
                "to": 55,
                "path": "yt/frontends/gadget/fields.py",
                "from": null
            },
            "type": "pullrequest_comment",
            "id": 7196173
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Clean and simple implementation; nice work to you and @langmm !",
                "html": "<p>Clean and simple implementation; nice work to you and <a href=\"/langmm/\" rel=\"nofollow\" title=\"@langmm\" class=\"mention\">Meagan Lang</a> !</p>"
            },
            "user": {
                "username": "MatthewTurk",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "display_name": "Matt Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1604/comments/7196177"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1604/_/diff#comment-7196177"
                }
            },
            "created_on": "2015-05-30T00:39:34.935132+00:00",
            "updated_on": "2015-05-30T00:39:35.001420+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1604"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1604"
                    }
                },
                "title": "Adding support for Gadget Nx4 metallicity fields",
                "id": 1604
            },
            "type": "pullrequest_comment",
            "id": 7196177
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "I tried that initially, and I don't think it worked. I'll take another look at this, though.",
                "html": "<p>I tried that initially, and I don't think it worked. I'll take another look at this, though.</p>"
            },
            "user": {
                "username": "chummels",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/chummels"
                    },
                    "html": {
                        "href": "https://bitbucket.org/chummels/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/chummels/avatar/32/"
                    }
                },
                "display_name": "chummels",
                "uuid": "{de871bb8-32e9-450a-b8c9-2b49a1334f16}"
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1604/comments/7196173"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1604/_/diff#comment-7196173"
                    }
                },
                "id": 7196173
            },
            "created_on": "2015-05-30T01:02:03.552677+00:00",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1604/comments/7196263"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1604/_/diff#comment-7196263"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/chummels/yt:None..None?path=yt%2Ffrontends%2Fgadget%2Ffields.py"
                }
            },
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1604"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1604"
                    }
                },
                "title": "Adding support for Gadget Nx4 metallicity fields",
                "id": 1604
            },
            "inline": {
                "to": null,
                "path": "yt/frontends/gadget/fields.py",
                "from": null
            },
            "type": "pullrequest_comment",
            "id": 7196263,
            "updated_on": "2015-05-30T01:02:03.566140+00:00"
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Something went wrong, you should checkout http://hub.yt:8080/job/yt_testsuite_dev/111/",
                "html": "<p>Something went wrong, you should checkout <a href=\"http://hub.yt:8080/job/yt_testsuite_dev/111/\" rel=\"nofollow\">http://hub.yt:8080/job/yt_testsuite_dev/111/</a></p>"
            },
            "user": {
                "username": "yt-fido",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1604/comments/7196293"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1604/_/diff#comment-7196293"
                }
            },
            "created_on": "2015-05-30T01:12:18.841207+00:00",
            "updated_on": "2015-05-30T01:12:19.022702+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1604"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1604"
                    }
                },
                "title": "Adding support for Gadget Nx4 metallicity fields",
                "id": 1604
            },
            "type": "pullrequest_comment",
            "id": 7196293
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "So this is the thing that fails -- `self._vector_fields` is not necessarily a dict.  You can potentially fix this by either turning it into a dict in the IO handler baseclass `__init__`, or you could check if it's a dict here and if it's not default it to three.  I'd prefer the former.",
                "html": "<p>So this is the thing that fails -- <code>self._vector_fields</code> is not necessarily a dict.  You can potentially fix this by either turning it into a dict in the IO handler baseclass <code>__init__</code>, or you could check if it's a dict here and if it's not default it to three.  I'd prefer the former.</p>"
            },
            "user": {
                "username": "MatthewTurk",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "display_name": "Matt Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1604/comments/7223886"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1604/_/diff#comment-7223886"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/chummels/yt:98b3bad6d406..ab1bd145878f?path=yt%2Futilities%2Fio_handler.py"
                }
            },
            "created_on": "2015-06-01T19:36:22.228360+00:00",
            "updated_on": "2015-06-01T19:36:22.233429+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1604"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1604"
                    }
                },
                "title": "Adding support for Gadget Nx4 metallicity fields",
                "id": 1604
            },
            "inline": {
                "to": 169,
                "path": "yt/utilities/io_handler.py",
                "from": null
            },
            "type": "pullrequest_comment",
            "id": 7223886
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "All tests pass. Good job!",
                "html": "<p>All tests pass. Good job!</p>"
            },
            "user": {
                "username": "yt-fido",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1604/comments/7346836"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1604/_/diff#comment-7346836"
                }
            },
            "created_on": "2015-06-06T01:22:18.539237+00:00",
            "updated_on": "2015-06-06T01:22:18.600066+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1604"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1604"
                    }
                },
                "title": "Adding support for Gadget Nx4 metallicity fields",
                "id": 1604
            },
            "type": "pullrequest_comment",
            "id": 7346836
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "LGTM!",
                "html": "<p>LGTM!</p>"
            },
            "user": {
                "username": "MatthewTurk",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "display_name": "Matt Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1604/comments/7348126"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1604/_/diff#comment-7348126"
                }
            },
            "created_on": "2015-06-06T15:29:21.774104+00:00",
            "updated_on": "2015-06-06T15:29:21.781846+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/1604"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/1604"
                    }
                },
                "title": "Adding support for Gadget Nx4 metallicity fields",
                "id": 1604
            },
            "type": "pullrequest_comment",
            "id": 7348126
        }
    ],
    "reason": "",
    "type": "pullrequest",
    "close_source_branch": false,
    "state": "MERGED",
    "description": "This PR is the work of myself and @langmm with some tips from @MatthewTurk.\r\n\r\nWe recently encountered some gadget datasets from the Oppenheimer and Dave group which pack metals into an Nx4 structure in the binary output.  Currently, yt can only handle Nx3 arrays for vector fields, so this PR generalizes that to deal with these new data formats.  It grabs the field as 'FourMetalFractions', then unpacks it into the various metal fractions it represents, before turning it into 4 metal density fields and then creating smoothed deposited fields for both the metal fractions and the metal densities.  I've tested these results out on a sample dataset provided by @benopp , and it can produce a nice projection of metal density as using [this script](http://paste.yt-project.org/show/5609/):\r\n\r\n![hrBWFeC.png](https://bitbucket.org/repo/BXbAb/images/2113819966-hrBWFeC.png)\r\n\r\nUPDATE1: I have accounted for @MatthewTurk 's comments to modularize the code and correct a problem that broke `vector_fields` for other particle-based frontends.",
    "author": {
        "username": "chummels",
        "type": "user",
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/chummels"
            },
            "html": {
                "href": "https://bitbucket.org/chummels/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/chummels/avatar/32/"
            }
        },
        "display_name": "chummels",
        "uuid": "{de871bb8-32e9-450a-b8c9-2b49a1334f16}"
    },
    "updated_on": "2015-06-06T15:29:31.570557+00:00",
    "destination": {
        "repository": {
            "full_name": "yt_analysis/yt",
            "uuid": "{b73cb37c-40f2-493a-aaa9-41bc8d8974cc}",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/yt_analysis/yt/avatar/32/"
                }
            },
            "name": "yt"
        },
        "commit": {
            "hash": "ab1bd145878f",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/ab1bd145878f"
                }
            }
        },
        "branch": {
            "name": "yt"
        }
    }
}