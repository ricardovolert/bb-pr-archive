{
    "reason": "",
    "state": "MERGED",
    "updated_on": "2016-11-30T18:12:54.364607+00:00",
    "comment_count": 3,
    "description": "Because there are some negative HI number densities in the gizmo_cosmology_plus sample dataset, I just decided to include this simple check in the absorption spectrum code to floor them at 0 and warn the user.",
    "created_on": "2016-11-30T01:54:37.799903+00:00",
    "task_count": 0,
    "merge_commit": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/6b9446812391"
            }
        },
        "hash": "6b9446812391"
    },
    "title": "Adding check for negative column densities in absorption spectrum with warning.",
    "links": {
        "diff": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2450/diff"
        },
        "decline": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2450/decline"
        },
        "self": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2450"
        },
        "activity": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2450/activity"
        },
        "merge": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2450/merge"
        },
        "commits": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2450/commits"
        },
        "statuses": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2450/statuses"
        },
        "approve": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2450/approve"
        },
        "html": {
            "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2450"
        },
        "comments": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2450/comments"
        }
    },
    "closed_by": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
            },
            "html": {
                "href": "https://bitbucket.org/ngoldbaum/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "Nathan Goldbaum",
        "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
        "username": "ngoldbaum"
    },
    "id": 2450,
    "type": "pullrequest",
    "author": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/chummels"
            },
            "html": {
                "href": "https://bitbucket.org/chummels/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/chummels/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "chummels",
        "uuid": "{de871bb8-32e9-450a-b8c9-2b49a1334f16}",
        "username": "chummels"
    },
    "source": {
        "branch": {
            "name": "yt"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/chummels/yt/commit/a43ef2fb0790"
                }
            },
            "hash": "a43ef2fb0790"
        },
        "repository": {
            "full_name": "chummels/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/chummels/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/chummels/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/chummels/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{cc72b7fe-3d37-4cd2-a367-f2de113a2e82}"
        }
    },
    "close_source_branch": false,
    "destination": {
        "branch": {
            "name": "yt"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/1c3b1ee85942"
                }
            },
            "hash": "1c3b1ee85942"
        },
        "repository": {
            "full_name": "yt_analysis/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/yt_analysis/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{b73cb37c-40f2-493a-aaa9-41bc8d8974cc}"
        }
    },
    "comments": [
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2450/comments/27568440"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2450/_/diff#comment-27568440"
                }
            },
            "pullrequest": {
                "title": "Adding check for negative column densities in absorption spectrum with warning.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2450"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2450"
                    }
                },
                "id": 2450
            },
            "content": {
                "raw": "* All tests pass. Good job! https://tests.yt-project.org/job/yt_testsuite/398/\n",
                "html": "<ul>\n<li>All tests pass. Good job! <a href=\"https://tests.yt-project.org/job/yt_testsuite/398/\" rel=\"nofollow\">https://tests.yt-project.org/job/yt_testsuite/398/</a></li>\n</ul>",
                "markup": "markdown"
            },
            "created_on": "2016-11-30T03:02:26.639044+00:00",
            "updated_on": "2016-11-30T03:02:26.706880+00:00",
            "id": 27568440
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2450/comments/27568553"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2450/_/diff#comment-27568553"
                }
            },
            "pullrequest": {
                "title": "Adding check for negative column densities in absorption spectrum with warning.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2450"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2450"
                    }
                },
                "id": 2450
            },
            "content": {
                "raw": "Just out of curiosity, are the negative densities in the original Gizmo output file or is it somehow an artifact that yt is introducing?",
                "html": "<p>Just out of curiosity, are the negative densities in the original Gizmo output file or is it somehow an artifact that yt is introducing?</p>",
                "markup": "markdown"
            },
            "created_on": "2016-11-30T03:08:06.893091+00:00",
            "updated_on": "2016-11-30T03:08:06.899491+00:00",
            "id": 27568553
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/chummels"
                    },
                    "html": {
                        "href": "https://bitbucket.org/chummels/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/chummels/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "chummels",
                "uuid": "{de871bb8-32e9-450a-b8c9-2b49a1334f16}",
                "username": "chummels"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2450/comments/27569550"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2450/_/diff#comment-27569550"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2450/comments/27568553"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2450/_/diff#comment-27568553"
                    }
                },
                "id": 27568553
            },
            "pullrequest": {
                "title": "Adding check for negative column densities in absorption spectrum with warning.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2450"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2450"
                    }
                },
                "id": 2450
            },
            "content": {
                "raw": "The problem stems from the `NeutralHydrogenAbundance` field in the gizmo_cosmology_plus run.  It has some negative values in the original HDF5 output, which can be seen by manually inspecting the hdf5 file outside of yt.  Obviously, one cannot have negative neutral hydrogen abundance, so as far as I can see, yt is treating this correctly, and the problem is in the dataset itself.  I just want to guard ourselves against unphysical business, especially with a sample dataset we provide as one of the defaults for fiddling with SPH codes with the `LightRay` and `AbsorptionSpectrum` analysis modules.",
                "html": "<p>The problem stems from the <code>NeutralHydrogenAbundance</code> field in the gizmo_cosmology_plus run.  It has some negative values in the original HDF5 output, which can be seen by manually inspecting the hdf5 file outside of yt.  Obviously, one cannot have negative neutral hydrogen abundance, so as far as I can see, yt is treating this correctly, and the problem is in the dataset itself.  I just want to guard ourselves against unphysical business, especially with a sample dataset we provide as one of the defaults for fiddling with SPH codes with the <code>LightRay</code> and <code>AbsorptionSpectrum</code> analysis modules.</p>",
                "markup": "markdown"
            },
            "created_on": "2016-11-30T03:56:53.374080+00:00",
            "updated_on": "2016-11-30T03:56:53.376001+00:00",
            "id": 27569550
        }
    ]
}