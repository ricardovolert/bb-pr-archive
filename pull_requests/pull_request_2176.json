{
    "links": {
        "decline": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2176/decline"
        },
        "approve": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2176/approve"
        },
        "html": {
            "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2176"
        },
        "activity": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2176/activity"
        },
        "self": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2176"
        },
        "commits": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2176/commits"
        },
        "merge": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2176/merge"
        },
        "statuses": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2176/statuses"
        },
        "comments": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2176/comments"
        },
        "diff": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2176/diff"
        }
    },
    "task_count": 0,
    "source": {
        "repository": {
            "full_name": "ngoldbaum/yt",
            "uuid": "{cb18d7d9-ab77-4e80-81ed-8d32a945e0ef}",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/ngoldbaum/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/ngoldbaum/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/ngoldbaum/yt/avatar/32/"
                }
            },
            "name": "yt"
        },
        "commit": {
            "hash": "0ad80d267114",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/ngoldbaum/yt/commit/0ad80d267114"
                }
            }
        },
        "branch": {
            "name": "yt"
        }
    },
    "closed_by": {
        "username": "bwkeller",
        "type": "user",
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/bwkeller"
            },
            "html": {
                "href": "https://bitbucket.org/bwkeller/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/bwkeller/avatar/32/"
            }
        },
        "display_name": "Ben Keller",
        "uuid": "{1719424c-ccde-435f-aa44-5102314e6b2d}"
    },
    "title": "[new feature] add ds.particle_type_counts. Closes #718",
    "id": 2176,
    "comment_count": 2,
    "created_on": "2016-05-15T21:37:49.389777+00:00",
    "merge_commit": {
        "hash": "027e7591dc5a",
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/027e7591dc5a"
            }
        }
    },
    "comments": [
        {
            "content": {
                "markup": "markdown",
                "raw": "Still needs documentation",
                "html": "<p>Still needs documentation</p>"
            },
            "user": {
                "username": "ngoldbaum",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2176/comments/18526857"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2176/_/diff#comment-18526857"
                }
            },
            "created_on": "2016-05-16T14:59:18.447923+00:00",
            "updated_on": "2016-05-16T14:59:18.450337+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2176"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2176"
                    }
                },
                "title": "[new feature] add ds.particle_type_counts. Closes #718",
                "id": 2176
            },
            "type": "pullrequest_comment",
            "id": 18526857
        },
        {
            "content": {
                "markup": "markdown",
                "raw": "Docs were built for this PR. See https://tests.yt-project.org/job/yt_docs/895/\nDocs build visible at https://tests.yt-project.org/job/yt_docs/895/artifact/sandbox/doc/build/html/index.html",
                "html": "<p>Docs were built for this PR. See <a href=\"https://tests.yt-project.org/job/yt_docs/895/\" rel=\"nofollow\">https://tests.yt-project.org/job/yt_docs/895/</a>\nDocs build visible at <a href=\"https://tests.yt-project.org/job/yt_docs/895/artifact/sandbox/doc/build/html/index.html\" rel=\"nofollow\">https://tests.yt-project.org/job/yt_docs/895/artifact/sandbox/doc/build/html/index.html</a></p>"
            },
            "user": {
                "username": "yt-fido",
                "type": "user",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}"
            },
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2176/comments/18957070"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2176/_/diff#comment-18957070"
                }
            },
            "created_on": "2016-05-26T00:44:44.050437+00:00",
            "updated_on": "2016-05-26T00:44:44.273836+00:00",
            "pullrequest": {
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/2176"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/2176"
                    }
                },
                "title": "[new feature] add ds.particle_type_counts. Closes #718",
                "id": 2176
            },
            "type": "pullrequest_comment",
            "id": 18957070
        }
    ],
    "reason": "",
    "type": "pullrequest",
    "close_source_branch": false,
    "state": "MERGED",
    "description": "This is a convenience property for finding the number of particles by type over the whole simulation.\r\n\r\nThis isn't done but I'm not marking it wip so the tests run. It still needs docstrings and docs, and the skeleton frontend should be updated with some information about this.\r\n\r\nI've implemented `ds.particle_type_counts` as a cached property that hangs off of the `Dataset` base class. It calls a private `Index` member function named `_get_particle_type_counts`, that frontends or geometry handlers can implement. The particle frontends are handled by my modifications to `ParticleIndx` and most of the grid frontends are handled by my modifications to `GridIndex`. The enzo frontends needs some special casing for active praticles. The oct frontends all need custom implementations because the octree geometry handler doesn't know about particles.\r\n\r\nMost of the implementations don't need an I/O pass over the data (beyond the one needed to construct the index). I've implemented this by reading in the `PID` field for artio because I don't want to understand the artio cython code deeply. If someone is interested in improving this for artio they should feel free to fix this.\r\n\r\nI'd be happy to bikeshed the name and the return type of the property if people have opinions. See the tests for examples of usages.\r\n\r\nUpdate: added documentation.",
    "author": {
        "username": "ngoldbaum",
        "type": "user",
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
            },
            "html": {
                "href": "https://bitbucket.org/ngoldbaum/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
            }
        },
        "display_name": "Nathan Goldbaum",
        "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}"
    },
    "updated_on": "2016-05-26T20:41:50.162220+00:00",
    "destination": {
        "repository": {
            "full_name": "yt_analysis/yt",
            "uuid": "{b73cb37c-40f2-493a-aaa9-41bc8d8974cc}",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/yt_analysis/yt/avatar/32/"
                }
            },
            "name": "yt"
        },
        "commit": {
            "hash": "f609b1cbd8dd",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/f609b1cbd8dd"
                }
            }
        },
        "branch": {
            "name": "yt"
        }
    }
}