{
    "reason": "",
    "state": "MERGED",
    "updated_on": "2013-12-05T15:37:38.651332+00:00",
    "comment_count": 7,
    "description": "1) Bringing the Athena frontend up to speed with 3.0.   \r\n2) Getting rid of a lot of the convoluted WCS logic in the FITS frontend, and proposing that for all FITS files \"code units\" == \"pixel units\". In particular, we no longer create a WCS object, but we retain the one generated from the file for future reference. Perhaps for creating fields based on it?   \r\n    \r\nAlso, @MatthewTurk and I think we should add in decomposition at some point as well. ",
    "created_on": "2013-12-05T05:42:31.978582+00:00",
    "task_count": 0,
    "merge_commit": null,
    "title": "Making the Athena frontend compatible with 3.0 and some refactoring of the FITS frontend.",
    "links": {
        "diff": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/671/diff"
        },
        "decline": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/671/decline"
        },
        "self": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/671"
        },
        "activity": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/671/activity"
        },
        "merge": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/671/merge"
        },
        "commits": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/671/commits"
        },
        "statuses": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/671/statuses"
        },
        "approve": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/671/approve"
        },
        "html": {
            "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/671"
        },
        "comments": {
            "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/671/comments"
        }
    },
    "closed_by": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
            },
            "html": {
                "href": "https://bitbucket.org/MatthewTurk/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "Matt Turk",
        "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
        "username": "MatthewTurk"
    },
    "id": 671,
    "type": "pullrequest",
    "author": {
        "links": {
            "self": {
                "href": "https://api.bitbucket.org/2.0/users/jzuhone"
            },
            "html": {
                "href": "https://bitbucket.org/jzuhone/"
            },
            "avatar": {
                "href": "https://bitbucket.org/account/jzuhone/avatar/32/"
            }
        },
        "type": "user",
        "display_name": "John ZuHone",
        "uuid": "{0c51edfa-e317-432f-bbef-7401c6e2aa8a}",
        "username": "jzuhone"
    },
    "source": {
        "branch": {
            "name": "yt-3.0"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/jzuhone/yt-3.x/commit/c062561ed189"
                }
            },
            "hash": "c062561ed189"
        },
        "repository": {
            "full_name": "jzuhone/yt-3.x",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/jzuhone/yt-3.x"
                },
                "html": {
                    "href": "https://bitbucket.org/jzuhone/yt-3.x"
                },
                "avatar": {
                    "href": "https://bitbucket.org/jzuhone/yt-3.x/avatar/32/"
                }
            },
            "name": "yt-3.x",
            "uuid": "{a412b917-f04d-4344-8e3a-f215a6a7976c}"
        }
    },
    "close_source_branch": false,
    "destination": {
        "branch": {
            "name": "yt-3.0"
        },
        "commit": {
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/commit/8ed709644790"
                }
            },
            "hash": "8ed709644790"
        },
        "repository": {
            "full_name": "yt_analysis/yt",
            "type": "repository",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt"
                },
                "avatar": {
                    "href": "https://bitbucket.org/yt_analysis/yt/avatar/32/"
                }
            },
            "name": "yt",
            "uuid": "{b73cb37c-40f2-493a-aaa9-41bc8d8974cc}"
        }
    },
    "comments": [
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/jzuhone"
                    },
                    "html": {
                        "href": "https://bitbucket.org/jzuhone/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/jzuhone/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "John ZuHone",
                "uuid": "{0c51edfa-e317-432f-bbef-7401c6e2aa8a}",
                "username": "jzuhone"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/671/comments/907181"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/671/_/diff#comment-907181"
                }
            },
            "pullrequest": {
                "title": "Making the Athena frontend compatible with 3.0 and some refactoring of the FITS frontend.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/671"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/671"
                    }
                },
                "id": 671
            },
            "content": {
                "raw": "I think that this will probably make a lot more sense after the units refactor goes in. ",
                "html": "<p>I think that this will probably make a lot more sense after the units refactor goes in. </p>",
                "markup": "markdown"
            },
            "created_on": "2013-12-05T05:43:31.408355+00:00",
            "updated_on": "2013-12-05T05:43:31.416052+00:00",
            "id": 907181
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/yt-fido"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt-fido/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/yt-fido/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "yt-fido",
                "uuid": "{da2aa332-3f05-45c9-ae53-ff5ba34b35ce}",
                "username": "yt-fido"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/671/comments/907251"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/671/_/diff#comment-907251"
                }
            },
            "pullrequest": {
                "title": "Making the Athena frontend compatible with 3.0 and some refactoring of the FITS frontend.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/671"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/671"
                    }
                },
                "id": 671
            },
            "content": {
                "raw": "All tests pass. Good job!",
                "html": "<p>All tests pass. Good job!</p>",
                "markup": "markdown"
            },
            "created_on": "2013-12-05T06:14:04.344964+00:00",
            "updated_on": "2013-12-05T06:14:04.672422+00:00",
            "id": 907251
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/ngoldbaum"
                    },
                    "html": {
                        "href": "https://bitbucket.org/ngoldbaum/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/ngoldbaum/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Nathan Goldbaum",
                "uuid": "{5dcd72da-6420-4a6d-9571-e75dffcac587}",
                "username": "ngoldbaum"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/671/comments/907293"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/671/_/diff#comment-907293"
                }
            },
            "pullrequest": {
                "title": "Making the Athena frontend compatible with 3.0 and some refactoring of the FITS frontend.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/671"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/671"
                    }
                },
                "id": 671
            },
            "content": {
                "raw": "With the following diff relative to the tip of this PR: http://paste.yt-project.org/show/4109/\n\nI was able to make the following plot: http://i.imgur.com/KdVaRbj.jpg\n\nusing the following script: http://paste.yt-project.org/show/4111/\n\nThis uses the 13CO data at galactic longitude 24 degrees from the [Galactic Ring Survey](http://www.bu.edu/galacticring/new_data.html).  It loaded just fine - it's really easy to open FITS data cubes now!\n\nI'll leave it up to you guys to decide if my modifications in `plot_window.py` are worth including.",
                "html": "<p>With the following diff relative to the tip of this PR: <a href=\"http://paste.yt-project.org/show/4109/\" rel=\"nofollow\">http://paste.yt-project.org/show/4109/</a></p>\n<p>I was able to make the following plot: <a href=\"http://i.imgur.com/KdVaRbj.jpg\" rel=\"nofollow\">http://i.imgur.com/KdVaRbj.jpg</a></p>\n<p>using the following script: <a href=\"http://paste.yt-project.org/show/4111/\" rel=\"nofollow\">http://paste.yt-project.org/show/4111/</a></p>\n<p>This uses the 13CO data at galactic longitude 24 degrees from the <a href=\"http://www.bu.edu/galacticring/new_data.html\">Galactic Ring Survey</a>.  It loaded just fine - it's really easy to open FITS data cubes now!</p>\n<p>I'll leave it up to you guys to decide if my modifications in <code>plot_window.py</code> are worth including.</p>",
                "markup": "markdown"
            },
            "created_on": "2013-12-05T06:30:37.336894+00:00",
            "updated_on": "2013-12-05T06:33:29.462908+00:00",
            "id": 907293
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/671/comments/909548"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/671/_/diff#comment-909548"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/671/comments/907293"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/671/_/diff#comment-907293"
                    }
                },
                "id": 907293
            },
            "pullrequest": {
                "title": "Making the Athena frontend compatible with 3.0 and some refactoring of the FITS frontend.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/671"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/671"
                    }
                },
                "id": 671
            },
            "content": {
                "raw": "These are nice changes.  I have been doing some thinking about the issue of non-spatial coordinates, and I agree, it's going to be kind of challenging if we also want to maintain a metric, as the metric will vary along dimensions.  However, I do think it will be feasible if we can describe a functional form, like `dz = f(x,y,dz')`.  Note that this is not the same as defining a volume element or anything like that, merely defining a method of addressing points in space; the 'z' here does not have to be spatial.  The changes necessary for that are basically identical to the changes underway for irregular grids, unstructured meshes, and non-cartesian coordinates.  So it's not pointless.\n\nBut, as John has noted elsewhere, the goal is not to re-implement APLpy or DS9.  It's to utilize FITS as a data source and apply yt operations to them.  Things like volume rendering, phase plots, and ultimately domain decomposition, MPI clump finding, and so on.\n\nSo I'd like to see your changes in a subsequent PR.  :)",
                "html": "<p>These are nice changes.  I have been doing some thinking about the issue of non-spatial coordinates, and I agree, it's going to be kind of challenging if we also want to maintain a metric, as the metric will vary along dimensions.  However, I do think it will be feasible if we can describe a functional form, like <code>dz = f(x,y,dz')</code>.  Note that this is not the same as defining a volume element or anything like that, merely defining a method of addressing points in space; the 'z' here does not have to be spatial.  The changes necessary for that are basically identical to the changes underway for irregular grids, unstructured meshes, and non-cartesian coordinates.  So it's not pointless.</p>\n<p>But, as John has noted elsewhere, the goal is not to re-implement APLpy or DS9.  It's to utilize FITS as a data source and apply yt operations to them.  Things like volume rendering, phase plots, and ultimately domain decomposition, MPI clump finding, and so on.</p>\n<p>So I'd like to see your changes in a subsequent PR.  :)</p>",
                "markup": "markdown"
            },
            "created_on": "2013-12-05T14:55:49.611205+00:00",
            "updated_on": "2013-12-05T14:55:49.619526+00:00",
            "id": 909548
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/671/comments/909551"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/jzuhone/yt-3.x:c062561ed189..8ed709644790?path=yt%2Ffrontends%2Ffits%2Fdata_structures.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/671/_/diff#comment-909551"
                }
            },
            "pullrequest": {
                "title": "Making the Athena frontend compatible with 3.0 and some refactoring of the FITS frontend.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/671"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/671"
                    }
                },
                "id": 671
            },
            "content": {
                "raw": "Why do we span 0.5 to 1.5?",
                "html": "<p>Why do we span 0.5 to 1.5?</p>",
                "markup": "markdown"
            },
            "created_on": "2013-12-05T14:56:08.239548+00:00",
            "updated_on": "2013-12-05T14:56:08.254006+00:00",
            "inline": {
                "from": null,
                "path": "yt/frontends/fits/data_structures.py",
                "to": 243
            },
            "id": 909551
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/MatthewTurk"
                    },
                    "html": {
                        "href": "https://bitbucket.org/MatthewTurk/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/MatthewTurk/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "Matthew Turk",
                "uuid": "{b3f0b280-55fc-4e8a-8bd1-40478d4cbdbf}",
                "username": "MatthewTurk"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/671/comments/909553"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/671/_/diff#comment-909553"
                }
            },
            "pullrequest": {
                "title": "Making the Athena frontend compatible with 3.0 and some refactoring of the FITS frontend.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/671"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/671"
                    }
                },
                "id": 671
            },
            "content": {
                "raw": "These changes look good to me, and I like seeing nprocs as a future option!  Other than my one minor question, I'm +1.",
                "html": "<p>These changes look good to me, and I like seeing nprocs as a future option!  Other than my one minor question, I'm +1.</p>",
                "markup": "markdown"
            },
            "created_on": "2013-12-05T14:56:56.805607+00:00",
            "updated_on": "2013-12-05T14:56:56.813711+00:00",
            "id": 909553
        },
        {
            "user": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/jzuhone"
                    },
                    "html": {
                        "href": "https://bitbucket.org/jzuhone/"
                    },
                    "avatar": {
                        "href": "https://bitbucket.org/account/jzuhone/avatar/32/"
                    }
                },
                "type": "user",
                "display_name": "John ZuHone",
                "uuid": "{0c51edfa-e317-432f-bbef-7401c6e2aa8a}",
                "username": "jzuhone"
            },
            "type": "pullrequest_comment",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/671/comments/909822"
                },
                "code": {
                    "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/diff/jzuhone/yt-3.x:None..None?path=yt%2Ffrontends%2Ffits%2Fdata_structures.py"
                },
                "html": {
                    "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/671/_/diff#comment-909822"
                }
            },
            "parent": {
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/671/comments/909551"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/671/_/diff#comment-909551"
                    }
                },
                "id": 909551
            },
            "pullrequest": {
                "title": "Making the Athena frontend compatible with 3.0 and some refactoring of the FITS frontend.",
                "type": "pullrequest",
                "links": {
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/yt_analysis/yt/pullrequests/671"
                    },
                    "html": {
                        "href": "https://bitbucket.org/yt_analysis/yt/pull-requests/671"
                    }
                },
                "id": 671
            },
            "content": {
                "raw": "The way FITS files work is that the center of the \"left edge\" pixel is at 1 in any dimension, which means that the actual \"left edge\" is at 0.5. In this case, I'm just making the domain width 1 pixel in this direction. ",
                "html": "<p>The way FITS files work is that the center of the \"left edge\" pixel is at 1 in any dimension, which means that the actual \"left edge\" is at 0.5. In this case, I'm just making the domain width 1 pixel in this direction. </p>",
                "markup": "markdown"
            },
            "created_on": "2013-12-05T15:34:32.581441+00:00",
            "updated_on": "2013-12-05T15:34:32.589985+00:00",
            "inline": {
                "from": null,
                "path": "yt/frontends/fits/data_structures.py",
                "to": null
            },
            "id": 909822
        }
    ]
}